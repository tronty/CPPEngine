/*! v4946 f9ea9063 */
var __dv_global_script_start_time__="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():void 0,__webpack_modules__={2328:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATA_NODE_KEY=t.MONITORING_TAG_ON_TOP_LEVEL_KEY=t.TRACKING_RATE_KEY=t.TRACKING_EVENT_CATEGORY=t.TRACKING_BASE_URL=t.MAX_WINDOW_DEPTH=void 0,t.MAX_WINDOW_DEPTH=20,t.TRACKING_BASE_URL="https://vtrk.doubleverify.com",t.TRACKING_EVENT_CATEGORY="data-transparency",t.TRACKING_RATE_KEY="dv-data-transparency-tracking-rate",t.MONITORING_TAG_ON_TOP_LEVEL_KEY="dv-data-transparency-top-level-monitoring",t.DATA_NODE_KEY="dv-data-transparency-data-node"},9522:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var i=function(){function e(){this.container={}}return Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this.container).length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.size},e.prototype.clear=function(){this.container={}},e.prototype.get=function(e){if(void 0===this.container[e])throw new Error("undefined container item: "+e);return this.container[e]},e.prototype.set=function(e,t){if(void 0===t)throw new Error("cannot store undefined in container: "+e);this.container[e]=t},e}();t.Container=i},443:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coverageToBitFlag=void 0;t.coverageToBitFlag=function(e){return(e.sellerPageTag?1:0)|(e.sellerMonitoringTag?2:0)|(e.buyerMonitoringTag?4:0)}},1064:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAncestorWindows=void 0;var r=i(2328),n=function(e,t,i,r){if(!(i>=r||e===e.top)){var a=e.parent;a!==e&&(t.unshift(a),n(a,t,i+1,r))}};t.getAncestorWindows=function(e,t){void 0===t&&(t=r.MAX_WINDOW_DEPTH);var i=[];try{n(e,i,0,t)}catch(e){}return i}},1665:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCorrespondentWindow=void 0;var r=i(1064);t.getCorrespondentWindow=function(e,t){var i=(0,r.getAncestorWindows)(e);return i.length===t?e:i.length>t?i[t]:null}},6172:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTimestamp=void 0;t.getCurrentTimestamp=function(){var e,t;try{return null!==(t=null===(e=null===Date||void 0===Date?void 0:Date.now)||void 0===e?void 0:e.call(Date))&&void 0!==t?t:0}catch(e){}return 0}},8839:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDescendantWindows=void 0;var r=i(2328),n=function(e,t,i,r){if(!(i>=r))for(var a=0;a<e.length;a++){var s=e[a];t.push(s),n(s,t,i+1,r)}};t.getDescendantWindows=function(e,t){void 0===t&&(t=r.MAX_WINDOW_DEPTH);var i=[];try{n(e,i,0,t)}catch(e){}return i}},135:function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.validateWindow=t.getDescendantWindows=t.getCurrentTimestamp=t.getCorrespondentWindow=t.getAncestorWindows=t.coverageToBitFlag=t.Container=void 0,n(i(2328),t);var a=i(9522);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return a.Container}});var s=i(443);Object.defineProperty(t,"coverageToBitFlag",{enumerable:!0,get:function(){return s.coverageToBitFlag}});var o=i(1064);Object.defineProperty(t,"getAncestorWindows",{enumerable:!0,get:function(){return o.getAncestorWindows}});var d=i(1665);Object.defineProperty(t,"getCorrespondentWindow",{enumerable:!0,get:function(){return d.getCorrespondentWindow}});var l=i(6172);Object.defineProperty(t,"getCurrentTimestamp",{enumerable:!0,get:function(){return l.getCurrentTimestamp}});var c=i(8839);Object.defineProperty(t,"getDescendantWindows",{enumerable:!0,get:function(){return c.getDescendantWindows}});var u=i(7924);Object.defineProperty(t,"validateWindow",{enumerable:!0,get:function(){return u.validateWindow}})},7924:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateWindow=void 0;t.validateWindow=function(e){try{return null!=e&&null!=e.top&&null!=e.parent&&null!=e.length&&e.window===e&&"function"==typeof e.postMessage}catch(e){return!1}}},6777:function(e,t,i){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,a=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return s},a=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var r,n=0,a=t.length;n<a;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DataNode=void 0;var s=i(135),o=i(6240),d=i(2749),l=i(4419),c=function(){function e(e,t){void 0===t&&(t=!1),this.sharedState=(0,l.getEmptyState)(),this.correspondents=[],this.localTagSubscriptions=[],this.dispatchMessageListeners=[],this.hostWindow=e,this.hostWindowDepth=(0,s.getAncestorWindows)(this.hostWindow).length,this.hubWindow=this.hostWindow,this.hubWindowDepth=this.hostWindowDepth,this.broadcastingDisabled=t}return Object.defineProperty(e.prototype,"depth",{get:function(){return this.hostWindowDepth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDispatchMessage",{set:function(e){this.dispatchMessageListeners.push(e)},enumerable:!1,configurable:!0}),e.prototype.isHub=function(){return this.hubWindow===this.hostWindow},e.prototype.isAllowedToCorrespond=function(){return this.localTagSubscriptions.length>0},e.prototype.mergeState=function(e){var t=(0,o.updateSharedState)(this.sharedState,e),i=t.newState,r=t.stateWasUpdated,n=t.inputWasIncomplete;return this.sharedState=i,{stateWasUpdated:r,inputWasIncomplete:n}},e.prototype.composeMessage=function(e){return void 0===e&&(e=!1),{sharedState:(0,d.copyState)(this.sharedState),source:{windowDepth:this.hostWindowDepth,canBecomeHub:!0,responseRequired:e}}},e.prototype.registerCorrespondent=function(e,t,i){e===this.hostWindow||this.correspondents.includes(e)||(this.correspondents.push(e),i&&(null==this.hubWindow||t<this.hubWindowDepth)&&(this.hubWindow=e,this.hubWindowDepth=t))},e.prototype.dispatchMessage=function(e,t){var i,n,a,o;if(0!==t.length){var d={command:"data-transparency-update",payload:e,timestamp:(0,s.getCurrentTimestamp)()};try{for(var l=r(t),c=l.next();!c.done;c=l.next()){var u=c.value;try{u.postMessage(d,"*")}catch(e){}}}catch(e){i={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}try{for(var p=r(this.dispatchMessageListeners),h=p.next();!h.done;h=p.next()){(0,h.value)(d,t)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}}},e.prototype.notifyLocalTags=function(){var e,t;try{for(var i=r(this.localTagSubscriptions),n=i.next();!n.done;n=i.next()){(0,n.value)(this.sharedState)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.notifyAllowedCorrespondents=function(e){if(this.isAllowedToCorrespond()){var t=[];this.isHub()?t.push.apply(t,a([],n(this.correspondents.filter((function(t){return t!==e}))),!1)):this.hubWindow!==e&&t.push(this.hubWindow),this.dispatchMessage(this.composeMessage(),t)}},e.prototype.notifyCorrespondent=function(e){this.isAllowedToCorrespond()&&this.dispatchMessage(this.composeMessage(),[e])},e.prototype.broadCastState=function(){var e=this;if(!this.broadcastingDisabled&&this.isAllowedToCorrespond())if(this.notifyAllowedCorrespondents(),this.isHub())this.dispatchMessage(this.composeMessage(!0),a(a([],n((0,s.getAncestorWindows)(this.hostWindow)),!1),n((0,s.getDescendantWindows)(this.hostWindow)),!1).filter((function(t){return!e.correspondents.includes(t)})));else{var t=(0,s.getAncestorWindows)(this.hubWindow);t.length>0&&this.dispatchMessage(this.composeMessage(!0),t)}},e.prototype.ingestMessageFromCorrespondent=function(e,t){var i=e.sharedState,r=e.source,n=(0,s.getCorrespondentWindow)(t,r.windowDepth);if(null!=n){this.registerCorrespondent(n,r.windowDepth,r.canBecomeHub);var a=this.mergeState(i),o=a.stateWasUpdated,d=a.inputWasIncomplete;o&&(this.notifyLocalTags(),this.isHub()&&this.notifyAllowedCorrespondents(n));var l=this.isHub()&&d,c=this.isHub()&&r.responseRequired,u=n===this.hubWindow&&r.responseRequired;(l||c||u)&&this.notifyCorrespondent(n)}},e.prototype.registerLocalTagAndSubscribe=function(e,t){void 0===t&&(t=function(){});var i=this.mergeState(e).stateWasUpdated,r=0===this.localTagSubscriptions.length;this.localTagSubscriptions.includes(t)||this.localTagSubscriptions.push(t),i?this.notifyLocalTags():t(this.sharedState),r?this.broadCastState():i&&this.notifyAllowedCorrespondents()},e}();t.DataNode=c},4614:function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(6777),t),n(i(8119),t),n(i(6240),t),n(i(3665),t)},8119:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},457:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareLinkingPriority=void 0;t.compareLinkingPriority=function(e,t){return e.sharedId===t.sharedId?0:null==e.sharedId?2:null==t.sharedId?1:e.depth>t.depth?2:e.depth<t.depth?1:e.sharedId>t.sharedId?2:1}},5208:function(e,t){"use strict";var i=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,a=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.compareRecordPriority=void 0;t.compareRecordPriority=function(e,t,r){return null!=e&&null!=t?function(e,t){return Object.entries(e).every((function(e){var r=i(e,2),n=r[0],a=r[1];return t[n]===a}))}(e,t)?0:r:null==e&&null==t?0:null==t?1:2}},6240:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSharedState=void 0;var r=i(9276);Object.defineProperty(t,"updateSharedState",{enumerable:!0,get:function(){return r.updateSharedState}})},9276:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSharedState=void 0;var a=i(2749),s=i(457),o=i(5208);t.updateSharedState=function(e,t){var i,d,l={newState:(0,a.copyState)(e),stateWasUpdated:!1,inputWasIncomplete:!1},c=(0,s.compareLinkingPriority)(e.linking,t.linking);2===c?(l.stateWasUpdated=!0,l.newState.linking=r({},t.linking)):1===c&&(l.inputWasIncomplete=!0);try{for(var u=n(Object.keys(e.coverage)),p=u.next();!p.done;p=u.next()){var h=p.value;t.coverage[h]?e.coverage[h]||(l.stateWasUpdated=!0,l.newState.coverage[h]=!0):e.coverage[h]&&(l.inputWasIncomplete=!0)}}catch(e){i={error:e}}finally{try{p&&!p.done&&(d=u.return)&&d.call(u)}finally{if(i)throw i.error}}var g=(0,o.compareRecordPriority)(e.visit,t.visit,c);2===g?(l.stateWasUpdated=!0,l.newState.visit=r({},t.visit)):1===g&&(l.inputWasIncomplete=!0);var m=(0,o.compareRecordPriority)(e.sellerDimensions,t.sellerDimensions,c);return 2===m?(l.stateWasUpdated=!0,l.newState.sellerDimensions=r({},t.sellerDimensions)):1===m&&(l.inputWasIncomplete=!0),l}},2749:function(e,t){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.copyState=void 0;t.copyState=function(e){var t={linking:i({},e.linking),coverage:i({},e.coverage)};return null!=e.visit&&(t.visit=i({},e.visit)),null!=e.sellerDimensions&&(t.sellerDimensions=i({},e.sellerDimensions)),t}},4419:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyState=void 0;var r=i(135);t.getEmptyState=function(){return{linking:{sharedId:null,depth:0,timestamp:(0,r.getCurrentTimestamp)()},coverage:{sellerPageTag:!1,sellerMonitoringTag:!1,buyerMonitoringTag:!1}}}},3665:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSharedState=t.validateMessageData=void 0;var r=i(5571);Object.defineProperty(t,"validateMessageData",{enumerable:!0,get:function(){return r.validateMessageData}});var n=i(1149);Object.defineProperty(t,"validateSharedState",{enumerable:!0,get:function(){return n.validateSharedState}})},5571:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateMessageData=void 0;var r=i(1149);t.validateMessageData=function(e){var t=e.command,i=e.payload,n=e.timestamp;if("data-transparency-update"!==t||null==i||"number"!=typeof n)return!1;var a=i.sharedState,s=i.source;return null!=a&&(0,r.validateSharedState)(a)&&(null==s||"number"==typeof s.windowDepth&&"boolean"==typeof s.responseRequired)}},1149:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSharedState=void 0;t.validateSharedState=function(e){return null!=e.linking&&(null==e.linking.sharedId||"string"==typeof e.linking.sharedId)&&"number"==typeof e.linking.depth&&"number"==typeof e.linking.timestamp&&null!=e.coverage&&"boolean"==typeof e.coverage.sellerPageTag&&"boolean"==typeof e.coverage.sellerMonitoringTag&&"boolean"==typeof e.coverage.buyerMonitoringTag&&(null==e.visit||"string"==typeof e.visit.pageUrl&&"string"==typeof e.visit.userAgent)&&(null==e.sellerDimensions||Object.values(e.sellerDimensions).every((function(e){return"string"==typeof e})))}},659:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=t.initialize=t.coverageToBitFlag=void 0;var r=i(135),n=i(4614),a=i(422),s=i(135);Object.defineProperty(t,"coverageToBitFlag",{enumerable:!0,get:function(){return s.coverageToBitFlag}});t.initialize=function(e){try{(0,a.maybeInitializeDataNode)(e)}catch(e){}};t.subscribe=function(e,t,i){var s;try{s=(0,a.maybeInitializeDataNode)(e)}catch(e){return}if(null!=s){var o={linking:{sharedId:i.impressionId,depth:s.depth,timestamp:(0,r.getCurrentTimestamp)()},coverage:{sellerPageTag:!1,sellerMonitoringTag:i.isSellerTag,buyerMonitoringTag:!i.isSellerTag},sellerDimensions:i.sellerDimensions};try{(0,n.validateSharedState)(o)&&s.registerLocalTagAndSubscribe(o,t)}catch(e){}}}},422:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeInitializeDataNode=void 0;var r,n=i(135),a=i(4614),s=i(8266),o=(r=!1,function(e){if(!r){r=!0;try{var t=e[n.MONITORING_TAG_ON_TOP_LEVEL_KEY];null!=t&&t()}catch(e){}}});t.maybeInitializeDataNode=function(e){if(!(0,n.validateWindow)(e))return null;if(e===e.top)return o(e),null;var t=e[n.DATA_NODE_KEY];return null==t&&(t=new a.DataNode(e),(0,s.setMessageListener)(e,t),e[n.DATA_NODE_KEY]=t),t}},8266:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMessageListener=void 0;var r=i(135),n=i(4614);t.setMessageListener=function(e,t){try{e.addEventListener("message",(function(e){(0,r.validateWindow)(e.source)&&(0,n.validateMessageData)(e.data)&&t.ingestMessageFromCorrespondent(e.data.payload,e.source)}))}catch(e){}}},5219:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAdLocator=void 0;const r=i(7360),n=i(712),a=i(3868),s=i(425),o=i(1800),d=i(749),l=i(7749),c=i(194),u=i(6820);t.BaseAdLocator=class{constructor(e,t=500){this.numOfTries=e,this.interval=t,this.isSupported()&&(this.adLocatorShortName="al"+this.getMethod(),r.EventBus.addEventListener(r.DvEvent.adSelected,this.clearTimeoutReference.bind(this)),r.EventBus.addEventListener(r.DvEvent.impressionServed,this.handleAdLocatorLatency.bind(this)))}reportAdNotLocated(){}handleAdLocatorLatency(){if(l.DvTagDataObject.getTagType()==n.DvTagType.Display){c.DvObject.getIsReducedAdLocatorLatency()&&(this.interval=100,this.numOfTries*=10)}}start(){this.isSupported()&&(this.timeoutReference=(0,u.scheduleTask)((()=>this.tryGetAds())))}processAdCandidates(e){const t=this.getSupportedDeliveryType(),i=this.getMethod(),r=a.WindowAdaptor.workingWindow();return null==e||e.forEach((e=>{e.supportedDeliveryType=t,e.locatorMethods=i,e.windowElement=a.WindowAdaptor.getDefaultWindow(e.domElement)||r,e.priority=this.getPriority(e)})),e}tryGetAds(){(0,u.invokeWithPerformanceMeasures)({name:this.adLocatorShortName},(()=>{this.numOfTries--;try{const e=this.getAds();(null==e?void 0:e.length)?(this.processAdCandidates(e).forEach((e=>r.EventBus.dispatchEvent(r.DvEvent.adCandidateLocated,new o.AdCandidateEventData(e)))),this.clearTimeoutReference()):this.numOfTries>0?this.timeoutReference=(0,u.scheduleTask)((()=>this.tryGetAds()),this.interval):this.reportAdNotLocated()}catch(e){d.MessageHandler.sendError(n.ClientErrorType.AdLocationError,e)}}))}clearTimeoutReference(){this.timeoutReference&&(s.BrowserAdaptor.clearTimeout(this.timeoutReference),this.timeoutReference=void 0)}}},1085:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PassMinimumAdSize=void 0;const r=i(425);t.PassMinimumAdSize=class{constructor(){this.minAdWidth=20,this.minAdHeight=20}validate(e){let t=!1;if(e){let i=r.BrowserAdaptor.getElementSize(e);i&&i.height>this.minAdHeight&&i.width>this.minAdWidth&&(t=!0)}return t}}},8472:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SellerAdSizeValidator=void 0;const r=i(7749),n=i(425);t.SellerAdSizeValidator=class{constructor(){this.adSizeAcceptedMistake=15,this.adSize=r.DvTagDataObject.getSellerAdSize()}validate(e){let t=!1;if(e&&r.DvTagDataObject.isSellerTag()&&this.adSize.width&&this.adSize.height){let i=n.BrowserAdaptor.getElementSize(e);i&&i.width-this.adSize.width>=-this.adSizeAcceptedMistake&&i.height-this.adSize.height>=-this.adSizeAcceptedMistake&&(t=!0)}return t}}},5955:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CeltraBaseAdLocator=void 0;const r=i(5464),n=i(7146),a=i(7360),s=i(1800);class o extends n.DisplayBaseAdLocator{constructor(){super(...arguments),this.celtraAdServerId="179",this.selectionDelayed=!1}getAds(){let e=this.getScanner().scan(this.getValidator());e.some((e=>!e.isFullyLoaded))&&!this.selectionDelayed&&(this.selectionDelayed=!0,a.EventBus.dispatchEvent(a.DvEvent.reserveAdLocator,new s.ReserveAdLocatorData(this.getPriority()))),e=e.filter((e=>!!e.domElement));const t=this.filterByAdsValidators(e);return this.mapDomAdsDataToAdCandidates(t)}transformToAdElement(e){const t=super.transformToAdElement(e);return t.celtraTagSearchMethod=e.celtraTagSearchMethod,t}getValidator(){return new r.CeltraValidator}}t.CeltraBaseAdLocator=o},7898:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Cm360AdLocator=void 0;const r=i(7749),n=i(7146),a=i(712),s=i(3903),o=i(749);class d extends n.DisplayBaseAdLocator{constructor(){super(...arguments),this.attributeName="data-doubleverify-container",this.attributeValueLookedUp=!1}getScanner(){if(this.findAttribute())return new s.GetElementByID(this.attributeValue)}getValidator(){return null}isSupported(){return super.isSupported()&&r.DvTagDataObject.getIsCm360CreativeWrapping()&&!!this.findAttribute()}findAttribute(){return void 0===this.attributeValueLookedUp||this.attributeValueLookedUp||(this.attributeValue=r.DvTagDataObject.getValueOfTagAttribute(this.attributeName),this.attributeValueLookedUp=!0,this.attributeValue||o.MessageHandler.sendMessage({dvp_atali:1})),this.attributeValue}getPriority(e){return 4e5}getMethod(){return a.LocatorMethods.DisplayCm360}reportAdNotLocated(){o.MessageHandler.sendMessage({dvp_atali:2})}}t.Cm360AdLocator=d},5906:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomMediaplexAdLocator=void 0;const r=i(7146),n=i(631),a=i(7749),s=i(712),o=i(5613);class d extends r.DisplayBaseAdLocator{constructor(){super(),this.mediaplexAdServerId="8"}getScanner(){return o.CustomGetElementsByTagName.getInstance()}getValidator(){return new n.MediaplexValidator(a.DvTagDataObject.getBtreg(),a.DvTagDataObject.getBtadsrv())}isSupported(){return super.isSupported()&&a.DvTagDataObject.getAdServerId()==this.mediaplexAdServerId}getPriority(e){return 1e4-(e.depth||0)}getMethod(){return s.LocatorMethods.CustomDisplayMediaPlex}}t.CustomMediaplexAdLocator=d},9171:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomRegexAdLocator=void 0;const r=i(7749),n=i(5223),a=i(7146),s=i(712),o=i(5613);class d extends a.DisplayBaseAdLocator{constructor(){super()}getScanner(){return o.CustomGetElementsByTagName.getInstance()}getValidator(){return new n.BtregValidator(r.DvTagDataObject.getBtreg(),r.DvTagDataObject.getBtadsrv())}isSupported(){return super.isSupported()&&!!r.DvTagDataObject.getBtreg()}getPriority(e){return 1e3-(e.depth||0)}getMethod(){return s.LocatorMethods.CustomDisplayRegex}}t.CustomRegexAdLocator=d},4816:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomSellerAdLocator=void 0;const r=i(7146),n=i(5223),a=i(7749),s=i(712),o=i(8472),d=i(7360),l=i(1800),c=i(5613);class u extends r.DisplayBaseAdLocator{constructor(){super()}getScanner(){return c.CustomGetElementsByTagName.getInstance()}getValidator(){return new n.BtregValidator(a.DvTagDataObject.getBtreg(),a.DvTagDataObject.getBtadsrv())}isSupported(){let e=super.isSupported()&&a.DvTagDataObject.isSellerTag()&&!!a.DvTagDataObject.getBtreg();return e&&!this.delayEventSent&&(d.EventBus.dispatchEvent(d.DvEvent.delayAdSelection,new l.DelayTimerData(3100)),this.delayEventSent=!0),e}getPriority(e){return 1e5}getMethod(){return s.LocatorMethods.CustomDisplaySellerTag}getAds(){let e=new o.SellerAdSizeValidator;return super.getAds().filter((t=>e.validate(t.domElement)))}}t.CustomSellerAdLocator=u},4620:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DfaAdLocator=void 0;const r=i(7146),n=i(7581),a=i(7749),s=i(712),o=i(5613);class d extends r.DisplayBaseAdLocator{constructor(){super(...arguments),this.dfaAdServerId="1"}getScanner(){return o.CustomGetElementsByTagName.getInstance()}getValidator(){return new n.DfaValidator}isSupported(){return super.isSupported()&&a.DvTagDataObject.getAdServerId()==this.dfaAdServerId}getPriority(e){return 250-(e.depth||0)}getMethod(){return s.LocatorMethods.DisplayDFA}}t.DfaAdLocator=d},7146:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayBaseAdLocator=void 0;const r=i(455),n=i(7749),a=i(5219),s=i(1085),o=i(712),d=i(6689);class l extends a.BaseAdLocator{constructor(){super(7,1e3)}isSupported(){return!d.OmidWrapper.isSupported()&&n.DvTagDataObject.getTagType()==o.DvTagType.Display}getSupportedDeliveryType(){return[1,2,0]}getAds(){let e=this.getScanner().scan(this.getValidator());const t=this.filterByAdsValidators(e);return this.mapDomAdsDataToAdCandidates(t)}filterByAdsValidators(e){let t=new s.PassMinimumAdSize;return e.filter((e=>t.validate(e.domElement)))}mapDomAdsDataToAdCandidates(e){return e.map((e=>{const t=this.transformToAdElement(e);return t.depth=e.depth||0,t}))}transformToAdElement(e){return this.getCandidateInstance(e.domElement)}getCandidateInstance(e){return new r.AdCandidateData(e)}}t.DisplayBaseAdLocator=l},9969:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.FindClassAdLocator=void 0;const r=i(7749),n=i(7754),a=i(7146),s=i(712);class o extends a.DisplayBaseAdLocator{getScanner(){return new n.GetElementsByClassName(r.DvTagDataObject.getBtreg())}getValidator(){return null}isSupported(){return super.isSupported()&&!!r.DvTagDataObject.getBtreg()&&r.DvTagDataObject.getFindClass()}getPriority(e){return 1e3-(e.depth||0)}getMethod(){return s.LocatorMethods.DisplayFindClass}}t.FindClassAdLocator=o},8130:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IframeFallbackAdLocator=void 0;const r=i(3868),n=i(5219),a=i(455),s=i(712),o=i(7749),d=i(6689);class l extends n.BaseAdLocator{constructor(){super(1)}getAds(){let e=r.WindowAdaptor.getFrameElement(r.WindowAdaptor.workingWindow())||r.WindowAdaptor.workingDocumentElement();if(e)return[new a.AdCandidateData(e)]}isSupported(){return!d.OmidWrapper.isSupported()&&o.DvTagDataObject.getTagType()==s.DvTagType.Display&&r.WindowAdaptor.workingWindow()!=r.WindowAdaptor.windowTop()}getSupportedDeliveryType(){return[1,2,0]}getPriority(){return 1}getMethod(){return s.LocatorMethods.DisplayIframeFallback}}t.IframeFallbackAdLocator=l},172:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InAppDefaultAdLocator=void 0;const r=i(3868),n=i(5219),a=i(455),s=i(712),o=i(6689);class d extends n.BaseAdLocator{constructor(){super(1)}getAds(){let e=r.WindowAdaptor.workingDocumentElement();if(e)return[new a.AdCandidateData(e)]}isSupported(){return!o.OmidWrapper.isSupported()}getSupportedDeliveryType(){return[3]}getPriority(){return 11e3}getMethod(){return s.LocatorMethods.DefaultInApp}}t.InAppDefaultAdLocator=d},8476:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IntegratedCeltraAdLocator=void 0;const r=i(7749),n=i(712),a=i(5955),s=i(4179);class o extends a.CeltraBaseAdLocator{getScanner(){return s.CeltraDeepScannerSingleton}isSupported(){return super.isSupported()&&r.DvTagDataObject.getAdServerId()==this.celtraAdServerId}getPriority(e){return 9e3}getMethod(){return n.LocatorMethods.DisplayIntegratedCeltra}}t.IntegratedCeltraAdLocator=o},1634:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MediaplexAdLocator=void 0;const r=i(7146),n=i(631),a=i(7749),s=i(6352),o=i(712);class d extends r.DisplayBaseAdLocator{constructor(){super(...arguments),this.mediaplexAdServerId="8"}getScanner(){return s.GetElementsByTagName.getInstance()}getValidator(){return new n.MediaplexValidator(a.DvTagDataObject.getBtreg(),a.DvTagDataObject.getBtadsrv())}isSupported(){return super.isSupported()&&a.DvTagDataObject.getAdServerId()==this.mediaplexAdServerId}getPriority(e){return 1e4-(e.depth||0)}getMethod(){return o.LocatorMethods.DisplayMediaPlex}}t.MediaplexAdLocator=d},3820:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.NearestAdAdLocator=void 0;const r=i(7146),n=i(483),a=i(540),s=i(712);class o extends r.DisplayBaseAdLocator{getScanner(){return n.NearestAdScannerSingleton}getValidator(){return new a.ValidateByAdTypeAndSize}isSupported(){return super.isSupported()}getPriority(e){return 100-(e.depth||0)}getMethod(){return s.LocatorMethods.DisplayNearestAd}}t.NearestAdAdLocator=o},7257:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.NonIntegratedCeltraAdLocator=void 0;const r=i(7749),n=i(712),a=i(5955),s=i(4179);class o extends a.CeltraBaseAdLocator{getScanner(){return s.CeltraScannerSingleton}isSupported(){return super.isSupported()&&r.DvTagDataObject.getAdServerId()!=this.celtraAdServerId}getPriority(e){return 120}getMethod(){return n.LocatorMethods.DisplayNonIntegratedCeltra}}t.NonIntegratedCeltraAdLocator=o},6018:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ParentWindowAdLocator=void 0;const r=i(7749),n=i(5223),a=i(7146),s=i(6352),o=i(3868),d=i(712),l=i(8457);class c extends a.DisplayBaseAdLocator{getScanner(){const e=o.WindowAdaptor.getWindowParent(o.WindowAdaptor.workingWindow()),t=new s.GetElementsByTagName(e);return new l.GetElementByIdOrTagName(e,t,r.DvTagDataObject.getBtreg(),this.getMethod())}getValidator(){return new n.BtregValidator(r.DvTagDataObject.getBtreg(),r.DvTagDataObject.getBtadsrv())}isSupported(){return super.isSupported()&&2==(2&o.WindowAdaptor.getScenarioType())&&!!r.DvTagDataObject.getBtreg()&&!!o.WindowAdaptor.getWindowParent(o.WindowAdaptor.workingWindow())}getPriority(e){return 900}getMethod(){return d.LocatorMethods.DisplayParentWindow}}t.ParentWindowAdLocator=c},1153:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.RegexAdLocator=void 0;const r=i(7749),n=i(5223),a=i(7146),s=i(6352),o=i(712),d=i(3868),l=i(8457);class c extends a.DisplayBaseAdLocator{getScanner(){return new l.GetElementByIdOrTagName(d.WindowAdaptor.workingWindow(),s.GetElementsByTagName.getInstance(),r.DvTagDataObject.getBtreg(),this.getMethod())}getValidator(){return new n.BtregValidator(r.DvTagDataObject.getBtreg(),r.DvTagDataObject.getBtadsrv())}isSupported(){return super.isSupported()&&!!r.DvTagDataObject.getBtreg()}getPriority(e){return 1e3-(e.depth||0)}getMethod(){return o.LocatorMethods.DisplayRegex}}t.RegexAdLocator=c},6707:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SellerAdLocator=void 0;const r=i(7146),n=i(6352),a=i(5223),s=i(7749),o=i(712),d=i(8472),l=i(7360),c=i(1800),u=i(3868),p=i(8457);class h extends r.DisplayBaseAdLocator{getScanner(){return new p.GetElementByIdOrTagName(u.WindowAdaptor.workingWindow(),n.GetElementsByTagName.getInstance(),s.DvTagDataObject.getBtreg(),this.getMethod())}getValidator(){return new a.BtregValidator(s.DvTagDataObject.getBtreg(),s.DvTagDataObject.getBtadsrv())}isSupported(){let e=super.isSupported()&&s.DvTagDataObject.isSellerTag()&&!!s.DvTagDataObject.getBtreg();return e&&!this.delayEventSent&&(l.EventBus.dispatchEvent(l.DvEvent.delayAdSelection,new c.DelayTimerData(3100)),this.delayEventSent=!0),e}getPriority(e){return 1e5}getMethod(){return o.LocatorMethods.DisplaySellerTag}getAds(){const e=new d.SellerAdSizeValidator;return super.getAds().filter((({domElement:t})=>e.validate(t)))}}t.SellerAdLocator=h},7571:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SpotXAdLocator=void 0;const r=i(7146),n=i(483),a=i(455),s=i(4265),o=i(712),d=i(7360),l=i(194),c=i(1800);class u extends r.DisplayBaseAdLocator{constructor(){super(),this.isSpotxMode=!1,this.spotxCandidates=[],d.EventBus.addEventListener(d.DvEvent.impressionServed,this.handleImpressionServed.bind(this),"SpotXAdLocator")}getScanner(){return n.NearestAdScannerSingleton}getValidator(){return new s.SpotXValidator}isSupported(){return super.isSupported()}getPriority(e){let t=0,i=e.depth||0;return this.isSpotxMode&&(t=1e4-i),t}getMethod(){return o.LocatorMethods.DisplaySpotX}getCandidateInstance(e){let t=new a.AdCandidateData(e);return this.isSpotxMode||(t.state=4,this.spotxCandidates.push(t)),t}handleImpressionServed(){this.isSpotxMode=l.DvObject.isSpotxMode(),this.isSpotxMode&&this.spotxCandidates.forEach((e=>{e.state=1,e.priority=this.getPriority(e),d.EventBus.dispatchEvent(d.DvEvent.adCandidateLocated,new c.AdCandidateEventData(e))}))}}t.SpotXAdLocator=u},5223:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BtregValidator=void 0;const r=i(425),n=i(7749);t.BtregValidator=class{constructor(e,t){this.innerHtmlValidationTypes={img:!0,iframe:!0,a:!0,object:!0,embed:!0},this.btadsrvValidationTypes={img:!0,iframe:!0,a:!0,object:!0,embed:!0},this.btreg=e,this.btregRegex=new RegExp(this.btreg),this.btadsrv=t,this.btadsrvRegexp=new RegExp(this.btadsrv)}validate(e){let t=!1;if(this.btreg&&this.btreg.length>=5){let i=r.BrowserAdaptor.getElementType(e),a=[];a.push(r.BrowserAdaptor.getAttribute(e,"id")),a.push(r.BrowserAdaptor.getAttribute(e,"src")),a.push(r.BrowserAdaptor.getAttribute(e,"href")),a.push(r.BrowserAdaptor.getAttribute(e,"flashvars")),a.push(r.BrowserAdaptor.getAttribute(e,"name")),n.DvTagDataObject.getCustomAttributes().forEach((t=>a.push(r.BrowserAdaptor.getAttribute(e,t)))),a.push(r.BrowserAdaptor.getAttribute(e,"class")),this.innerHtmlValidationTypes[i]&&a.push(r.BrowserAdaptor.getAttribute(e,"innerHTML"));let s=!1,o=!1;for(let e of a)if(e&&(s=s||this.validateBtreg(e,this.btreg),o=o||!this.btadsrvValidationTypes[i]||this.validateBtadsrv(e,this.btadsrv),s&&o)){t=!0;break}}return t}validateBtreg(e,t){return this.validateString(e,this.btreg,this.btregRegex)}validateBtadsrv(e,t){return this.validateString(e,this.btreg,this.btadsrvRegexp)}validateString(e,t,i){let r=!1;if(e&&t)try{i.exec(e)&&(r=!0)}catch(i){r=-1!=e.indexOf(t)}return r}}},5464:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CeltraValidator=void 0;t.CeltraValidator=class{constructor(){this.celtraClassString="celtra-ad-v"}validate(e){return 0==e.className.indexOf(this.celtraClassString)}}},7581:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DfaValidator=void 0;const r=i(5223),n=i(425),a=i(3380),s=i(7749);class o extends r.BtregValidator{constructor(){super("DfaVisibilityIdentifier","DfaVisibilityIdentifier"),this.dcmValidationTypes={div:!0,span:!0},this.maxDistance=10}validate(e){let t=!1,i=n.BrowserAdaptor.getElementType(e),r=a.Utilities.getElementsDistance(e,s.DvTagDataObject.getDVScript());return this.dcmValidationTypes[i]&&r>=0&&r<=this.maxDistance&&(t=super.validate(e)),t}}t.DfaValidator=o},631:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MediaplexValidator=void 0;const r=i(5223);class n extends r.BtregValidator{constructor(e,t){super(e,t),this.multiplexRegexp=new RegExp("[0-9]+-[0-9]+-[0-9]+-[0-9]+"),this.hyphenFreeRegexp=new RegExp("-","g")}validateBtreg(e,t){return this.validateByMediaplex(e,t)||super.validateBtreg(e,t)}validateBtadsrv(e,t){return this.validateByMediaplex(e,t)||super.validateBtadsrv(e,t)}validateByMediaplex(e,t){let i=!1;if(e&&t){let r=this.multiplexRegexp.exec(e);if(r){i=r.toString().replace(this.hyphenFreeRegexp,"")==t}}return i}}t.MediaplexValidator=n},4265:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SpotXValidator=void 0;const r=i(540),n=i(712);class a extends r.ValidateByAdTypeAndSize{constructor(){super(),this.standardAdTypes=["object","embed","video","iframe"]}validate(e){return this.isStandardAdType(e)&&this.isStandardAdSize(this.getAdSize(e),n.StandardSizeType.SpotX)}}t.SpotXValidator=a},7939:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateByAdSize=void 0;const r=i(425),n=i(3971);t.ValidateByAdSize=class{getAdSize(e){return r.BrowserAdaptor.getElementSize(e)}isStandardAdSize(e,t){return n.StandardSizes.isStandardAdSize(e,t,15)}}},540:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateByAdTypeAndSize=void 0;const r=i(425),n=i(7939),a=i(712);class s extends n.ValidateByAdSize{constructor(){super(...arguments),this.standardAdTypes=["object","embed","img","iframe","svg","canvas"]}validate(e){return this.isStandardAdType(e)&&this.isStandardAdSize(this.getAdSize(e),a.StandardSizeType.Display)}isStandardAdType(e){let t=!1;if(e){let i=r.BrowserAdaptor.getElementType(e);t=-1!=this.standardAdTypes.indexOf(i)}return t}}t.ValidateByAdTypeAndSize=s},677:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidAdLocator=void 0;const r=i(712),n=i(455),a=i(5219),s=i(6689);class o extends a.BaseAdLocator{constructor(){super(1)}getAds(){return[this.initOmidAdCandidateData()]}getPriority(e){return 1e5}getMethod(){return r.LocatorMethods.DisplayOmid}isSupported(){return s.OmidWrapper.isSupported()}getSupportedDeliveryType(){return[3,0,1,2]}initOmidAdCandidateData(){const e=new n.AdCandidateData(null);return e.omidMeasuredElementType=0,e}}t.OmidAdLocator=o},4179:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CeltraScannerSingleton=t.CeltraDeepScannerSingleton=t.CeltraScanner=void 0;const r=i(425),n=i(7749),a=i(749),s=i(5261);class o{constructor(e){this.scanSiblingTwoLevelsDown=e}scan(e){this.dvTag=this.dvTag||n.DvTagDataObject.getDVScript();const t=this.dvTag&&this.dvTag.parentElement,i=this.getCeltraElementByDomApiSearch(t);i&&i.length>0&&(this.celtraTagSearchMethod=1);const r=[],a=i&&i.length>0?i:this.getElementsToSearchCeltraAttribute();for(let t of a)if(e.validate(t)){let e=new s.CeltraDomAdData(this.celtraTagSearchMethod,null,0,!1);if(t.celtra&&t.celtra.viewabilityObservee){const i=t.celtra.viewabilityObservee;e.domElement=i,e.isFullyLoaded=!0}r.push(e)}return r}getElementsToSearchCeltraAttribute(){this.celtraTagSearchMethod=2;let e=[];const t=this.dvTag&&this.dvTag.parentElement;if(t&&this.shouldSearchOnTagParent()&&e.push(t),this.shouldSearchOnTagSiblings()){const t=r.BrowserAdaptor.getSiblingsNodes(this.dvTag);e=[...e,...t],this.shouldSearchTwoLevelUnderTagSiblings()&&t.forEach((t=>{const i=r.BrowserAdaptor.getElementChildren(t);e=[...e,...i],i.forEach((t=>{const i=r.BrowserAdaptor.getElementChildren(t);e=[...e,...i]}))}))}return e}shouldSearchOnTagParent(){return!0}shouldSearchOnTagSiblings(){return!0}shouldSearchTwoLevelUnderTagSiblings(){return this.scanSiblingTwoLevelsDown}getCeltraElementByDomApiSearch(e){if(e&&"function"==typeof e.querySelectorAll){const t=e.querySelectorAll("[class^=celtra-ad-v]");if(t)return t.length>1&&a.MessageHandler.sendMessage({dvp_csmc:t.length}),Array.prototype.slice.call(t)}}}t.CeltraScanner=o,t.CeltraDeepScannerSingleton=new o(!0),t.CeltraScannerSingleton=new o(!1)},3924:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseScanElement=void 0;const r=i(3868),n=i(3380);t.BaseScanElement=class{constructor(e=r.WindowAdaptor.workingWindow()){this.elementsList=[],this.scanValidityTime=1e3,this.searchWin=e}scan(){return(!this.lastScanTime||n.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime)&&(this.elementsList=this.tagScan(),this.lastScanTime=n.Utilities.getCurrentTime()),this.elementsList}extractAd(e){return e}}},2200:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomScanContainerElement=void 0;const r=i(3924),n=i(425);class a extends r.BaseScanElement{extractAd(e){return this.getBiggestNestedElement(e)}getBiggestNestedElement(e){let t=e,i=["embed","iframe","object","img","span","div","svg","canvas"],r=[],a=n.BrowserAdaptor.getElementsByTagNameFromDomElement(e,"*");for(let e of a){let t=n.BrowserAdaptor.getElementType(e);if(-1!=i.indexOf(t)){let i=n.BrowserAdaptor.getElementSize(e);i&&r.push({area:i.width*i.height,width:i.width,height:i.height,type:t,elem:e})}}return r=r.sort((function(e,t){return t.area-e.area||i.indexOf(t.type)-i.indexOf(e.type)})),r.length>0&&(t=r[0].elem),t}}t.CustomScanContainerElement=a},6999:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomScanCustomElement=void 0;const r=i(425),n=i(2200);class a extends n.CustomScanContainerElement{constructor(e,t){super(e),this.elementName=t}tagScan(){return r.BrowserAdaptor.getElementsByTagNameFromDocument(this.elementName,this.searchWin.document)}}t.CustomScanCustomElement=a},9894:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomScanDivElement=void 0;const r=i(425),n=i(2200);class a extends n.CustomScanContainerElement{tagScan(){return r.BrowserAdaptor.getElementsByTagNameFromDocument("div",this.searchWin.document)}}t.CustomScanDivElement=a},31:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomScanObjectElement=void 0;const r=i(425),n=i(2200);class a extends n.CustomScanContainerElement{tagScan(){return r.BrowserAdaptor.getElementsByTagNameFromDocument("object",this.searchWin.document)}}t.CustomScanObjectElement=a},4499:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomScanSpanElement=void 0;const r=i(425),n=i(2200);class a extends n.CustomScanContainerElement{constructor(){super(...arguments),this.adunitAttribute="adunit"}tagScan(){return r.BrowserAdaptor.getElementsByTagNameFromDocument("span",this.searchWin.document)}extractAd(e){return 1==r.BrowserAdaptor.getAttribute(e,this.adunitAttribute)?e:super.extractAd(e)}}t.CustomScanSpanElement=a},4211:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanCanvasElement=void 0;const r=i(3924),n=i(425);class a extends r.BaseScanElement{tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument("canvas",this.searchWin.document)}}t.ScanCanvasElement=a},4933:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanContainerElement=void 0;const r=i(3924),n=i(425),a=i(1085);class s extends r.BaseScanElement{extractAd(e){return(new a.PassMinimumAdSize).validate(e)?e:this.getBiggestNestedElement(e)}getBiggestNestedElement(e){let t=e,i=["embed","iframe","object","img","span","div","svg","canvas"],r=[],a=n.BrowserAdaptor.getElementsByTagNameFromDomElement(e,"*");a.unshift(e);for(let e of a){let t=n.BrowserAdaptor.getElementType(e);if(-1!=i.indexOf(t)){let i=n.BrowserAdaptor.getElementSize(e);i&&r.push({area:i.width*i.height,width:i.width,height:i.height,type:t,elem:e})}}return r=r.sort((function(e,t){return t.area-e.area||i.indexOf(t.type)-i.indexOf(e.type)})),r.length>0&&(t=r[0].elem),t}}t.ScanContainerElement=s},3158:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanCustomElement=void 0;const r=i(4933),n=i(425);class a extends r.ScanContainerElement{constructor(e,t){super(e),this.elementName=t}tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument(this.elementName,this.searchWin.document)}}t.ScanCustomElement=a},9670:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanDivElement=void 0;const r=i(4933),n=i(425);class a extends r.ScanContainerElement{tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument("div",this.searchWin.document)}}t.ScanDivElement=a},163:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanEmbedElement=void 0;const r=i(3924),n=i(425);class a extends r.BaseScanElement{tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument("embed",this.searchWin.document)}}t.ScanEmbedElement=a},1346:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanFrameElement=void 0;const r=i(3924),n=i(3868);class a extends r.BaseScanElement{tagScan(){let e=[],t=n.WindowAdaptor.getFrameElement(this.searchWin);return t&&e.push(t),e}}t.ScanFrameElement=a},8689:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanIframeElement=void 0;const r=i(3924),n=i(425);class a extends r.BaseScanElement{tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument("iframe",this.searchWin.document)}}t.ScanIframeElement=a},9038:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanImageElement=void 0;const r=i(3924),n=i(425);class a extends r.BaseScanElement{tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument("img",this.searchWin.document)}}t.ScanImageElement=a},2978:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanLinkElement=void 0;const r=i(3924),n=i(425);class a extends r.BaseScanElement{tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument("a",this.searchWin.document)}extractAd(e){let t,i=n.BrowserAdaptor.getElementsByTagNameFromDomElement(e,"img");return i.length>0&&(t=i[0]),t}}t.ScanLinkElement=a},6466:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanObjectElement=void 0;const r=i(4933),n=i(425);class a extends r.ScanContainerElement{tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument("object",this.searchWin.document)}}t.ScanObjectElement=a},6635:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanSpanElement=void 0;const r=i(4933),n=i(425);class a extends r.ScanContainerElement{constructor(){super(...arguments),this.adunitAttribute="adunit"}tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument("span",this.searchWin.document)}extractAd(e){return 1==n.BrowserAdaptor.getAttribute(e,this.adunitAttribute)?e:super.extractAd(e)}}t.ScanSpanElement=a},1765:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScanSvgElement=void 0;const r=i(3924),n=i(425);class a extends r.BaseScanElement{tagScan(){return n.BrowserAdaptor.getElementsByTagNameFromDocument("svg",this.searchWin.document)}}t.ScanSvgElement=a},5613:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomGetElementsByTagName=void 0;const r=i(163),n=i(2978),a=i(9038),s=i(8689),o=i(1346),d=i(7749),l=i(4211),c=i(1765),u=i(3868),p=i(3380),h=i(8564),g=i(9894),m=i(4499),v=i(6999),b=i(31);class y{constructor(e){this.byTagScanners=[],this.byTagScanners.push(new r.ScanEmbedElement(e)),this.byTagScanners.push(new b.CustomScanObjectElement(e)),this.byTagScanners.push(new n.ScanLinkElement(e)),this.byTagScanners.push(new a.ScanImageElement(e)),this.byTagScanners.push(new m.CustomScanSpanElement(e)),this.byTagScanners.push(new s.ScanIframeElement(e)),this.byTagScanners.push(new g.CustomScanDivElement(e)),this.byTagScanners.push(new o.ScanFrameElement(e)),this.byTagScanners.push(new l.ScanCanvasElement(e)),this.byTagScanners.push(new c.ScanSvgElement(e)),d.DvTagDataObject.getCustomTags().forEach((t=>this.byTagScanners.unshift(new v.CustomScanCustomElement(e,t))))}scan(e){let t=[];for(let i of this.byTagScanners)for(let r of i.scan())if(e.validate(r)){let e=i.extractAd(r),n=new h.DomAdData(e,p.Utilities.getElementsDistance(e,d.DvTagDataObject.getDVScript()));t.push(n)}return t}static getInstance(){return null==y.instance&&(y.instance=new y(u.WindowAdaptor.workingWindow())),y.instance}}t.CustomGetElementsByTagName=y},3903:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GetElementByID=void 0;const r=i(425),n=i(3380),a=i(7749),s=i(8564);t.GetElementByID=class{constructor(e){this.elementId=e}scan(){const e=[],t=r.BrowserAdaptor.getElementById(this.elementId);if(t){const i=new s.DomAdData(t,n.Utilities.getElementsDistance(t,a.DvTagDataObject.getDVScript()));e.push(i)}return e}}},7754:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GetElementsByClassName=void 0;const r=i(425),n=i(3380),a=i(7749),s=i(8564);t.GetElementsByClassName=class{constructor(e){this.btreg=e}scan(){let e=[],t=r.BrowserAdaptor.getElementsByClassName(this.btreg);for(let i of t){let t=new s.DomAdData(i,n.Utilities.getElementsDistance(i,a.DvTagDataObject.getDVScript()));e.push(t)}return e}}},8457:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GetElementByIdOrTagName=void 0;const r=i(8564),n=i(4211),a=i(9670),s=i(163),o=i(1346),d=i(8689),l=i(9038),c=i(2978),u=i(6466),p=i(6635),h=i(1765),g=i(425),m=i(7749),v=i(3158),b=i(3380),y=i(8170),f=i(749);t.GetElementByIdOrTagName=class{constructor(e,t,i,r){this.searchWin=e,this.fallbackScanner=t,this.elementId=i,this.locatorMethod=r,this.tagScanners={EMBED:s.ScanEmbedElement,OBJECT:u.ScanObjectElement,LINK:c.ScanLinkElement,IMG:l.ScanImageElement,SPAN:p.ScanSpanElement,IFRAME:d.ScanIframeElement,DIV:a.ScanDivElement,FRAME:o.ScanFrameElement,CANVAS:n.ScanCanvasElement,SVG:h.ScanSvgElement},y.DiagnosticParamsSingleton.reportOnce("btreg",m.DvTagDataObject.getBtreg())}scan(e){var t,i;const r=null!==(t=this.scanElementsById(e))&&void 0!==t?t:[];return r.length>0?r:null!==(i=this.scanElementsByTagName(e))&&void 0!==i?i:[]}scanElementsById(e){const t=g.BrowserAdaptor.getElementById(this.elementId,this.searchWin.document);if(!t)return this.reportBtregOptimizationSuccess(0),[];const i=this.getTagScanner(t);if(!i)return this.reportBtregOptimizationSuccess(1),[];if(!e.validate(t))return this.reportBtregOptimizationSuccess(2),[];const n=i.extractAd(t),a=new r.DomAdData(n,b.Utilities.getElementsDistance(n,m.DvTagDataObject.getDVScript()));return this.reportBtregOptimizationSuccess(3),[a]}reportBtregOptimizationSuccess(e){const t=`${y.DiagnosticParamsSingleton.getQueryParamName("btros")}_${this.locatorMethod}`;f.MessageHandler.sendMessage({[t]:e,[y.DiagnosticParamsSingleton.getQueryParamName("btreg")]:m.DvTagDataObject.getBtreg()})}scanElementsByTagName(e){var t,i;return null!==(i=null===(t=this.fallbackScanner)||void 0===t?void 0:t.scan(e))&&void 0!==i?i:[]}getTagScanner(e){const t=e.tagName,i=this.tagScanners[t];return null!=i?new i:-1!=m.DvTagDataObject.getCustomTags().indexOf(t)?new v.ScanCustomElement(this.searchWin,t):null}}},6352:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GetElementsByTagName=void 0;const r=i(163),n=i(6466),a=i(2978),s=i(9038),o=i(6635),d=i(8689),l=i(9670),c=i(1346),u=i(7749),p=i(3158),h=i(4211),g=i(1765),m=i(3868),v=i(3380),b=i(8564);class y{constructor(e){this.byTagScanners=[],this.byTagScanners.push(new r.ScanEmbedElement(e)),this.byTagScanners.push(new n.ScanObjectElement(e)),this.byTagScanners.push(new a.ScanLinkElement(e)),this.byTagScanners.push(new s.ScanImageElement(e)),this.byTagScanners.push(new o.ScanSpanElement(e)),this.byTagScanners.push(new d.ScanIframeElement(e)),this.byTagScanners.push(new l.ScanDivElement(e)),this.byTagScanners.push(new c.ScanFrameElement(e)),this.byTagScanners.push(new h.ScanCanvasElement(e)),this.byTagScanners.push(new g.ScanSvgElement(e)),u.DvTagDataObject.getCustomTags().forEach((t=>this.byTagScanners.unshift(new p.ScanCustomElement(e,t))))}scan(e){let t=[];for(let i of this.byTagScanners)for(let r of i.scan())if(e.validate(r)){let e=i.extractAd(r),n=new b.DomAdData(e,v.Utilities.getElementsDistance(e,u.DvTagDataObject.getDVScript()));t.push(n)}return t}static getInstance(){return null==y.instance&&(y.instance=new y(m.WindowAdaptor.workingWindow())),y.instance}}t.GetElementsByTagName=y},483:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.NearestAdScannerSingleton=t.NearestAdScanner=void 0;const r=i(3380),n=i(425),a=i(7749),s=i(8564);class o{constructor(){this.maxScanDepth=20,this.scanValidityTime=1e3,this.elementsList=[]}scan(e){this.dvTag=this.dvTag||a.DvTagDataObject.getDVScript();let t=[],i=[];if(0==this.elementsList.length||r.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime){let e=this.getStartElement();e&&(this.getElements(e.domElement,e.depth),this.lastScanTime=r.Utilities.getCurrentTime())}for(let i of this.elementsList)if(e.validate(i)){let e=new s.DomAdData(i,r.Utilities.getElementsDistance(i,this.dvTag));t.push(e)}return t.length>0&&(i=t.sort((function(e,t){return e.depth-t.depth})).slice(0,5)),i}getStartElement(){let e,t=this.dvTag;for(e=0;e<this.maxScanDepth;e++){let e=r.Utilities.getElementParent(t);if(!e)break;t=e}return new s.DomAdData(t,e)}getElements(e,t){if(e&&Math.abs(t)<=this.maxScanDepth){this.elementsList.push(e);let i=n.BrowserAdaptor.getElementChildren(e);i&&i.length>0&&i.forEach((e=>this.getElements(e,t-1)))}}}t.NearestAdScanner=o,t.NearestAdScannerSingleton=new o},4846:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InAppHtml5VideoAdLocator=void 0;const r=i(5219),n=i(7749),a=i(425),s=i(455),o=i(712),d=i(6689);class l extends r.BaseAdLocator{constructor(){super(1)}getAds(){let e=a.BrowserAdaptor.getElementsByTagNameFromDocument("video")[0];if(e)return[new s.AdCandidateData(e)]}isSupported(){return!d.OmidWrapper.isSupported()&&n.DvTagDataObject.getTagType()==o.DvTagType.Video}getSupportedDeliveryType(){return[3]}getPriority(){return 100}getMethod(){return o.LocatorMethods.VideoInAppHtml5}}t.InAppHtml5VideoAdLocator=l},8066:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InAppVpaidVideoAdLocator=void 0;const r=i(7749),n=i(5219),a=i(455),s=i(712),o=i(6689),d=i(1063);class l extends n.BaseAdLocator{constructor(){super(5,1e3)}isSupported(){return!o.OmidWrapper.isSupported()&&r.DvTagDataObject.getTagType()==s.DvTagType.Video&&!!r.DvTagDataObject.getAdID()}getAds(){let e=d.VpaidWrapper.getDvVpaid();if(e){let t=e.asset;if(t&&t.player){return[new a.AdCandidateData(t.player)]}}}getSupportedDeliveryType(){return[3]}getPriority(){return 200}getMethod(){return s.LocatorMethods.VideoInAppVpaid}}t.InAppVpaidVideoAdLocator=l},9260:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InmobiVideoAdLocator=void 0;const r=i(5219),n=i(6689),a=i(7749),s=i(712),o=i(455),d=i(1800),l=i(7360),c=i(8426);class u extends r.BaseAdLocator{constructor(){super(5,1e3),this.isSupported()&&(l.EventBus.dispatchEvent(l.DvEvent.delayAdSelection,new d.DelayTimerData(3100)),c.InmobiWrapper.addEventListenerWithHistory(this.handleInmobiAdLoadedEvent.bind(this)))}isSupported(){return!n.OmidWrapper.isSupported()&&a.DvTagDataObject.getTagType()==s.DvTagType.Video&&c.InmobiWrapper.isSupported()}getAds(){if(this.adElement){return[new o.AdCandidateData(this.adElement)]}}getSupportedDeliveryType(){return[3]}getPriority(){return 1e4}getMethod(){return s.LocatorMethods.VideoInAppInmobi}handleInmobiAdLoadedEvent(e){e&&"AdLoaded"==e.type&&e.detail&&e.detail.element&&(this.adElement=e.detail.element)}}t.InmobiVideoAdLocator=u},554:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.NonInAppVpaidVideoAdLocator=void 0;const r=i(7749),n=i(5219),a=i(455),s=i(712),o=i(6689),d=i(1063);class l extends n.BaseAdLocator{constructor(){super(5,1e3)}isSupported(){return!o.OmidWrapper.isSupported()&&r.DvTagDataObject.getTagType()==s.DvTagType.Video&&!!r.DvTagDataObject.getAdID()}getAds(){let e=d.VpaidWrapper.getDvVpaid();if(e){let t=e.asset;if(t&&t.player){return[new a.AdCandidateData(t.player)]}}}getSupportedDeliveryType(){return[1,2,0]}getPriority(){return 1}getMethod(){return s.LocatorMethods.VideoNonInAppVpaid}}t.NonInAppVpaidVideoAdLocator=l},1545:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorHandler=void 0;const r=i(3872);t.ErrorHandler=(e,t,i,n)=>({createErrorRequestParamsObject(e,t=""){const a={flvr:"1",dvp_jsctx:i.getClientCode()||"",dvp_jscmp:i.getAdServerCampaignCode()||"",dvp_jsplc:i.getAdServerSiteCode()||"",dvp_jssid:i.getPlacementId()||"",ctx:"818052",cmp:"1619415",dvp_isLostImp:"1",ssl:"1",gdpr:i.getGDPR()||"",gdpr_consent:i.getGDPRConsent()||"",ver:n.getDvtpScriptVersion(),dvp_cert:r.ClientErrorType[e]};return t&&(a.dvp_jsErrMsg=t),a},generateErrorQueryString:e=>t.serializeObjectToQueryString(e,!1),reportError(t,i=""){const r=this.createErrorRequestParamsObject(t,i),n=`undefinedundefined?${this.generateErrorQueryString(r)}`;e.sendBeacon(n,!0)}})},6625:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BlockingHandler=void 0;const r=i(1457),n=i(7360),a=i(1545),s=i(3872),o=i(712),d=i(749);t.BlockingHandler=(e,t,i,l,c,u,p)=>({displayBlockingCallback(e){const t=this.getGoogleBlockingCallbackFunctionName(),r=this.resolveGoogleBlockingCallback(t);if("function"==typeof r)i.setTimeout((()=>{try{r({block:e})}catch(e){d.MessageHandler.sendError(o.ClientErrorType.GoogleBlockingCallbackError,e,`invocationError ${t}`)}}),0);else{const e=`Failed to resolve callback: ${r} is not a function.`;d.MessageHandler.sendError(o.ClientErrorType.GoogleBlockingCallbackError,new Error(e),`callbackResolutionError ${t}`)}},videoBlockingCallback(e){if(e)try{const e=c.getVideoBlockingCallbackUrl();if(e&&"string"==typeof e){const t=decodeURIComponent(e);navigator.sendBeacon(t)}}catch(e){this.errorHandler().reportError(s.ClientErrorType.VideoBlockingCallbackError,e.message)}},blockingDecisionCallback(i){if(c.getTagType()==o.DvTagType.Video)this.videoBlockingCallback(i);else if(this.displayBlockingCallback(i),!i)if(c.getIsMonitoring())t(e);else{const e=this.resolveCreativeContainer();try{e.style.visibility=""}catch(e){}}},initDvbs(){window.$dvbs=window.$dv,window.$dvbs.pubSub||(window.$dvbs.pubSub=n.EventBusGlobal)},resolveCreativeContainer(){const e=c.getCm360ContainerId();return document.getElementById(e)},getGoogleBlockingCallbackFunctionName:()=>c.getCm360BlockingCallbackFnName(),resolveGoogleBlockingCallback:e=>window[e],errorHandler:()=>(0,a.ErrorHandler)(i,p,c,l),execute(){try{this.initDvbs();const n=this.resolveCreativeContainer(),a=(0,r.VerifyHandler)(e,u,i,p,c,l,n,this.blockingDecisionCallback.bind(this),this.errorHandler(),t);try{a.doVerifyRequest()}catch(e){this.errorHandler().reportError(s.ClientErrorType.SendVerifyRequestFailure,"Send verify request failed. "+e.message)}}catch(e){this.errorHandler().reportError(s.ClientErrorType.BlockingMainError,e.message)}}})},3872:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.requiredTpsParams=t.optionalTpsParams=t.collectedTpsParams=t.ClientErrorType=void 0;var i;!function(e){e[e.VerifyLoadJSONPCallbackFailed=1]="VerifyLoadJSONPCallbackFailed",e[e.VerifyFailedToLoad=2]="VerifyFailedToLoad",e[e.AdRenderedUponVerifyFailure=3]="AdRenderedUponVerifyFailure",e[e.SendVerifyRequestFailure=4]="SendVerifyRequestFailure",e[e.TPSDataCollectorError=5]="TPSDataCollectorError",e[e.VideoBlockingCallbackError=6]="VideoBlockingCallbackError",e[e.BlockingMainError=7]="BlockingMainError"}(i||(t.ClientErrorType=i={})),t.collectedTpsParams=["additionalUrlDepth","browserId","browserIdUserAgent","browserVersion","cookieLength","documentElementCount","domainLookupTime","historyLength","historyLength","idcResults","idcVersion","iframeCount","innerHeight","innerWidth","isChrome","isOvv","numberOfCores","outerHeight","outerWidth","postMessageSupported","referrerDepth","referrerUrlExtractedFromSafeFrame","screenHeight","screenWidth","scriptVersion","uid","widgetCount","windowDepth","timeToFirstReportMs"],t.optionalTpsParams=["eparams","referrerUrl","vastWrapperUrl"],t.requiredTpsParams=["adid","adsrv","advid","app","cmp","crt","ctx","dup","gmnpo","isdvvid","plc","sid","supplySource","tagtype","unit"]},1457:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VerifyHandler=void 0;const r=i(7658),n=i(749),a=i(3872),s=i(7183),o=i(712),d=i(9532),l=i(425);t.VerifyHandler=(e,t,i,c,u,p,h,g,m,v)=>({impressionId:"",isJSONPCalled:!1,serverPublicDns:"",appendTpsParam:(t,i)=>Object.assign(t,{[r.TPSDataMapping[i]]:e[i]}),assertRequiredParams(e){const t=Object.assign({},e);return a.requiredTpsParams.forEach((i=>{i in e||(t[i]="")})),t},buildRequestUrl(e,t){let i=`undefinedundefined?${c.serializeObjectToQueryString(e,!1)}`,r=!1;return Object.keys(t).filter((e=>t.hasOwnProperty(e)&&!!t[e])).forEach((e=>{const n=t[e],a=c.serializeObjectToQueryString({[e]:n},!1),s=i.length+a.length+1;c.isExceedingMaxUrlLength(s)?r=!0:i+="&"+a})),r&&(i+="&dvf=3"),i},buildVerifyRequestObj(){const t=u.getLowerCaseParams(),i=this.assertRequiredParams(t),n=a.collectedTpsParams.reduce(((e,t)=>this.appendTpsParam(e,t)),{}),s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({num:6,dvp_isOnHead:0,flvr:1,ver:4946,jsCallback:this.generateVerifyCallbackName(),jsTagObjCallback:this.generateTagCallbackName(),ssl:"https:"===e.isSsl?1:0},e.isMraid&&{[r.TPSDataMapping.isMraid]:1}),"video"===e.tagtype&&{DVP_BYPASS219:1}),e.isPreRender&&{prndr:1}),e.dvpParamsFlags&&{dvf:e.dvpParamsFlags}),e.safeFrameExists&&{sfe:1}),e.hijackedDeviceSignatureBits>0&&{hdsig:e.hijackedDeviceSignatureBits}),e.idcError&&{dvp_idcerr:e.idcError}),e.browserFeatures&&{m1:e.browserFeatures}),e.browserSignatureBits&&e.browserSignatureFamilyBits&&{bsig:e.browserSignatureFamilyBits,usig:e.browserSignatureBits}),o=a.optionalTpsParams.reduce(((e,t)=>this.appendTpsParam(e,t)),{});Object.keys(o).forEach((e=>{try{delete i[e]}catch(e){}}));const d=Object.assign({},i,n,s,e.additionalParams);return{params:this.filterRequestObject(d),lowPriorityParams:this.filterRequestObject(o)}},doVerifyRequest(){this.initPerformanceMetrics();const{params:e,lowPriorityParams:t}=this.buildVerifyRequestObj(),i=this.buildRequestUrl(e,t),r=this.generateScriptId(),n=this.generateOnErrorCallback(),a=this.generateOnLoadCallback(),s=this.generateTagCallbackName(),o=this.generateVerifyCallbackName();this.injectTagObjectCallback(s),this.injectVerifyCallback(o),this.injectVerifyTag(i,r,n,a),p.setVerifyInjectedMS(c.getCurrentTime())},filterRequestObject(e){const t=Object.keys(e).filter((t=>{const i=e[t];return!(null==i)&&(!!("number"==typeof i||"string"==typeof i||"boolean"==typeof i)||(Array.isArray(i)?i.length>0:Object.keys(i).length>0))}));return c.pick(e,t)},injectTagObjectCallback(i){const r=t.currentWindow(),n=this;r[i]=t=>{var i;const r=p.getDvObject(),a=t.ImpressionID;n.impressionId=a,e.bsimpid=a,n.serverPublicDns=t.ServerPublicDns,r.tagData=r.tagData||{},r.tags[a]=this.buildTagObject(t);const s=p.getDvObject();(null===(i=s.pubSub)||void 0===i?void 0:i.excludeFrameId)&&s.pubSub.excludeFrameId(t.ImpressionID),u.setBlockingServerPrefix(`https://${t.ServerPublicDns}/`)}},monitorPerformance(e,t){const i={};try{if(e&&e.performance&&e.performance.getEntries){const r=e.performance.getEntries();for(let e=0;e<r.length;e++){const n=r[e],a=n.name.match(/.*\/(.+?)\./);if(!a||!a[1])continue;const s=a[1].replace(/\d+$/,""),o=t[s];if(o){for(let e=0;e<o.stats.length;e++){const t=o.stats[e],r=n[t.name];"number"==typeof r&&(i[o.prefix+t.prefix]=Math.round(r))}if(delete t[s],c.isEmptyObject(t))break}}}}catch(e){}return i},generateDefaultPassback:(e,t)=>decodeURIComponent("%3Cdiv%20style%3D%22display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20width%3A%20"+e+"px%3B%20height%3A%20"+t+"px%3B%20outline-offset%3A%20-1px%3B%20background%3A%20url('data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAAGWvHq%2BAAAABmJLR0QA%2FwD%2FAP%2BgvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AQBECEbFuFN7gAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAFBklEQVRo3uUby3arOEzxAbxIyKLt%2F%2F9gIQtIF4aFZ5ERVxhJyIbcnjmjTZLast4vQ%2BG762OMMX53fQzTFIfxGenfKvgXvj4%2FoOsfy3eECgBgmmcYhnFZ6PoHeO%2F%2FbBiGEQAAxufPghlC%2BLOBYqa%2FHezAJcYYOUz87QAA7vd2g4lMAsrLfQJ%2BQeUM43PZsMJEwN8L58gMfgIAAMVKv6syX4bxGVF9qTiuvV2Byouf7e0Kl%2B%2Buj6kJU8aktV07aFClTkThfm9hGMbNGu53dCNd%2FPr8gBCm5TsnAivz%2BPwBqkHvPaDiVvpAW6Nh0FBhmpagSdfQV0Q7oVySPrz3LyO3t%2BvCKrJIHTtdG58%2FvLycZk%2Bzr1uFkgFWuYHKZHHNEMIr4lMb0pO5v7e3qyyj983KATYydv1jswFZneZ5wzaKVaEMVnNgjsw2B8pcbMdLmKbY1PVG5dTl0rVpnsGlSDReOcfo%2Bgc0df3SagrTPC8m4aDrH1ClaR4AgHKRmgN%2FL9HBbeI4wdKVitXUtYpLGXPSgpUg1lBaPzWCWW6wJ4lkB9aFUL1pQkXOvW9WBDltULNM8wwhTEtIcQn88t31kdpEU7FmOwsemqiiqtPsQvufXMCmCulUSKy9XaG9XYGrLhbv1iSlWU0NGdyQqlPKBHQfh0vxVkQ1abSQybX3oQ7nUPWUpEQ1oaokLVAnSfG4cy8xxpjrEFyVtuCJNt3rETDgu%2F6xiT9zRqKSci0DxzHdZ5E0zXabjGTtwSxr9FyqjazSJkmTi%2Bckb01BS5HaGnems%2BZWzdb62qQTfQdwDDl2Wj0RuKnYpX1sDrJljcvHTqow4%2FNn5SBNXYuzPD0Y8agDsRlpr3NIg1vyYGnSS%2BPUURVIcRhC2A0ZyYPxTKqNyuo8IYRlpMSGLYRJDRdOYyEEqEpDIIfY5qYhhLBrL0s%2BLS7imqq995tijYVdCxlx0EMnaW9XlvD93m4aZ0s4cZ3gqspYOjppRKcMcXipGZyU7Ju63iXIhVOKx53trCWqtMpwZzor8n%2BqynBnnlJlNGa5M51VSmlksBSDlOHlKk%2FzUq0KcVVEYgidytz3coS19lPrFh1y2fUP1Xu1HKsRxHWakao9hLNglZHeESaal3vvocKx3zKP7BXnLJtaxgNkjKY1Wp1y7inYUVG7Akg79vSeKefKwHJ1kEtTikBxJrYkmpIBr1TgPdgbrZ1WkPbuz84UEiNZG1ZLhdydE0sqeqlytGG2pEt4%2B0Ccc9H8zs4kS1Br0542F0fqR0lesOCwyehoIioZq86gqcWq6XbZwrTGqMSAhmOhKWVpjp74PObIsLt3R3g0g1oETs8R32woFbLEHUuEs9CiZa6SslZJmpcuf%2F4GcNc0tDf9lYcxvwGVrI3mkDVeY0NjbumOui9XCtkYlZJIbjt3pF8tzQ0czZTvTXnJSdlHSstRXAlPUpQ4vRy1TK4nnNEwaDTd2ZNE6fQSQiieevBiprjXLamjpco5Mv1YSuH%2Fpry4o%2BMPN70cgZI4tYyG7h3J4evzI1tJ%2BIynBLTHMdnlpXQKsTQCkoAaPakZEctL%2BpbK0Y7FMkloCnrXHMsKileMpS0ZR3zvveez2kDJG6szRiSuJqaulfbOaQJ5KfcYH5wnLK82v2uMCmHaPDz%2BDVj%2BfSNNBGdZmIu9v6EIKWbVZHTmVYrl9clSRVsS0urOKDdlW1J%2B6SubFoH3SiF13X8A3uobUgsAG3MAAAAASUVORK5CYII%3D')%20repeat%3B%20outline%3A%20solid%201px%20%23969696%3B%22%3E%3C%2Fdiv%3E"),generateEmptyPassback:(e,t)=>decodeURIComponent("%3Cstyle%3E%0A.dvbs_container%20%7B%0A%09border%3A%201px%20solid%20%233b599e%3B%0A%09overflow%3A%20hidden%3B%0A%09filter%3A%20progid%3ADXImageTransform.Microsoft.gradient(startColorstr%3D%27%23315d8c%27%2C%20endColorstr%3D%27%2384aace%27)%3B%0A%7D%0A%3C%2Fstyle%3E%0A%3Cdiv%20class%3D%22dvbs_container%22%20style%3D%22width%3A%20"+e+"px%3B%20height%3A%20"+t+"px%3B%22%3E%09%0A%3C%2Fdiv%3E"),exposeContainer(e){e.style.visibility=""},generatePassbackIframe(e,t=null,i=null){const r=`\n      <html style="margin:0; padding:0; overflow:hidden;">\n        <head></head>\n        <body style="margin:0; padding:0; overflow:hidden;">\n          ${e}\n        </body>\n      </html>`,n=document.createElement("iframe");return n.style.border="0",n.style.height=i?`${i}px`:"100%",n.style.width=t?`${t}px`:"100%",n.style.overflow="hidden",n.src="data:text/html,"+encodeURIComponent(r),n},injectPassbackContent(e,t=null,i=null){try{h.innerHTML="";const r=this.generatePassbackIframe(e,t,i);h.appendChild(r)}catch(e){}},injectVerifyCallback(r){const n=t.currentWindow(),a=this;n[r]=t=>{this.isJSONPCalled=!0;let r=!1;switch(a.shouldInvokeVpaidCallback()&&l.BrowserAdaptor.setTimeout((()=>{(0,s.VpaidHandler)(t,c,i,e,a.impressionId,u.getBlockingServerPrefix(),u.getAdID(),u.getBlockingPartnerCallbackName(),v).execute()}),0),t.ResultID){case 1:let e;r=!0;const i=t.AdHeight?parseInt(t.AdHeight):null,n=t.AdWidth?parseInt(t.AdWidth):null;t.Passback?e=decodeURIComponent(t.Passback):n&&i&&(e=this.generateDefaultPassback(n,i)),e&&h&&(this.injectPassbackContent(e,n,i),this.exposeContainer(h));break;case 2:case 3:break;case 4:if(h&&t.AdWidth&&t.AdHeight){const e=parseInt(t.AdWidth),i=parseInt(t.AdHeight),r=this.generateEmptyPassback(e,i);this.injectPassbackContent(r),this.exposeContainer(h)}}(0,d.TagExtensionsHandler)(a.impressionId,t.ServerContext||{}).execute(),this.reportPerformanceMetrics(),this.reportBlockDecision(r)}},generateOnErrorCallback(){return()=>{this.reportError(a.ClientErrorType.VerifyFailedToLoad),this.renderAdFromError("VFTL")}},generateOnLoadCallback(){return()=>{this.isJSONPCalled||(this.reportError(a.ClientErrorType.VerifyFailedToLoad),this.renderAdFromError("VCF"))}},generateScriptId:()=>`verify-call-${p.getTagUniqueKey()}`,generateTagCallbackName:()=>`__tagObject_callback_${e.uid}`,generateVerifyCallbackName:()=>`__verify_callback_${e.uid}`,initPerformanceMetrics(){t.isPerformanceAPISupported()&&t.workingWindow().performance.mark("dv_create_req_start");const i=p.getTagLoadedMS(),r=c.getCurrentTime();e.timeToFirstReportMs=r-i},injectVerifyTag(e,r,n,a){const s=t.currentDocument(),o=t.getCurrentScript()||s.body;return i.addScriptAsync(e,o,r,n,a)},renderAdFromError(e=""){let t="AdRenderedUponVerifyFailure__"+e;try{this.exposeContainer(h)}catch(e){t+="__RenderingMethodFailed"}this.reportError(a.ClientErrorType.AdRenderedUponVerifyFailure,t)},reportBlockDecision(e){try{g(e)}catch(e){}},reportPerformanceMetrics(){try{const e=t.currentWindow(),i=this,r={verify:{prefix:"vf",stats:[{name:"duration",prefix:"dur"},{name:"transferSize",prefix:"sz"}]},dvtp_src:{prefix:"tg",stats:[{name:"duration",prefix:"dur"}]}},a=i.monitorPerformance(e,r),s=c.getCurrentTime();n.MessageHandler.registerEventCall(i.impressionId,Object.assign(Object.assign({},a),{tuveims:p.getVerifyInjectedMS()-p.getTagLoadedMS(),tuveems:s-p.getTagLoadedMS()}))}catch(e){}},reportError(e,t){m.reportError(e,null!=t?t:"")},buildTagObject(t){const i={dv_protocol:"https:"};return i.ServerPublicDns=t.ServerPublicDns,i.tagElement=p.getTagScriptElem(),i.type="blocking",i.uid=e.uid,i},shouldInvokeVpaidCallback(){const e=u.getAdID();return u.getTagType()===o.DvTagType.Video&&e.length>0}})},7183:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VpaidHandler=void 0;const r=i(425);t.VpaidHandler=(e,t,i,n,a,s,o,d,l)=>({wasMonitoringInjected:!1,execute(){this.reportBsEvent({dvp_innovidImp:1}),this.injectResponseReceivedCallback(),this.bindVideoEvents()},bindOrReportVideoEvent(e,t){const i=this.getPreviousVpaidEvents(),r=this;if(i.indexOf(e)>-1)r.reportVideoTimingEvent(t);else{const i=()=>{r.reportVideoTimingEvent(t)};this.getVpaidWrapper().subscribe(i,e)}},bindVideoEvents(){try{const e=this.getVpaidWrapper();if((null==e?void 0:e.getPreviousEvents)&&"function"==typeof e.getPreviousEvents){e.getPreviousEvents().indexOf("AdStarted")>-1?this.initiateMonitoring():e.subscribe(this.initiateMonitoring.bind(this),"AdStarted"),this.bindOrReportVideoEvent("AdError","dvp_ader"),this.bindOrReportVideoEvent("AdStopped","dvp_adst"),this.bindOrReportVideoEvent("AdVideoStart","dvp_avse"),this.bindOrReportVideoEvent("AdImpression","dvp_aie")}else this.reportBsEvent({dvp_innovidCallbackEx:3,dvp_innovidCallbackExMsg:"vpaidWrapper.getPreviousEvents not a function"})}catch(e){this.reportBsEvent({dvp_innovidCallbackEx:2,dvp_innovidCallbackExMsg:e.message})}},buildEventUrl(e){return`${this.generateBsEventBaseUrl()}&${t.serializeObjectToQueryString(e,!0)}`},generateBsEventBaseUrl(){const e="impid="+encodeURIComponent(a);return`${s}bsevent.gif?${e}`},generateResponseReceivedCallbackName:()=>`responseReceived_${a}`,generateTimestamp(){try{return Date.now()}catch(e){return(new Date).getTime()}},getEventParams(e){const t=this.resolveOriginalResultId();let i,r=t;if(!e)switch(r=2,t){case 1:i=21;break;case 2:i=20;break;case 3:i=22;break;case 4:i=23}const n=e?"1":"0";return Object.assign({bres:r,dvp_blkDecUsed:n},i&&{breason:i})},getPreviousVpaidEvents(){return this.getVpaidWrapper().getPreviousEvents()},getVpaidWrapper:()=>window[o](),initiateMonitoring(){this.wasMonitoringInjected||(this.wasMonitoringInjected=!0,this.reportBsEvent({dvp_injd:1}),"undefined"!=typeof process&&void 0!==process.env||l(n))},injectResponseReceivedCallback(){const e=this.resolveOriginalResultId(),t=this.generateResponseReceivedCallbackName();if("function"==typeof window[d]){let i=!1;const n=this;r.BrowserAdaptor.setTimeout((()=>{n.reportBsEvent({dvp_wasCallbackCalled:i})}),1e3),window[t]=function(e,t,r,a,s,o,d){i=!0;try{if(d)n.reportBsEvent({dvp_stat:d});else{const i=n.generateTimestamp();n.reportBsEvent({dvp_r9:i});const o=n.getEventParams(t);o.dvp_cStartTS=r,o.dvp_cEndTS=a,o.dvp_dReceivedTS=s,o.dvp_wasAdPlayed=e,n.reportBsEvent(o),e&&n.initiateMonitoring()}}catch(e){n.reportBsEvent({dvp_innovidCallbackEx:1,dvp_innovidCallbackExMsg:e.message})}};try{const i=this.generateTimestamp();n.reportBsEvent({dvp_r8:i}),window[d](e,t)}catch(e){this.reportBsEvent({dvp_innovidEx:1,dvp_innovidExMsg:e.message})}}else this.reportBsEvent({dvp_innovidNoCallback:1})},reportBsEvent(e){const t=this.buildEventUrl(e);i.sendBeacon(t,!0)},reportVideoTimingEvent(e){const t={};t[e]=this.generateTimestamp(),this.reportBsEvent(t)},resolveOriginalResultId(){let t;switch(e.ResultID){case 5:t=1;break;case 6:t=2;break;default:t=e.ResultID}return t}})},5765:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdDomElementObserverBL=void 0;const r=i(7360),n=i(6751),a=i(3322);class s extends n.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adSelected]:this.startObservingDomElement.bind(this)}}startObservingDomElement(e){var t,i;const r=null===(t=null==e?void 0:e.adCandidate)||void 0===t?void 0:t.domElement,n=null===(i=null==e?void 0:e.adCandidate)||void 0===i?void 0:i.windowElement;if(r&&n){a.ScriptDynamicFlags.getInstance().turnOn(4);const e=new MutationObserver(function(t){this.handleDomElementRemoval(e,r,n)}.bind(this)),t={subtree:!0,childList:!0};e.observe(n.document,t)}}handleDomElementRemoval(e,t,i){i.document.contains(t)||(a.ScriptDynamicFlags.getInstance().turnOn(8),e.disconnect())}init(){}}t.AdDomElementObserverBL=s},3502:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdElementInfoExtractorBL=void 0;const r=i(7360),n=i(6751),a=i(3380),s=i(540);class o extends n.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adSelected]:this.adSelected.bind(this)}}adSelected(e){let t=this.extractAdElementType(e);t=this.logAdDimensionDataPoints(e)||t,t&&r.EventBus.dispatchEvent(r.DvEvent.reportData,e)}extractAdElementType(e){var t;return!!(null===(t=null==e?void 0:e.adCandidate)||void 0===t?void 0:t.domElement)&&(e.adCandidate.adElementType=a.Utilities.extractElementType(e.adCandidate.domElement),!0)}logAdDimensionDataPoints(e){var t;try{const i=null===(t=null==e?void 0:e.adCandidate)||void 0===t?void 0:t.domElement;if(!a.Utilities.isNullOrEmpty(i)){const{tagName:t}=i;if("IFRAME"===(null==t?void 0:t.toUpperCase())){const t=this.getIframeDocument(i);if(void 0!==t){const i=this.getBiggestChildElement(t);if(void 0!==i){const{scrollHeight:t,scrollWidth:r}=i;return e.adCandidate.largestChildElementHeight=t,e.adCandidate.largestChildElementWidth=r,!0}}}}return!1}catch(e){return!1}}getIframeDocument(e){try{return e.contentDocument||e.contentWindow.document}catch(e){return}}getBiggestChildElement(e){try{const t=this.getPotentialAdChildren(e);return this.findBiggestChild(t)}catch(e){}}findBiggestChild(e){const t=new s.ValidateByAdTypeAndSize;return e.filter((e=>t.validate(e))).reduce(((e,t)=>e.scrollHeight*e.scrollWidth>=t.scrollHeight*t.scrollWidth?e:t))}getPotentialAdChildren(e){const t=e.querySelectorAll(["object","embed","img","iframe","svg","canvas"].join(","));return Array.prototype.slice.call(t)}init(){}}t.AdElementInfoExtractorBL=o},4021:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdSelector=void 0;const r=i(7360),n=i(194),a=i(712),s=i(6751),o=i(1800),d=i(425),l=i(749),c=i(7749),u=i(8170);class p extends s.BaseAdBL{getActionName(){return"AdSelector"}init(){this.adCandidates=[],this.wasImpressionServed=!1,this.wasAdSelected=!1,this.timeoutOccurred=!1,this.adSelectedDelayTime=-1}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adCandidateLocated]:this.adCandidateLocated.bind(this),[r.DvEvent.impressionServed]:this.impressionServed.bind(this),[r.DvEvent.unloadData]:this.unloadData.bind(this),[r.DvEvent.delayAdSelection]:this.delayAdSelectionCalled.bind(this),[r.DvEvent.reserveAdLocator]:this.reserveAdLocator.bind(this)}}adCandidateLocated(e){const t=e.adCandidate;this.wasAdSelected||(this.fillAdCandidates(t),this.trySelectAd(),this.timeoutOccurred&&this.reportSelectedAd())}reportDetectedDeliveryType(){u.DiagnosticParamsSingleton.reportDiagnosticParam("ddtes",n.DvObject.getDetectedDeliveryTypeExtractionSource())}impressionServed(){this.wasImpressionServed=!0,this.adSelectedDefaultDelayTime=n.DvObject.getConsolidationTimeout()||2100,this.detectedDeliveryType=n.DvObject.getDetectedDeliveryType(),this.reportDetectedDeliveryType(),c.DvTagDataObject.getTagType()!=a.DvTagType.Video&&3!=this.detectedDeliveryType||(this.adSelectedDefaultDelayTime=0),this.trySelectAd(),this.registerAdSelectionTimeout(this.adSelectedDefaultDelayTime)}fillAdCandidates(e){let t=this.adCandidates.filter((t=>t.domElement==e.domElement))[0];t&&this.isSameDetectedDeliveryType(t,e)?(t.priority+=e.priority,t.locatorMethods=t.locatorMethods|e.locatorMethods,t.state=4==t.state?e.state:t.state):(this.adCandidates.push(e),r.EventBus.dispatchEvent(r.DvEvent.adCandidateApproved,new o.AdCandidateEventData(e)))}isSameDetectedDeliveryType(e,t){return e.supportedDeliveryType.every((e=>t.supportedDeliveryType.indexOf(e)>-1))}trySelectAd(){if(!this.wasImpressionServed||!this.adCandidates.length)return;let e=this.adCandidates.filter((e=>e.supportedDeliveryType.some((e=>e==this.detectedDeliveryType))&&1==e.state));if(this.adPriorityToReserve&&(e=e.filter((e=>e.priority>=this.adPriorityToReserve))),e.length){const t=e.reduce(((e,t)=>e.priority>=t.priority?e:t));this.currentSelectedAd!==t&&(this.currentSelectedAd=t,r.EventBus.dispatchEvent(r.DvEvent.bestAdCandidateChanged,new o.AdCandidateEventData(t)))}}reportSelectedAd(){if(this.timeoutOccurred=!0,this.currentSelectedAd&&!this.wasAdSelected)if(this.adPriorityToReserve&&this.currentSelectedAd.priority<this.adPriorityToReserve)this.currentSelectedAd=null;else{this.wasAdSelected=!0,this.currentSelectedAd.state=2;let e=new o.AdCandidateEventData(this.currentSelectedAd);r.EventBus.dispatchEvent(r.DvEvent.adSelected,e),this.setDestroySelectedAdTimeout(e)}this.destroyAds()}setDestroySelectedAdTimeout(e){d.BrowserAdaptor.setTimeout((()=>{r.EventBus.dispatchEvent(r.DvEvent.adDestroy,e)}),12e5)}unloadData(e){if(!this.wasImpressionServed)return;const t=e.relevantData;this.reportSelectedAd(),this.wasAdSelected||this.reportNotMeasured||(this.reportNotMeasured=!0,l.MessageHandler.sendMessage({isnmms:t.updateTime}))}destroyAds(){this.adCandidates.filter((e=>1==e.state)).forEach((e=>{r.EventBus.dispatchEvent(r.DvEvent.adDestroy,new o.AdCandidateEventData(e)),e.state=3}))}reserveAdLocator(e){this.adPriorityToReserve=e.adPriority}delayAdSelectionCalled(e){const t=e.delayTimeMS;this.registerAdSelectionTimeout(t)}registerAdSelectionTimeout(e){!this.wasAdSelected&&e>this.adSelectedDelayTime&&(this.adSelectedDelayTime=e,this.adSelectionTimeoutId&&d.BrowserAdaptor.clearTimeout(this.adSelectionTimeoutId),this.adSelectionTimeoutId=d.BrowserAdaptor.setTimeout(this.reportSelectedAd.bind(this),this.adSelectedDelayTime))}}t.AdSelector=p},1847:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdSelectorLogger=void 0;const r=i(7360),n=i(712),a=i(6751),s=i(749),o=i(8170),d=i(3380);class l extends a.BaseAdBL{init(){this.adCandidatesLocatorMethods=0,this.numberOfAdCandidates=0,this.wasAdSelected=!1}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adCandidateLocated]:this.adCandidateLocated.bind(this),[r.DvEvent.adCandidateApproved]:this.adCandidateApproved.bind(this),[r.DvEvent.adSelected]:this.adSelected.bind(this)}}adCandidateLocated(e){this.wasAdSelected||(this.adCandidatesLocatorMethods=this.adCandidatesLocatorMethods|e.adCandidate.locatorMethods)}adCandidateApproved(){this.numberOfAdCandidates++}adSelected(e){this.wasAdSelected=!0,s.MessageHandler.sendMessage({msrcanlm:this.adCandidatesLocatorMethods,msrcannum:this.numberOfAdCandidates,[o.DiagnosticParamsSingleton.getQueryParamName("tmads")]:d.Utilities.getTimeDiff()}),e.adCandidate.locatorMethods&(n.LocatorMethods.DisplayIntegratedCeltra|n.LocatorMethods.DisplayNonIntegratedCeltra)&&s.MessageHandler.sendMessage({dvp_csm:e.adCandidate.celtraTagSearchMethod})}}t.AdSelectorLogger=l},8720:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdSizeBL=void 0;const r=i(6751),n=i(7360),a=i(1800),s=i(7749),o=i(712);class d extends r.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleAdSizeData.bind(this)}}handleAdSizeData(e){const t=e.adCandidate,i=e.relevantData;if(s.DvTagDataObject.getTagType()==o.DvTagType.Video&&!i.adIsPlaying||t.adWidth&&t.adHeight||!i.adSize)return;const r=t.adWidth,d=t.adHeight;if(t.adWidth=i.adSize.width?Math.ceil(i.adSize.width):t.adWidth,t.adHeight=i.adSize.height?Math.ceil(i.adSize.height):t.adHeight,r!=t.adWidth||d!=t.adHeight){const e=new a.AdCandidateEventData(t);n.EventBus.dispatchEvent(n.DvEvent.adSizeChangedData,e),n.EventBus.dispatchEvent(n.DvEvent.reportData,e)}}}t.AdSizeBL=d},3738:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdWrapperSizeBL=void 0;const r=i(6751),n=i(7360),a=i(712),s=i(3380),o=i(3868),d=i(749);class l extends r.BaseAdBL{init(){}isSupported(){return!(1&o.WindowAdaptor.getScenarioType()||4&o.WindowAdaptor.getScenarioType())}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleWrapperAdSizeData.bind(this)}}handleWrapperAdSizeData(e){var t,i;try{const r=e.relevantData,a=null===(t=null==e?void 0:e.adCandidate)||void 0===t?void 0:t.adWrapperHeight,o=null===(i=null==e?void 0:e.adCandidate)||void 0===i?void 0:i.adWrapperWidth,{wrapperSize:{height:d,width:l}={}}=r;if(!s.Utilities.isNullOrEmpty(d)&&!s.Utilities.isNullOrEmpty(l)){const t=Math.round(d),i=Math.round(l);e.adCandidate.adWrapperHeight=t,e.adCandidate.adWrapperWidth=i,t===a&&i===o||n.EventBus.dispatchEvent(n.DvEvent.reportData,e)}}catch(e){d.MessageHandler.sendError(a.ClientErrorType.MeasurementError,e,"couldn't extract wrapper Size")}}}t.AdWrapperSizeBL=l},6751:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAdBL=void 0;const r=i(7360);t.BaseAdBL=class{constructor(){this.isSupported()&&(this.init(),r.EventBus.addEventsListener(this.getEventsAndCallbacksToRegister(),this.getActionName()))}getActionName(){return"BaseAdBL"}}},7127:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAdDataLoggerBL=void 0;const r=i(7360),n=i(194),a=i(1800),s=i(3380);t.BaseAdDataLoggerBL=class{constructor(){this.isSupported()&&s.Utilities.isPercentageCriteriaPassed(this.getTrafficPercentage())&&this.init()}init(){r.EventBus.addEventListener(r.DvEvent.impressionServed,(()=>{this.isSupportedDetectedDeliveryType()&&r.EventBus.addEventsListener(this.getEventsAndCallbacksToRegister(),this.getActionName())}))}report(e){r.EventBus.dispatchEvent(r.DvEvent.reportData,new a.AdCandidateEventData(e))}isSupportedDetectedDeliveryType(){return this.getSupportedDetectedDeliveryType().some((e=>e==n.DvObject.getDetectedDeliveryType()))}}},6128:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Cm360Logger=void 0;const r=i(6751),n=i(7749),a=i(712),s=i(7360),o=i(749);class d extends r.BaseAdBL{constructor(e){super(),this.adContainerInspector=e.createAdContainerInspector()}getEventsAndCallbacksToRegister(){return{[s.DvEvent.impressionServed]:this.reportAdContainerData.bind(this)}}reportAdContainerData(){var e,t,i,r,n,a;let s={};s.dvp_ime=null===(e=this.adContainerInspector)||void 0===e?void 0:e.getDescendants(["img"]).length,s.dvp_dcime=null===(t=this.adContainerInspector)||void 0===t?void 0:t.getDirectChildren(["img"]).length,s.dvp_dcife=null===(i=this.adContainerInspector)||void 0===i?void 0:i.getDirectChildren(["iframe"]).length,s.dvp_dcde=null===(r=this.adContainerInspector)||void 0===r?void 0:r.getDirectChildren(["div"]).length,s.dvp_dcoe=null===(n=this.adContainerInspector)||void 0===n?void 0:n.getDirectChildren([],["img","iframe","div"]).length;const d=null===(a=this.adContainerInspector)||void 0===a?void 0:a.getMostPopularDirectChildElement(["img","iframe","div"]);d&&(s.dvp_mpdce=d),o.MessageHandler.sendMessage(s)}init(){}isSupported(){return n.DvTagDataObject.getIsCm360CreativeWrapping()&&n.DvTagDataObject.getTagType()==a.DvTagType.Display}}t.Cm360Logger=d},6991:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CreativeVsContainerBL=void 0;const r=i(7360),n=i(6751),a=i(1800),s=i(1914),o=i(9759),d=i(8170),l=i(3380);class c extends n.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adSelected]:this.processMeasuredElementData.bind(this)}}processMeasuredElementData(e){const t=e.adCandidate,i=this.extractMeasuredElementType(t);l.Utilities.isNullOrEmpty(i)||this.sendUpdatedMeasuredElementData(i)}extractMeasuredElementType(e){const t=[s.OmidMeasuredElementExtractor,o.DefaultMeasuredElementExtractor];for(const i of t){const t=new i(e);if(t.isSupported())return e.measuredElementExtractorId=t.getMeasuredElementExtractorId(),e.measuredElementType=t.extract(),e}return null}sendUpdatedMeasuredElementData(e){d.DiagnosticParamsSingleton.reportDiagnosticParam("cvcmeeid",e.measuredElementExtractorId),r.EventBus.dispatchEvent(r.DvEvent.reportData,new a.AdCandidateEventData(e))}init(){}}t.CreativeVsContainerBL=c},3723:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DataTransparencyBL=void 0;const r=i(659),n=i(194),a=i(7749),s=i(7360),o=i(749),d=i(3868),l=i(6751),c=["sadv","ord","litm","scrt","invs","splc","adu","spos"];class u extends l.BaseAdBL{constructor(){super(...arguments),this.timesMessageSent=0}getActionName(){return"DataTransparency"}init(){(0,r.initialize)(d.WindowAdaptor.workingWindow())}isSupported(){return!d.WindowAdaptor.isDomlessEnvironment()&&d.WindowAdaptor.isPostMessageSupported()}getEventsAndCallbacksToRegister(){return{[s.DvEvent.impressionServed]:this.subscribe.bind(this)}}getSellerDimensionsFromTag(){const e=a.DvTagDataObject.getLowerCaseParams(),t={};for(const i of c)null!=e[i]&&(t[i]=e[i]);return t}getSellerDimensionsFromState(e){return a.DvTagDataObject.isSellerTag()||null==e.sellerDimensions?{}:e.sellerDimensions}onSharedStateUpdated(e){if(this.timesMessageSent>=5)return;this.timesMessageSent++;const t=(0,r.coverageToBitFlag)(e.coverage);if(e.coverage.buyerMonitoringTag&&(e.coverage.sellerMonitoringTag||e.coverage.sellerPageTag)){const i=e.linking.sharedId,r=this.getSellerDimensionsFromState(e);o.MessageHandler.sendMessage(Object.assign({mascid:i,dvp_dtcov:t},r))}else o.MessageHandler.sendMessage({dvp_dtcov:t})}subscribe(){const e=n.DvObject.getImpressionId(d.WindowAdaptor.currentWindow()),t=a.DvTagDataObject.isSellerTag(),i={impressionId:e,isSellerTag:t};t&&(i.sellerDimensions=this.getSellerDimensionsFromTag()),(0,r.subscribe)(d.WindowAdaptor.workingWindow(),this.onSharedStateUpdated.bind(this),i)}}t.DataTransparencyBL=u},720:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.EligibilityCompatibilityIndicator=void 0;const r=i(6689),n=i(6681),a=i(712),s=i(6751),o=i(7749),d=i(194),l=i(7360),c=i(1063),u=i(749);class p extends s.BaseAdBL{getActionName(){return"EligibilityCompatibilityIndicator"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[l.DvEvent.impressionServed]:this.start.bind(this)}}start(){let e;if(null==d.DvObject.getDetectedDeliveryType()||d.DvObject.isCTV())e=!1;else if(o.DvTagDataObject.isTagTypeValid())if(d.DvObject.isMobileApp())e=n.MraidWrapper.isSupported()||r.OmidWrapper.isSupported();else if(o.DvTagDataObject.getTagType()==a.DvTagType.Video){e=!!c.VpaidWrapper.getDvVpaid()}else e=!0;else u.MessageHandler.sendMessage({dvp_vtt:1}),e=!1;let t={isvelg:e?1:0};this.report(t)}report(e){u.MessageHandler.sendMessage(e)}}t.EligibilityCompatibilityIndicator=p},9608:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdLocatedBL=void 0;const r=i(7360),n=i(6751),a=i(1800);class s extends n.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adCandidateApproved]:this.handleEvent.bind(this)}}handleEvent(e){const t=e.adCandidate;t.timeMsUntilAdLocated=e.updateTime,t.isEngagementEligible=1,r.EventBus.dispatchEvent(r.DvEvent.reportData,new a.AdCandidateEventData(t))}}t.AdLocatedBL=s},6163:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInteractionBL=void 0;const r=i(7360),n=i(1800),a=i(6751);class s extends a.BaseAdBL{isSupported(){return!0}init(){}getEventsAndCallbacksToRegister(){return{[this.getInteractionEventName()]:this.handleEvent.bind(this)}}handleEvent(e){if(this.allowReport(e.adCandidate)){1==this.update(e.adCandidate,e.relevantData)&&r.EventBus.dispatchEvent(r.DvEvent.reportData,new n.AdCandidateEventData(e.adCandidate))}}allowReport(e){return!e.wasAdStopped}}t.BaseInteractionBL=s},5648:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementReportRtsBL=void 0;const r=i(6751),n=i(7360),a=i(1800);class s extends r.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.orientationchangeLandscapeData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.orientationChangePortraitData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.mouseMoveData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.keyPressData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.firstTouchData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.firstHoverData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.focusData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.firstClickOnAdElementData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.firstFocusIntoAdElementData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.omidClickData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.abandonData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.skipData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.pauseData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.adSizeData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.resumeData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.volumeData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.scrollData]:this.TrySendEngagementInteraction.bind(this),[n.DvEvent.unloadData]:this.TrySendEngagementUnload.bind(this)}}TrySendEngagementInteraction(e){let t=e.adCandidate,i=this.adEngagementReported(t),r=this.pageEngagementReported(t);i==t.adEngagement&&r==t.pageEngagement||(t.adEngagement=i,t.pageEngagement=r,n.EventBus.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t)))}TrySendEngagementUnload(e){this.TrySendEngagementInteraction(e);let t=e.adCandidate;t.adEngagement||t.pageEngagement||(t.noEngagement=!0,n.EventBus.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t)))}adEngagementReported(e){if(e.timeMsUntilAbandon||e.timeMsUntilSkip||e.timeMsUntilPause||e.timeMsUntilClick||e.timeMsUntilAdSizeIncrease||e.timeMsUntilResume||e.timeMsUntilTouch||e.timeMsUntilHover||e.timeMsUntilAdSizeDecrease||e.timeMsUntilVolumeIncrease||e.timeMsUntilVolumeDecrease||e.timeMsUntilVolumeUnMute||e.lastTimeMsVolumeMute)return!0}pageEngagementReported(e){if(e.timeMsUntilFocusOut||e.timeMsUntilFocusIn||e.timeMsUntilMouseMove||e.timeMsUntilKeyPress||e.timeMsUntilScroll||e.timeMsUntilOrientationChangeToLandscape||e.timeMsUntilOrientationChangeToPortrait)return!0}}t.EngagementReportRtsBL=s},5443:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionAdSizeBL=void 0;const r=i(7360),n=i(6163),a=i(8170);class s extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.adSizeData}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adSizeData]:e=>this.handleAdSizeEvent(e,1),[r.DvEvent.omidAdSizeData]:e=>this.handleOmidAdSizeEvent(e,2)}}handleAdSizeEvent(e,t){a.DiagnosticParamsSingleton.reportOnce("asmm",t),super.handleEvent(e)}handleOmidAdSizeEvent(e,t){a.DiagnosticParamsSingleton.reportOnce("asmm",t),super.allowReport(e.adCandidate)&&this.updateOmidAdSize(e.adCandidate,e.relevantData)}update(e,t){let i=2;if(e.isPaused)return i;const r=t.updateTime;switch(this.getAdSizeState(e.lastAdSize,t.adSize)){case 3:break;case 2:if(e.timeMsUntilAdSizeIncrease)break;e.timeMsUntilAdSizeIncrease=r,i=1;break;case 1:if(e.timeMsUntilAdSizeDecrease)break;e.timeMsUntilAdSizeDecrease=r,i=1}return e.lastAdSize=t.adSize,i}updateOmidAdSize(e,t){if(e.isPaused)return;const i=t.updateTime;switch(this.getAdSizeState(e.lastAdSize,t.adSize)){case 3:break;case 2:a.DiagnosticParamsSingleton.reportOnce("omtuasi",i);break;case 1:a.DiagnosticParamsSingleton.reportOnce("omtuasd",i)}e.lastAdSize=t.adSize}getAdSizeState(e,t){const i=this.getSurface(e),r=this.getSurface(t);return i&&r&&i!=r?r>i?2:1:3}getSurface(e){return e&&e.width&&e.height?e.width*e.height:0}}t.InteractionAdSizeBL=s},7999:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionClickBL=void 0;const r=i(7360),n=i(6163),a=i(712),s=i(3322),o=i(1800),d=i(7749);class l extends n.BaseInteractionBL{init(){this.isFocusIntoAdElementLogicApplicable()&&s.ScriptDynamicFlags.getInstance().turnOn(67108864)}getInteractionEventName(){return r.DvEvent.firstClickOnAdElementData}getEventsAndCallbacksToRegister(){return{[r.DvEvent.firstClickOnAdElementData]:e=>this.handleClickEvent(e,1),[r.DvEvent.omidClickData]:e=>this.handleClickEvent(e,2),[r.DvEvent.firstFocusIntoAdElementData]:e=>this.handleFocusIntoAdElementEvent(e,4)}}handleClickEvent(e,t){e.adCandidate.clickMeasurementMethod|=t,super.allowReport(e.adCandidate)&&this.update(e.adCandidate,e.relevantData),r.EventBus.dispatchEvent(r.DvEvent.reportData,new o.AdCandidateEventData(e.adCandidate))}handleFocusIntoAdElementEvent(e,t){this.isFocusIntoAdElementLogicApplicable()&&this.handleClickEvent(e,t)}isFocusIntoAdElementLogicApplicable(){return d.DvTagDataObject.getTagType()==a.DvTagType.Display}update(e,t){let i=2;return e.isPaused||e.timeMsUntilClick||(e.timeMsUntilClick=t.updateTime,i=1),i}}t.InteractionClickBL=l},8874:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionFocusBL=void 0;const r=i(7360),n=i(6163);class a extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.focusData}update(e,t){let i=2,r=t.updateTime;if(e.isPaused)return i;switch(this.getFocusState(e.lastFocus,t.focus)){case 3:break;case 1:if(e.timeMsUntilFocusIn)break;e.timeMsUntilFocusIn=r,i=1;break;case 2:if(e.timeMsUntilFocusOut)break;e.timeMsUntilFocusOut=r,i=1}return e.lastFocus=t.focus,i}getFocusState(e,t){let i;return null==e||null==t||e==t?i=3:0==e&&1==t?i=1:1==e&&0==t&&(i=2),i}}t.InteractionFocusBL=a},8463:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionHoverBL=void 0;const r=i(7360),n=i(6163);class a extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.firstHoverData}update(e,t){let i=2;return e.isPaused||e.timeMsUntilHover||(e.timeMsUntilHover=t.updateTime,i=1),i}}t.InteractionHoverBL=a},4183:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionTouchBL=void 0;const r=i(7360),n=i(6163);class a extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.firstTouchData}update(e,t){let i=2;return e.isPaused||e.timeMsUntilTouch||(e.timeMsUntilTouch=t.updateTime,i=1),i}}t.InteractionTouchBL=a},2359:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageInteractionKeyPressBL=void 0;const r=i(6163),n=i(7360);class a extends r.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.keyPressData}update(e,t){let i=2;return e.timeMsUntilKeyPress||(e.timeMsUntilKeyPress=t.updateTime,i=1),i}}t.PageInteractionKeyPressBL=a},8345:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageInteractionMouseMoveBL=void 0;const r=i(6163),n=i(7360);class a extends r.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.mouseMoveData}update(e,t){let i=2;return e.timeMsUntilMouseMove||(e.timeMsUntilMouseMove=t.updateTime,i=1),i}}t.PageInteractionMouseMoveBL=a},6355:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageInteractionOrientationChangeLandscapeBL=void 0;const r=i(6163),n=i(7360);class a extends r.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.orientationchangeLandscapeData}update(e,t){let i=2;return e.timeMsUntilOrientationChangeToLandscape||(e.timeMsUntilOrientationChangeToLandscape=t.updateTime,i=1),i}}t.PageInteractionOrientationChangeLandscapeBL=a},8409:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageInteractionOrientationChangePortraitBL=void 0;const r=i(6163),n=i(7360);class a extends r.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.orientationChangePortraitData}update(e,t){let i=2;return e.timeMsUntilOrientationChangeToPortrait||(e.timeMsUntilOrientationChangeToPortrait=t.updateTime,i=1),i}}t.PageInteractionOrientationChangePortraitBL=a},8076:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageInteractionScrollBL=void 0;const r=i(6163),n=i(7360);class a extends r.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.scrollData}update(e,t){let i=2;return e.timeMsUntilScroll||(e.timeMsUntilScroll=t.updateTime,i=1),i}}t.PageInteractionScrollBL=a},9289:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionAbandonBL=void 0;const r=i(7360),n=i(6163),a=i(7749),s=i(712);class o extends n.BaseInteractionBL{init(){}getInteractionEventName(){return r.DvEvent.abandonData}update(e,t){let i=2;return a.DvTagDataObject.getTagType()!=s.DvTagType.Video||e.timeMsUntilSkip||e.timeMsUntilAbandon||(e.timeMsUntilAbandon=t.updateTime,i=1),i}}t.InteractionAbandonBL=o},1816:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionPauseBL=void 0;const r=i(7360),n=i(6163);class a extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.pauseData}update(e,t){let i=2;return e.isPaused||(e.timeMsUntilPause||(e.timeMsUntilPause=t.updateTime,i=1),e.isPaused=!0),i}}t.InteractionPauseBL=a},3363:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionResumeBL=void 0;const r=i(7360),n=i(6163);class a extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.resumeData}update(e,t){let i=2;return e.timeMsUntilResume||1!=e.isPaused||(e.isPaused=!1,e.timeMsUntilResume=t.updateTime,i=1),i}}t.InteractionResumeBL=a},1006:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionSkipBL=void 0;const r=i(7360),n=i(6163);class a extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.skipData}update(e,t){let i=2;return e.timeMsUntilSkip||(e.timeMsUntilSkip=e.adSkippedTime=t.updateTime,e.adSkippableMs||(e.adSkippableMs=t.updateTime),i=1),i}}t.InteractionSkipBL=a},6044:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionVolumeBL=void 0;const r=i(7360),n=i(6163);class a extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.volumeData}update(e,t){let i=2,r=t.updateTime;switch(this.getVolumeState(e.lastVideoVolume,t.volume)){case 5:break;case 3:if(e.timeMsUntilVolumeMute)break;e.timeMsUntilVolumeMute=r,i=1;break;case 1:if(e.timeMsUntilVolumeDecrease)break;e.timeMsUntilVolumeDecrease=r,i=1;break;case 4:if(e.timeMsUntilVolumeUnMute)break;e.timeMsUntilVolumeUnMute=r,i=1;break;case 2:if(e.timeMsUntilVolumeIncrease)break;e.timeMsUntilVolumeIncrease=r,i=1}return e.lastVideoVolume=t.volume,i}getVolumeState(e,t){let i;return null==e||null==t||e==t?i=5:0===t&&e>0?i=3:t<e?i=1:0===e&&t>0?i=4:t>e&&(i=2),i}}t.InteractionVolumeBL=a},9611:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.QuartileBucketsVolumeBL=void 0;const r=i(7360),n=i(1800),a=i(7749),s=i(6751),o=i(712);class d extends s.BaseAdBL{init(){}isSupported(){return a.DvTagDataObject.getTagType()==o.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[r.DvEvent.exposureData]:this.handleVolumeData.bind(this),[r.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[r.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[r.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[r.DvEvent.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleVolumeData(e){const t=e.adCandidate,i=e.relevantData;if(!i.adIsPlaying)return;if(null==i.volume||i.volume<0)return;const r=i.volume?i.intervalDuration:0,n="q"+t.volumeDurationQuartileId+"ad";t[n]=t[n]?t[n]+r:r,i.volume&&t.markAdQuartile(2,t.volumeDurationQuartileId)}handleQuartileData(e,t){const i=t.adCandidate;i.volumeDurationQuartileId=e+1,r.EventBus.dispatchEvent(r.DvEvent.reportData,new n.AdCandidateEventData(i))}}t.QuartileBucketsVolumeBL=d},876:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoCompleteBL=void 0;const r=i(7360),n=i(6163);class a extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.adVideoCompleteData}update(e,t){return e.wasAdStopped=!0,2}}t.VideoCompleteBL=a},615:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoLengthBL=void 0;const r=i(7360),n=i(1800),a=i(7749),s=i(6751),o=i(712);class d extends s.BaseAdBL{init(){}isSupported(){return a.DvTagDataObject.getTagType()==o.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adVideoFirstQuartileData]:this.calculateVideoLengthDueToFirstQuartile.bind(this),[r.DvEvent.adVideoMidpointData]:this.calculateVideoLengthDueToSecondQuartile.bind(this),[r.DvEvent.adVideoCompleteData]:this.calculateVideoLengthDueToAdComplete.bind(this)}}calculateVideoLengthDueToFirstQuartile(e){const t=e.adCandidate;t.adVideoTimeLine&&(this.setAdDuration(t,4),t.adDurationCalculationType=2)}calculateVideoLengthDueToSecondQuartile(e){const t=e.adCandidate;t.adVideoTimeLine&&(t.videoLength=2*t.adVideoTimeLine,this.setAdDuration(t,2),t.adDurationCalculationType=3)}calculateVideoLengthDueToAdComplete(e){const t=e.adCandidate;t.adVideoTimeLine&&(this.setAdDuration(t),t.adDurationCalculationType=4,r.EventBus.dispatchEvent(r.DvEvent.reportData,new n.AdCandidateEventData(t)))}setAdDuration(e,t=1){e.adDuration=Math.round(e.adVideoTimeLine*t)}}t.VideoLengthBL=d},1886:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoMarkImpressionAsRenderedBL=void 0;const r=i(6751),n=i(7749),a=i(7360),s=i(1800),o=i(712),d=i(6689);class l extends r.BaseAdBL{getActionName(){return"VideoMarkImpressionAsRenderedBL"}init(){}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[a.DvEvent.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){this.getEventsImplyingPlayStarted().forEach((e=>{a.EventBus.addEventListener(e,this.videoRenderedCallback.bind(this))}))}getEventsImplyingPlayStarted(){return d.OmidWrapper.isSupported()?[a.DvEvent.adVideoStartData,a.DvEvent.resumeData]:[a.DvEvent.adImpressionData,a.DvEvent.adVideoStartData,a.DvEvent.resumeData]}videoRenderedCallback(e){const t=e.adCandidate;null==t.isVideoPreRendered&&(t.isVideoPreRendered=0,t.videoStartTime=e.updateTime,t.timeMsUntilVideoPlayed=e.updateTime,a.EventBus.dispatchEvent(a.DvEvent.videoStartPlaying,new s.AdCandidateEventData(t)),a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(t)))}}t.VideoMarkImpressionAsRenderedBL=l},6901:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoSkippableBL=void 0;const r=i(7360),n=i(7749),a=i(6751),s=i(712);class o extends a.BaseAdBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==s.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[r.DvEvent.skippableData]:this.handleSkippableData.bind(this)}}handleSkippableData(e){const t=e.adCandidate,i=e.relevantData;i.adSkippable&&(t.adSkippableMs=i.updateTime)}}t.VideoSkippableBL=o},5784:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoStoppedBL=void 0;const r=i(7360),n=i(6163);class a extends n.BaseInteractionBL{getInteractionEventName(){return r.DvEvent.stopData}update(e,t){return e.wasAdStopped=!0,2}}t.VideoStoppedBL=a},223:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeBL=void 0;const r=i(7360),n=i(7749),a=i(6751),s=i(712);class o extends a.BaseAdBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==s.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[r.DvEvent.exposureData]:this.handleVolumeData.bind(this)}}handleVolumeData(e){const t=e.adCandidate,i=e.relevantData;i.adIsPlaying&&this.trySetVolumeValues(t,i)}trySetVolumeValues(e,t){let i=t.volume;null==i||i<0||(e.timeMsUntilVolumeMeasured||(e.timeMsUntilVolumeMeasured=t.updateTime),i=Math.max(Math.min(Math.ceil(100*i),100),0),0==i&&null==e.lastTimeMsVolumeMute&&(e.lastTimeMsVolumeMute=t.updateTime),e.minVideoVolume=null==e.minVideoVolume||e.minVideoVolume>i?i:e.minVideoVolume,e.maxVideoVolume=null==e.maxVideoVolume||e.maxVideoVolume<i?i:e.maxVideoVolume)}}t.VolumeBL=o},710:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementCompatibilityIndicator=void 0;const r=i(6751),n=i(7749),a=i(7360),s=i(194),o=i(712),d=i(1063),l=i(749);class c extends r.BaseAdBL{getActionName(){return"EngagementCompatibilityIndicator"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[a.DvEvent.impressionServed]:this.start.bind(this)}}start(){let e={engms:1,engisel:!(n.DvTagDataObject.getTagType()==o.DvTagType.Video&&!s.DvObject.isMobileApp()&&!d.VpaidWrapper.getDvVpaid())?1:0};this.report(e)}report(e){l.MessageHandler.sendMessage(e)}}t.EngagementCompatibilityIndicator=c},7196:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ExposureBL=void 0;const r=i(7360),n=i(1800),a=i(6751),s=i(3380);class o extends a.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.focusData]:this.collectFocusData.bind(this),[r.DvEvent.strictFocusData]:this.collectStrictFocusData.bind(this),[r.DvEvent.viewabilityIntervalData]:this.collectViewabilityData.bind(this),[r.DvEvent.boundariesViewabilityIntervalData]:this.collectBoundariesViewabilityData.bind(this),[r.DvEvent.adImpressionData]:this.collectAdIsPlayingData.bind(this,!0),[r.DvEvent.adVideoStartData]:this.collectAdIsPlayingData.bind(this,!0),[r.DvEvent.pauseData]:this.collectAdIsPlayingData.bind(this,!1),[r.DvEvent.resumeData]:this.collectAdIsPlayingData.bind(this,!0),[r.DvEvent.abandonData]:this.collectAdIsPlayingData.bind(this,!1),[r.DvEvent.skipData]:this.collectAdIsPlayingData.bind(this,!1),[r.DvEvent.unloadData]:this.collectAdIsPlayingData.bind(this,!1),[r.DvEvent.adVideoCompleteData]:this.collectAdIsPlayingData.bind(this,!1),[r.DvEvent.volumeData]:this.collectAdVolumeData.bind(this),[r.DvEvent.videoLoadedData]:this.collectAdVolumeData.bind(this)}}collectViewabilityData(e){const t=e.adCandidate,i=e.relevantData;t.lastExposureTimeEvent=t.lastExposureTimeEvent||i.updateTime;const a=Math.max(i.updateTime-t.lastExposureTimeEvent,100);t.viewabilityAdIsPlaying&&(t.adVideoTimeLine=t.adVideoTimeLine?t.adVideoTimeLine+a:a),r.EventBus.dispatchEvent(r.DvEvent.exposureData,new n.AdCandidateEventData(t,{adSize:i.adGeometric,viewportSize:i.viewportSize,wrapperSize:i.wrapperSize,screenSize:i.screenSize,percentage:s.Utilities.isNumber(i.percentage)?Math.round(i.percentage):void 0,offScreenPercentage:i.offScreenPercentage,viewabilityCalculationType:i.viewabilityCalculationType,focus:t.viewabilityFocus,strictFocus:t.viewabilityStrictFocus&&t.viewabilityFocus,adIsPlaying:t.viewabilityAdIsPlaying,intervalDuration:a,adVideoTimeLine:t.adVideoTimeLine,volume:t.currentVideoVolume,boundariesViewability:t.boundariesViewability})),t.lastExposureTimeEvent=i.updateTime}collectBoundariesViewabilityData(e){const t=e.adCandidate,i=e.relevantData;t.boundariesViewability=i.boundariesViewability}collectFocusData(e){const t=e.adCandidate,i=e.relevantData;t.viewabilityFocus=i.focus}collectStrictFocusData(e){const t=e.adCandidate,i=e.relevantData;t.viewabilityStrictFocus=i.focus}collectAdIsPlayingData(e,t){t.adCandidate.viewabilityAdIsPlaying=e,this.collectAdVolumeData(t)}collectAdVolumeData(e){const t=e.adCandidate,i=e.relevantData;s.Utilities.isNullOrEmpty(i.volume)||(t.currentVideoVolume=i.volume)}}t.ExposureBL=o},6265:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ExposureCompatibilityIndicator=void 0;const r=i(6689),n=i(6681),a=i(712),s=i(6751),o=i(7749),d=i(194),l=i(7360),c=i(1063),u=i(749);class p extends s.BaseAdBL{getActionName(){return"ExposureCompatibilityIndicator"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[l.DvEvent.impressionServed]:this.start.bind(this)}}start(){let e=0;if(null==d.DvObject.getDetectedDeliveryType()||d.DvObject.isCTV());else if(o.DvTagDataObject.isTagTypeValid())if(d.DvObject.isMobileApp())e=r.OmidWrapper.isSupported()?6:n.MraidWrapper.isSupported()?5:0;else if(o.DvTagDataObject.getTagType()==a.DvTagType.Video){const t=c.VpaidWrapper.getDvVpaid();t&&t.viewabilityIntegrationType&&(e=t.viewabilityIntegrationType)}else e=2;else;let t={vit:e};this.report(t)}report(e){u.MessageHandler.sendMessage(e)}}t.ExposureCompatibilityIndicator=p},8635:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.JsCallbackBL=void 0;const r=i(7360),n=i(194),a=i(6751),s=i(7749),o=i(712),d=i(1063),l=i(8170);class c extends a.BaseAdBL{getActionName(){return"JsCallbackBL"}init(){this.dvvid=d.VpaidWrapper.getDvVpaid()}isSupported(){return this.adID=s.DvTagDataObject.getAdID(),s.DvTagDataObject.getTagType()==o.DvTagType.Video&&!!this.adID}getEventsAndCallbacksToRegister(){return{[r.DvEvent.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){if(!n.DvObject.getAllowJsCallback()||!this.dvvid)return;let e=this.dvvid.asset;return e&&e.executeDVClientCallback?(this.executeDVClientCallback=e.executeDVClientCallback,void r.EventBus.addEventListener(r.DvEvent.rtsEventData,this.handleRTSData.bind(this))):void 0}handleRTSData(e){const t=e.relevantData;this.executeDVClientCallback&&t.eventName&&(this.beforeExecuteDVClientCallback(),this.executeDVClientCallback(t.eventName))}beforeExecuteDVClientCallback(){l.DiagnosticParamsSingleton.reportOnce("idvcc",1)}}t.JsCallbackBL=c},9604:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMeasuredElementExtractor=void 0;t.AbstractMeasuredElementExtractor=class{constructor(e){this.measuredElementData=e}}},9759:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultMeasuredElementExtractor=void 0;const r=i(9604),n=i(3380);class a extends r.AbstractMeasuredElementExtractor{isSupported(){var e;return!!(null===(e=this.measuredElementData)||void 0===e?void 0:e.domElement)}extract(){var e;return 1===n.Utilities.extractElementType(null===(e=this.measuredElementData)||void 0===e?void 0:e.domElement)?2:1}getMeasuredElementExtractorId(){return 1}}t.DefaultMeasuredElementExtractor=a},1914:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidMeasuredElementExtractor=void 0;const r=i(9604),n=i(3380);class a extends r.AbstractMeasuredElementExtractor{isSupported(){var e;return!n.Utilities.isNullOrEmpty(null===(e=this.measuredElementData)||void 0===e?void 0:e.omidMeasuredElementType)}extract(){var e;return null===(e=this.measuredElementData)||void 0===e?void 0:e.omidMeasuredElementType}getMeasuredElementExtractorId(){return 2}}t.OmidMeasuredElementExtractor=a},5500:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MobileOrientationBL=void 0;const r=i(6751),n=i(7360),a=i(194);class s extends r.BaseAdBL{getActionName(){return"MobileOrientationBL"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){a.DvObject.isMobile()&&n.EventBus.addEventListener(n.DvEvent.exposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData;i.viewportSize&&i.viewportSize.height&&i.viewportSize.width?this.setOrientationData(t,i):t.initialOrientationType=t.initialOrientationType||0}setOrientationData(e,t){let i=0;t.viewportSize.width>t.viewportSize.height?(i=2,e.accumulativeTimeOrientationLandscape=e.accumulativeTimeOrientationLandscape?e.accumulativeTimeOrientationLandscape+t.intervalDuration:t.intervalDuration):(i=1,e.accumulativeTimeOrientationPortrait=e.accumulativeTimeOrientationPortrait?e.accumulativeTimeOrientationPortrait+t.intervalDuration:t.intervalDuration),e.initialOrientationType||(e.initialOrientationType=i)}}t.MobileOrientationBL=s},1074:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.NormalizedAdSizeBL=void 0;const r=i(6751),n=i(7360),a=i(1800),s=i(7749),o=i(712),d=i(3971);class l extends r.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adSizeChangedData]:this.handleAdSizeChangedData.bind(this)}}handleAdSizeChangedData(e){const t=e.adCandidate;if(!t.adWidth||!t.adHeight)return;let i={width:t.adWidth,height:t.adHeight},r=d.StandardSizes.getNearestAdSize(i,s.DvTagDataObject.getTagType(),s.DvTagDataObject.getTagType()==o.DvTagType.Video?20:5);r&&(t.normalizedAdWidth=r.width,t.normalizedAdHeight=r.height,n.EventBus.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t)))}}t.NormalizedAdSizeBL=l},334:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidImpressionEventInfoBL=void 0;const r=i(6689),n=i(6751),a=i(7360),s=i(3380),o=i(8379);class d extends n.BaseAdBL{isSupported(){return r.OmidWrapper.isSupported()}getEventsAndCallbacksToRegister(){return{[a.DvEvent.adCandidateApproved]:e=>this.adCandidateApproved(e)}}init(){}adCandidateApproved(e){r.OmidWrapper.addEventListener("impression",(t=>this.handleImpressionEvent(t,e)))}handleImpressionEvent(e,t){var i,r;t.adCandidate.omidTimeMsUntilImpression=s.Utilities.getTimeDiff(),(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.impressionType)&&(o.omidImpressionTypeMapping[e.data.impressionType]?t.adCandidate.omidImpressionType=o.omidImpressionTypeMapping[e.data.impressionType]:(t.adCandidate.omidImpressionType=o.omidImpressionTypeMapping.unknown,t.adCandidate.omidUnknownImpressionType=e.data.impressionType)),(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.creativeType)&&(o.omidCreativeTypeMapping[e.data.creativeType]?t.adCandidate.omidCreativeType=o.omidCreativeTypeMapping[e.data.creativeType]:(t.adCandidate.omidCreativeType=o.omidCreativeTypeMapping.unknown,t.adCandidate.omidUnknownCreativeType=e.data.creativeType))}}t.OmidImpressionEventInfoBL=d},4342:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageEventsLoggerBL=void 0;const r=i(7360),n=i(6751),a=i(425),s=i(3322),o=i(3868),d=i(3380),l=i(749),c=i(7658);class u extends n.BaseAdBL{constructor(){super(),this.isPageHideNonPersistedFired=!1}isSupported(){return!o.WindowAdaptor.isDomlessEnvironment()}getEventsAndCallbacksToRegister(){return{[r.DvEvent.pageHideEventPersisted]:this.turnOnScriptDynamicFlag(16).bind(this),[r.DvEvent.pageHideEventNonPersisted]:this.logPageHideEventNonPersisted.bind(this)}}turnOnScriptDynamicFlag(e){return()=>s.ScriptDynamicFlags.getInstance().turnOn(e)}logPageHideEventNonPersisted(){this.isPageHideNonPersistedFired||(this.isPageHideNonPersistedFired=!0,l.MessageHandler.sendMessage({[c.AdDataMappingToReport.timeUntilPageHideEventNonPersistedMs]:d.Utilities.getTimeDiff()})),this.turnOnScriptDynamicFlag(32)();const e=this.turnOnScriptDynamicFlag(64).bind(this);a.BrowserAdaptor.setTimeout(e,20)}init(){}}t.PageEventsLoggerBL=u},2530:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceApiBL=void 0;const r=i(6751),n=i(1800),a=i(7360),s=i(3868);class o extends r.BaseAdBL{getEventsAndCallbacksToRegister(){return{[a.DvEvent.performanceData]:this.aggregatePerformanceApiData.bind(this)}}aggregatePerformanceApiData({performanceData:e,adData:t}){t.visitResponseSize=null==e?void 0:e.visitResponseSize,a.EventBus.dispatchEvent(a.DvEvent.reportData,new n.AdCandidateEventData(t))}init(){}isSupported(){return!s.WindowAdaptor.isDomlessEnvironment()}}t.PerformanceApiBL=o},4372:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceLongTasksBL=void 0;const r=i(6751),n=i(7360),a=i(6593),s=i(749);class o extends r.BaseAdBL{constructor(){super(...arguments),this.totalLongTaskDuration=0,this.totalLongTaskAmount=0}getEventsAndCallbacksToRegister(){return this.reportLongTaskMeasured(),{[n.DvEvent.performanceLongTasks]:this.handleLongTasks.bind(this)}}reportLongTaskMeasured(){s.MessageHandler.sendMessage({pltm:1})}handleLongTasks(e){const{longTasks:t=[]}=e;t.length&&(this.totalLongTaskAmount+=t.length,this.totalLongTaskDuration+=t.reduce(((e,{duration:t})=>e+t),0),s.MessageHandler.sendMessage({pltn:this.totalLongTaskAmount,pltd:this.totalLongTaskDuration}))}init(){}isSupported(){return a.PerformanceLongTasksDataCollector.isPerformanceLongTasksSupported()}}t.PerformanceLongTasksBL=o},2727:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceTaskTimingBL=void 0;const r=i(7360),n=i(6820),a=i(8170),s=i(6751);class o extends s.BaseAdBL{init(){this.timings=[],this.scheduledTaskRef=null}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adSelected]:this.reportTaskTiming.bind(this),[r.DvEvent.globalUnloadData]:this.reportTaskTiming.bind(this),[r.DvEvent.performanceTaskTiming]:this.handleTaskTiming.bind(this)}}isSupported(){return(0,n.isPerformanceApiSupported)()}handleTaskTiming(e){const{taskTimings:t=[]}=e;t.length&&(this.timings.push(...t.map((({name:e,startTime:t,duration:i})=>({duration:Math.round(i),name:e,startTime:Math.round(t)})))),this.scheduleTrackingIfNecessary())}scheduleTrackingIfNecessary(){null===this.scheduledTaskRef&&(this.scheduledTaskRef=(0,n.scheduleTask)((()=>{this.reportTaskTiming()})))}reportTaskTiming(){null!=this.scheduledTaskRef&&(this.scheduledTaskRef=null,a.DiagnosticParamsSingleton.reportDiagnosticParam("tskt",this.getSerializedTaskTiming()))}getSerializedTaskTiming(){return this.timings.map((({name:e,startTime:t,duration:i})=>`${e},${t},${i}`)).join(";")}}t.PerformanceTaskTimingBL=o},2968:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceMetricsBL=void 0;const r=i(6751),n=i(7360),a=i(3380),s=i(3868),o=i(749),d=i(194),l={tag:{loading:1,interactive:2,complete:4},measurement:{loading:8,interactive:16,complete:32},visit:{loading:64,interactive:128,complete:256}};class c extends r.BaseAdBL{getScriptExecIndicator(e,t){if(!t){t=s.WindowAdaptor.currentDocument().readyState}return(l[e]||{})[t]||{}||0}init(){this.measurementScriptExecIndicator=this.getScriptExecIndicator("measurement")}isSupported(){return!s.WindowAdaptor.isDomlessEnvironment()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.impressionServed]:this.onImpressionServed.bind(this)}}getScriptDuration(e,t){return s.WindowAdaptor.monitorScriptsPerformance(t,{[e]:["duration"]})[`${e}_duration`]||0}reportTagLoadTimeMs(){return{tltms:this.getScriptDuration("dvtp_src",s.WindowAdaptor.workingWindow())}}reportTagExecTimeMs(){return{tetms:d.DvObject.getTagExecTimeMs()}}getActionName(){return"PerformanceMetricsBL"}reportMeasurementScriptLoadTimeMs(){return{msltms:this.getScriptDuration("dv-measurements",s.WindowAdaptor.currentWindow())}}reportVisitLoadTimeMs(){return{vltms:this.getScriptDuration("visit",s.WindowAdaptor.currentWindow())}}reportVisitExecTimeMs(){const e=this.getScriptDuration("visit",s.WindowAdaptor.currentWindow());return{vetms:a.Utilities.getCurrentTime()-d.DvObject.getVisitInjectedMS()-e}}reportScriptExecIndicator(){const e=this.getScriptExecIndicator("visit",d.DvObject.getVisitReadyState());return{sei:this.getScriptExecIndicator("tag",d.DvObject.getTagReadyState())|this.measurementScriptExecIndicator|e}}reportTimeUntilVisitInjectedMs(){return{tuviims:d.DvObject.getVisitInjectedMS()-d.DvObject.getTagLoadedMS()}}reportTimeUntilVisitExecutedMs(){return{tuviems:a.Utilities.getCurrentTime()-d.DvObject.getTagLoadedMS()}}onImpressionServed(){let e=this.reportTagLoadTimeMs();a.Utilities.extend(this.reportTagExecTimeMs(),e),a.Utilities.extend(this.reportMeasurementScriptLoadTimeMs(),e),a.Utilities.extend(this.reportVisitLoadTimeMs(),e),a.Utilities.extend(this.reportScriptExecIndicator(),e),a.Utilities.extend(this.reportVisitExecTimeMs(),e),a.Utilities.extend(this.reportTimeUntilVisitInjectedMs(),e),a.Utilities.extend(this.reportTimeUntilVisitExecutedMs(),e),o.MessageHandler.sendMessage(e)}}t.PerformanceMetricsBL=c},2020:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.RenderingMethodLogger=void 0;const r=i(6751),n=i(7360),a=i(749),s=i(7026);class o extends r.BaseAdBL{getEventsAndCallbacksToRegister(){return{[n.DvEvent.impressionServed]:this.reportRenderingMethodIndicator.bind(this)}}reportRenderingMethodIndicator(){a.MessageHandler.sendMessage({rmi:s.RenderLogicFactory.getRenderLogic().getRenderingMethodIndicator()})}init(){}isSupported(){return!0}}t.RenderingMethodLogger=o},9401:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ReportAdManagerRTS=void 0;const r=i(7360),n=i(194),a=i(6751),s=i(1800),o=i(3380),d=i(7658);class l extends a.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.reportData]:this.report.bind(this),[r.DvEvent.adSelected]:this.report.bind(this)}}report(e){const t=e.adCandidate,i=e.relevantData,r=null==i.reportType||0==i.reportType||2==i.reportType;if(2!=t.state||!r)return;const n=o.Utilities.mapData(t,d.RTSDataMapping,!0),a=Object.keys(n);a.length&&this.sendRtsEvents(a,t)}sendRtsEvents(e,t){for(let i of e)n.DvObject.publishPubSubEvent(i),r.EventBus.dispatchEvent(r.DvEvent.rtsEventData,new s.AdCandidateEventData(t,{eventName:i}))}}t.ReportAdManagerRTS=l},3831:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ReportAdManagerTPS=void 0;const r=i(7360),n=i(7658),a=i(6751),s=i(3380),o=i(749);class d extends a.BaseAdBL{constructor(){super(...arguments),this.cachedAdDataToReport={}}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.reportData]:this.report.bind(this),[r.DvEvent.adSelected]:this.report.bind(this)}}report(e){const t=e.adCandidate,i=e.relevantData,r=null==i.reportType||0==i.reportType||1==i.reportType;if(2!=t.state||!r)return;const a=s.Utilities.mapData(t,n.AdDataMappingToReport,!1);s.Utilities.removeDuplicateValues(a,this.cachedAdDataToReport),s.Utilities.extend(a,this.cachedAdDataToReport);const{isImportantMessage:d,noConsolidation:l}=e.relevantData;if(!s.Utilities.isEmpty(a)){let e={isImportantMessage:d,noConsolidation:l};o.MessageHandler.sendMessage(a,e)}}}t.ReportAdManagerTPS=d},1328:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptInjectionModeBL=void 0;const r=i(6751),n=i(3868),a=i(749),s=i(7360);class o extends r.BaseAdBL{getEventsAndCallbacksToRegister(){return{[s.DvEvent.impressionServed]:this.onImpressionServed.bind(this)}}init(){}onImpressionServed(){a.MessageHandler.sendMessage({sim:n.WindowAdaptor.getScriptInjectionMode()})}isSupported(){return!0}getActionName(){return"ScriptInjectionModeBL"}}t.ScriptInjectionModeBL=o},3500:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ShareOfScreenResearchBL=void 0;const r=i(7360),n=i(425),a=i(7127),s=i(3868),o=i(194);class d extends a.BaseAdDataLoggerBL{getEventsAndCallbacksToRegister(){return{[r.DvEvent.exposureData]:this.handleViewabilityData.bind(this)}}isSupported(){return!0}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData,r=s.WindowAdaptor.workingDocument(s.WindowAdaptor.windowTop()||null);let a=!1;const d=i.screenSize,l=t.ShareOfScreenLastScreenSize||d;let c=t.screenSizeChanged;const u=i.adSize,p=t.shareOfScreenLastAdSize||u;let h=t.adSizeChanged;const g=n.BrowserAdaptor.getDevicePixelRatio(),m=t.devicePixelRatioReported,v=t.shareOfScreenLastDevicePixelRatio||g;let b=t.devicePixelRatioChanged;if(2===o.DvObject.getDetectedDeliveryType()&&(2==(2&s.WindowAdaptor.getScenarioType())||1==(1&s.WindowAdaptor.getScenarioType()))){const e=i.viewportSize;if(e&&e.width>0&&e.height>0){const{minVpHeight:i,minVpWidth:r,maxVpHeight:n,maxVpWidth:s}=this.getMinAndMaxViewport(t,e);this.isViewportChanged(t,i,r,n,s)&&(a=!0,t.minViewportHeight=i,t.minViewportWidth=r,t.maxViewportHeight=n,t.maxViewportWidth=s)}}if(!c&&this.validateScreenSize(d)&&(t.screenSizeChanged=l.height!==d.height||l.width!==d.width?1:void 0,t.ShareOfScreenLastScreenSize=d,t.screenSizeChanged&&(a=!0)),!h&&this.validateAdSize(u)&&(t.adSizeChanged=p.height!=u.height||p.width!=u.width?1:void 0,t.shareOfScreenLastAdSize=u,t.adSizeChanged&&(a=!0)),!b&&g&&(t.devicePixelRatioChanged=v!==g?1:void 0,t.shareOfScreenLastDevicePixelRatio=g,t.devicePixelRatioChanged&&(a=!0)),m||(a=!0,t.devicePixelRatioReported=!0),r&&!this.isMetaReported(t)){const e=n.BrowserAdaptor.getMetaTagAttributes(r,"viewport");for(let i of Object.keys(e)){const r=e[i];switch(i.trim()){case"width":t.viewPortMetaTagWidth=r;break;case"height":t.viewPortMetaTagHeight=r;break;case"initial-scale":t.viewPortMetaTagInitialScale=r;break;case"user-scalable":t.viewPortMetaTagScalable="yes"===r?1:0}}a=this.isMetaReported(t)}a&&this.report(t)}isViewportChanged(e,t,i,r,n){return e.minViewportHeight!=t||e.minViewportWidth!=i||e.maxViewportHeight!=r||e.maxViewportWidth!=n}getMinAndMaxViewport(e,t){return{minVpHeight:Math.min(e.minViewportHeight||t.height,t.height),minVpWidth:Math.min(e.minViewportWidth||t.width,t.width),maxVpHeight:Math.max(e.maxViewportHeight||t.height,t.height),maxVpWidth:Math.max(e.maxViewportWidth||t.width,t.width)}}isMetaReported(e){return!!(e.viewPortMetaTagWidth||e.viewPortMetaTagHeight||e.viewPortMetaTagInitialScale||e.viewPortMetaTagScalable)}validateScreenSize(e){return!!(e&&e.width&&e.height)}validateAdSize(e){return!!(e&&e.width&&e.height)}getTrafficPercentage(){return 100}getSupportedDetectedDeliveryType(){return[3,2,1]}getActionName(){return"ShareOfScreen"}}t.ShareOfScreenResearchBL=d},3719:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseViewabilityBL=void 0;const r=i(7360),n=i(6751);class a extends n.BaseAdBL{getActionName(){return"BaseViewabilityBL"}getEventsAndCallbacksToRegister(){return{[r.DvEvent.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){this.shouldRegisterToExposureEvents()&&r.EventBus.addEventListener(r.DvEvent.exposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData;if(this.needToCheckViewability(t,i)){this.reportViewabilityMeasured(t,i);const e=this.isViewabilityConditionPassed(i);this.shouldReportViewability(e,i.intervalDuration,t,i)&&this.reportViewabilityPassed(t,i.updateTime)}}}t.BaseViewabilityBL=a},4771:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BucketsDisplayViewabilityBL=void 0;const r=i(7749),n=i(7360),a=i(6751),s=i(712),o=i(3380);class d extends a.BaseAdBL{init(){}isSupported(){return r.DvTagDataObject.getTagType()==s.DvTagType.Display}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleViewabilityData.bind(this)}}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData;let r=i.intervalDuration,n=this.getBucketNumber(i.percentage,i.focus),a="b"+n;null!=n?(t[a]=t[a]||0,t[a]+=r,t.viewabilityDisplayBucketsUnloadTime=i.updateTime):(t.napt=t.napt||0,t.napt+=r)}getBucketNumber(e,t){return o.Utilities.isNullOrEmpty(e)?null:0!=e&&t?Math.floor(e/10)+1:0}}t.BucketsDisplayViewabilityBL=d},8877:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BucketsVideoViewabilityBL=void 0;const r=i(7749),n=i(7360),a=i(1800),s=i(6751),o=i(712);class d extends s.BaseAdBL{init(){}isSupported(){return r.DvTagDataObject.getTagType()==o.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[n.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvent.adVideoCompleteData]:this.handleLastQuartileData.bind(this)}}handleLastQuartileData(e){const t=this.updateQuartileTimestamp(e);n.EventBus.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t,{isImportantMessage:!1,noConsolidation:!0}))}handleQuartileData(e,t){const i=this.updateQuartileTimestamp(t);n.EventBus.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(i)),i.videoBucketsQuartileId=e+1}updateQuartileTimestamp(e){const t=e.relevantData,i=e.adCandidate;return i[`isq${i.videoBucketsQuartileId}ms`]=t.updateTime,i.markAdQuartile(4,i.videoBucketsQuartileId),i}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData;if(!i.adIsPlaying)return;let r=i.intervalDuration,n=this.getBucketNumber(i.percentage,i.focus);if(null!=n){const e="q"+t.videoBucketsQuartileId+"b"+n;t[e]=t[e]?t[e]+r:r}else{const e="q"+t.videoBucketsQuartileId+"napt";t[e]=t[e]?t[e]+r:r}}getBucketNumber(e,t){return null==e?null:0!=e&&t?Math.floor(e/25)+1:0}}t.BucketsVideoViewabilityBL=d},1391:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomAdvertiserViewabilityStandardBL=void 0;const r=i(7360),n=i(194),a=i(3719),s=i(1800),o=i(3380),d=i(7749),l=i(712);class c extends a.BaseViewabilityBL{init(){}isSupported(){return!0}shouldRegisterToExposureEvents(){return this.minimalLargeAdArea=d.DvTagDataObject.getTagType()==l.DvTagType.Display?242500:3e5,this.customAdvertiserViewabilitySettings=n.DvObject.getCustomAdvertiserViewabilitySettings(),!!this.customAdvertiserViewabilitySettings}getConditions(e){const t=this.customAdvertiserViewabilitySettings.conditions;return e?t.largeAd:t.regularAd}isViewabilityConditionPassed(e){const t=o.Utilities.isLargeAd(e.adSize,this.minimalLargeAdArea),{onFocus:i,adPercentage:r}=this.conditions=this.getConditions(t),{focus:n,percentage:a}=e;return(!0!==i||n)&&(null==r||a>=r)}needToCheckViewability(e,t){return(d.DvTagDataObject.getTagType()==l.DvTagType.Display||t.adIsPlaying)&&null==e.customAdvertiserStandardTimeMsUntilAdViewed}shouldReportViewability(e,t,i,r){const{isConsecutive:n,durationCap:a,durationPercentage:s}=this.conditions;if(null==a&&null==s)return e;const{videoLength:o,customAdvertiserStandardViewedTime:d}=i;i.customAdvertiserStandardViewedTime=e?d+r.intervalDuration:n?0:d;const l=a,c=null!=o&&null!=s?o*(s/100):null,u=null!=l&&i.customAdvertiserStandardViewedTime>=l,p=null!=c&&i.customAdvertiserStandardViewedTime>=c;return u||p}reportViewabilityMeasured(e,t){null==e.customAdvertiserStandardType&&(e.customAdvertiserStandardType=this.customAdvertiserViewabilitySettings.standardType,r.EventBus.dispatchEvent(r.DvEvent.reportData,new s.AdCandidateEventData(e)))}reportViewabilityPassed(e,t){e.customAdvertiserStandardTimeMsUntilAdViewed=t,r.EventBus.dispatchEvent(r.DvEvent.reportData,new s.AdCandidateEventData(e))}}t.CustomAdvertiserViewabilityStandardBL=c},6490:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomDisplayViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(194),s=i(3719),o=i(1800),d=i(712);class l extends s.BaseViewabilityBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==d.DvTagType.Display}shouldRegisterToExposureEvents(){return this.customViewabilityConditions=a.DvObject.getDisplayCustomViewabilityConditions(),!!this.customViewabilityConditions}isViewabilityConditionPassed(e){return!!e.focus&&e.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage}needToCheckViewability(e,t){return null==e.customTimeMsUntilAdViewed&&null!=t.percentage}shouldReportViewability(e,t,i,r){return i.customViewedTime=e?i.customViewedTime+=r.intervalDuration:this.customViewabilityConditions.consecutiveMode?0:i.customViewedTime,i.customViewedTime>=this.customViewabilityConditions.minimalAdDuration}reportViewabilityMeasured(e,t){}reportViewabilityPassed(e,t){e.customTimeMsUntilAdViewed=t,r.EventBus.dispatchEvent(r.DvEvent.reportData,new o.AdCandidateEventData(e))}}t.CustomDisplayViewabilityBL=l},5409:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomStandardDisplayViewabilityBL=void 0;const r=i(7749),n=i(7360),a=i(3719),s=i(194),o=i(1800),d=i(712);class l extends a.BaseViewabilityBL{init(){}isSupported(){return r.DvTagDataObject.getTagType()==d.DvTagType.Display}shouldRegisterToExposureEvents(){return this.customViewabilityConditions=s.DvObject.getDisplayCustomStandardViewabilityConditions(),!!this.customViewabilityConditions}isViewabilityConditionPassed(e){return!!e.focus&&(!(e.adSize&&e.adSize.width*e.adSize.height<this.customViewabilityConditions.minimalAdSize)&&e.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage)}needToCheckViewability(e,t){return null==e.customStandardTimeMsUntilAdViewed&&null!=t.percentage}shouldReportViewability(e,t,i){if(e){if(i.customStandardViewedTime+=t,i.customStandardViewedTime>=this.customViewabilityConditions.minimalAdDuration)return!0}else this.customViewabilityConditions.consecutiveMode&&(i.customStandardViewedTime=0);return!1}reportViewabilityMeasured(e,t){}reportViewabilityPassed(e,t){e.customStandardTimeMsUntilAdViewed=t,n.EventBus.dispatchEvent(n.DvEvent.reportData,new o.AdCandidateEventData(e))}}t.CustomStandardDisplayViewabilityBL=l},4241:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomStandardVideoViewabilityBL=void 0;const r=i(3719),n=i(7749),a=i(194),s=i(7360),o=i(712),d=i(1800);class l extends r.BaseViewabilityBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}shouldRegisterToExposureEvents(){return this.customViewabilityConditions=a.DvObject.getVideoCustomStandardViewabilityConditions(),!!this.customViewabilityConditions}isViewabilityConditionPassed(e){return!!e.focus&&(!(e.adSize&&e.adSize.width*e.adSize.height<this.customViewabilityConditions.minimalAdSize)&&((!this.customViewabilityConditions.requireVolume||0!=e.volume)&&e.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage))}needToCheckViewability(e,t){return t.adIsPlaying&&null==e.customStandardTimeMsUntilAdViewed&&null!=t.percentage}shouldReportViewability(e,t,i){if(e){if(i.customStandardViewedTime+=t,this.customViewabilityConditions.minimalAdDurationPercent){if(i.videoLength&&i.customStandardViewedTime/i.videoLength*100>=this.customViewabilityConditions.minimalAdDurationPercent)return!0}else if(i.customStandardViewedTime>=this.customViewabilityConditions.minimalAdDuration)return!0}else this.customViewabilityConditions.consecutiveMode&&(i.customStandardViewedTime=0);return!1}reportViewabilityMeasured(e,t){}reportViewabilityPassed(e,t){e.customStandardTimeMsUntilAdViewed=t,s.EventBus.dispatchEvent(s.DvEvent.reportData,new d.AdCandidateEventData(e))}}t.CustomStandardVideoViewabilityBL=l},7642:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomVideoViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(194),s=i(3719),o=i(712),d=i(1800);class l extends s.BaseViewabilityBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}shouldRegisterToExposureEvents(){return this.customViewabilityConditions=a.DvObject.getVideoCustomViewabilityConditions(),!!this.customViewabilityConditions}isViewabilityConditionPassed(e){return!(null==e.percentage||!e.focus)&&((!this.customViewabilityConditions.requireVolume||0!=e.volume)&&e.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage)}needToCheckViewability(e,t){return null==e.customTimeMsUntilAdViewed&&null!=t.percentage&&t.adIsPlaying}shouldReportViewability(e,t,i,r){return i.customViewedTime=e?i.customViewedTime+=r.intervalDuration:this.customViewabilityConditions.consecutiveMode?0:i.customViewedTime,i.customViewedTime>=this.customViewabilityConditions.minimalAdDuration}reportViewabilityMeasured(e,t){}reportViewabilityPassed(e,t){e.customTimeMsUntilAdViewed=t,r.EventBus.dispatchEvent(r.DvEvent.reportData,new d.AdCandidateEventData(e))}}t.CustomVideoViewabilityBL=l},7938:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.EndQuartileViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(1800),s=i(6751),o=i(712);class d extends s.BaseAdBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[r.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[r.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[r.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[r.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[r.DvEvent.adVideoCompleteData]:this.handleVideoCompleteData.bind(this)}}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData;i.adIsPlaying&&null!=i.percentage&&(t.endQuartileCurrentViewability=i.focus?i.percentage:0,t.endQuartileCurrentVolume=i.volume,i.adSize&&(t.adQuartileWidth=i.adSize.width))}handleQuartileData(e,t){const i=t.adCandidate;i["q"+e+"vpend"]=i.endQuartileCurrentViewability,i["q"+e+"ps"]=this.getPlayerSize(i.adQuartileWidth),r.EventBus.dispatchEvent(r.DvEvent.reportData,new a.AdCandidateEventData(i))}getPlayerSize(e){let t=0;return e>0&&e<=300?t=1:e>300&&e<=399?t=2:e>399&&e<=639?t=3:e>639&&(t=4),t}handleVideoCompleteData(e){const t=e.relevantData,i=e.adCandidate;i.endQuartileCurrentViewability>=50&&0!=i.endQuartileCurrentVolume&&(i.timeMsUntilAdAudibleAndViewableOnCompletionMs=t.updateTime),this.handleQuartileData(4,e)}}t.EndQuartileViewabilityBL=d},4892:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.FocusBucketsBL=void 0;const r=i(7360),n=i(7749),a=i(6751),s=i(712);class o extends a.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.exposureData]:this.handleViewabilityData.bind(this)}}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData;(n.DvTagDataObject.getTagType()!=s.DvTagType.Video||i.adIsPlaying)&&(i.focus?t.looseFocusTrueBucket=t.looseFocusTrueBucket?t.looseFocusTrueBucket+i.intervalDuration:i.intervalDuration:null!=i.focus&&(t.looseFocusFalseBucket=t.looseFocusFalseBucket?t.looseFocusFalseBucket+i.intervalDuration:i.intervalDuration),i.strictFocus?t.strictFocusTrueBucket=t.strictFocusTrueBucket?t.strictFocusTrueBucket+i.intervalDuration:i.intervalDuration:null!=i.strictFocus&&(t.strictFocusFalseBucket=t.strictFocusFalseBucket?t.strictFocusFalseBucket+i.intervalDuration:i.intervalDuration))}}t.FocusBucketsBL=o},9295:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupMContextBL=void 0;const r=i(7360),n=i(6751),a=i(194),s=i(8170);class o extends n.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.impressionServed]:this.onImpressionServed.bind(this)}}onImpressionServed(){this.reportSignalsIfReceived()}reportSignalsIfReceived(){const e=a.DvObject.isSIVTImpression(),t=a.DvObject.isGroupMV4VideoNativeImpression();e&&s.DiagnosticParamsSingleton.reportOnce("rbgms",1),t&&s.DiagnosticParamsSingleton.reportOnce("rgmv4s",1)}}t.GroupMContextBL=o},7912:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupMDisplayViewabilityBL=void 0;const r=i(7749),n=i(7360),a=i(194),s=i(3719),o=i(712),d=i(1800),l=i(3380);class c extends s.BaseViewabilityBL{init(){}isSupported(){return r.DvTagDataObject.getTagType()==o.DvTagType.Display}shouldRegisterToExposureEvents(){return!a.DvObject.isSIVTImpression()}isViewabilityConditionPassed(e){return!(null==e.percentage||!e.focus)&&(!!l.Utilities.isLargeAd(e.adSize,242500)||e.percentage>=98)}needToCheckViewability(e,t){return null==e.groupMTimeMsUntilAdViewed&&null!=t.percentage}shouldReportViewability(e,t,i,r){return e}reportViewabilityMeasured(e,t){e.groupMTimeMsUntilAdMeasured||(e.groupMTimeMsUntilAdMeasured=t.updateTime,n.EventBus.dispatchEvent(n.DvEvent.reportData,new d.AdCandidateEventData(e)))}reportViewabilityPassed(e,t){e.groupMTimeMsUntilAdViewed=t,e.groupMV3TimeMsUntilAdViewed=t,e.groupMTimeMsUntilAdMeasured++,n.EventBus.dispatchEvent(n.DvEvent.reportData,new d.AdCandidateEventData(e))}}t.GroupMDisplayViewabilityBL=c},4691:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupMV4MobileDisplayViewabilityBL=void 0;const r=i(7749),n=i(7360),a=i(194),s=i(3719),o=i(712),d=i(1800);class l extends s.BaseViewabilityBL{init(){this.minimalAdAreaPercentage=0,this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport=98,this.minimalDuration=1e3}isSupported(){return r.DvTagDataObject.getTagType()==o.DvTagType.Display}shouldRegisterToExposureEvents(){return!a.DvObject.isSIVTImpression()&&a.DvObject.isMobileWeb()}isViewabilityConditionPassed(e){return e.percentage>this.minimalAdAreaPercentage}needToCheckViewability(e,t){return null==e.groupMV4DisplayTimeMsUntilAdViewed&&null!=t.percentage}shouldReportViewability(e,t,i,r){return i.groupMV4DisplayViewedTime=e?i.groupMV4DisplayViewedTime+r.intervalDuration:0,i.groupMV4TimeCriteriaPassed=i.groupMV4TimeCriteriaPassed||i.groupMV4DisplayViewedTime>=this.minimalDuration,i.isAllBoundariesPassed=i.isAllBoundariesPassed||this.isAllBoundariesPassed(i,r),i.groupMV4TimeCriteriaPassed&&i.isAllBoundariesPassed}reportViewabilityMeasured(e,t){e.groupMV4TimeMsUntilAdMeasured||this.isAdSizeLargerThanViewPortSize(t)&&!t.boundariesViewability||(e.groupMV4TimeMsUntilAdMeasured=t.updateTime,n.EventBus.dispatchEvent(n.DvEvent.reportData,new d.AdCandidateEventData(e)))}reportViewabilityPassed(e,t){e.groupMV4DisplayTimeMsUntilAdViewed=e.groupMV4TimeMsUntilAdViewed=t,e.groupMV4TimeMsUntilAdMeasured++,n.EventBus.dispatchEvent(n.DvEvent.reportData,new d.AdCandidateEventData(e))}getArea(e){if(e&&e.width&&e.height)return e.width*e.height}isAdSizeLargerThanViewPortSize(e){const t=this.getArea(e.adSize),i=this.getArea(e.viewportSize);return t&&i&&t>i}isAllBoundariesPassed(e,t){if(this.isAdSizeLargerThanViewPortSize(t)){if(t.boundariesViewability){let i=e.boundariesViewed;return i.topLeft=i.topLeft||t.boundariesViewability.topLeft,i.topRight=i.topRight||t.boundariesViewability.topRight,i.bottomLeft=i.bottomLeft||t.boundariesViewability.bottomLeft,i.bottomRight=i.bottomRight||t.boundariesViewability.bottomRight,i.topLeft&&i.topRight&&i.bottomLeft&&i.bottomRight}return!1}return t.percentage>this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport}}t.GroupMV4MobileDisplayViewabilityBL=l},6825:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupMV4NonMobileDisplayViewabilityBL=void 0;const r=i(7749),n=i(7360),a=i(194),s=i(3719),o=i(712),d=i(1800),l=i(3380);class c extends s.BaseViewabilityBL{init(){}isSupported(){return r.DvTagDataObject.getTagType()==o.DvTagType.Display}shouldRegisterToExposureEvents(){return!a.DvObject.isSIVTImpression()&&!a.DvObject.isMobileWeb()}isViewabilityConditionPassed(e){let t=l.Utilities.isLargeAd(e.adSize,242500);return!(null==e.percentage||!e.focus)&&(!!(t&&e.percentage>=50)||!t&&e.percentage>=98)}needToCheckViewability(e,t){return null==e.groupMV4DisplayTimeMsUntilAdViewed&&null!=t.percentage}shouldReportViewability(e,t,i,r){return i.groupMV4DisplayViewedTime=e?i.groupMV4DisplayViewedTime+r.intervalDuration:0,i.groupMV4DisplayViewedTime>=1e3}reportViewabilityMeasured(e,t){e.groupMV4TimeMsUntilAdMeasured||(e.groupMV4TimeMsUntilAdMeasured=t.updateTime,n.EventBus.dispatchEvent(n.DvEvent.reportData,new d.AdCandidateEventData(e)))}reportViewabilityPassed(e,t){e.groupMV4TimeMsUntilAdMeasured++,e.groupMV4DisplayTimeMsUntilAdViewed=e.groupMV4TimeMsUntilAdViewed=t,n.EventBus.dispatchEvent(n.DvEvent.reportData,new d.AdCandidateEventData(e))}}t.GroupMV4NonMobileDisplayViewabilityBL=c},7827:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupMV4VideoNativeViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(194),s=i(3719),o=i(712),d=i(1800),l=i(3380);class c extends s.BaseViewabilityBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}shouldRegisterToExposureEvents(){return!a.DvObject.isSIVTImpression()}isViewabilityConditionPassed(e){let t=!a.DvObject.isMobileApp()&&!a.DvObject.isMobileWeb()&&l.Utilities.isLargeAd(e.adSize,3e5);return!(!e.percentage||!e.focus)&&(!!(t&&e.percentage>=80)||!t&&e.percentage>=98)}needToCheckViewability(e,t){return null==e.groupMV4VideoNativeTimeMsUntilAdViewed&&null!=t.percentage&&t.adIsPlaying}shouldReportViewability(e,t,i,r){i.groupMV4VideoNativeViewedTime=e?i.groupMV4VideoNativeViewedTime+r.intervalDuration:i.groupMV4VideoNativeViewedTime;const n=i.videoLength?Math.min(15e3,.5*i.videoLength):15e3;return i.groupMV4VideoNativeViewedTime>=n}reportViewabilityMeasured(e,t){null==e.groupMV4TimeMsUntilAdMeasured&&(e.groupMV4TimeMsUntilAdMeasured=t.updateTime,r.EventBus.dispatchEvent(r.DvEvent.reportData,new d.AdCandidateEventData(e)))}reportViewabilityPassed(e,t){e.groupMV4TimeMsUntilAdMeasured++,e.groupMV4VideoNativeTimeMsUntilAdViewed=t,a.DvObject.isGroupMV4VideoNativeImpression()&&(e.groupMV4TimeMsUntilAdViewed=t),r.EventBus.dispatchEvent(r.DvEvent.reportData,new d.AdCandidateEventData(e))}}t.GroupMV4VideoNativeViewabilityBL=c},9045:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupMV4VideoReachExtensionViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(194),s=i(3719),o=i(712),d=i(1800),l=i(3380);class c extends s.BaseViewabilityBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}shouldRegisterToExposureEvents(){return!a.DvObject.isSIVTImpression()}isViewabilityConditionPassed(e){let t=!a.DvObject.isMobileApp()&&!a.DvObject.isMobileWeb()&&l.Utilities.isLargeAd(e.adSize,3e5);return!(!e.percentage||!e.focus)&&(0!=e.volume&&(!!(t&&e.percentage>=80)||!t&&e.percentage>=98))}needToCheckViewability(e,t){return null==e.groupMV4VideoReachExtensionTimeMsUntilAdViewed&&null!=t.percentage&&t.adIsPlaying}shouldReportViewability(e,t,i,r){i.groupMV4VideoReachExtensionViewedTime=e?i.groupMV4VideoReachExtensionViewedTime+r.intervalDuration:i.groupMV4VideoReachExtensionViewedTime;const n=i.videoLength?Math.min(15e3,.5*i.videoLength):15e3;return i.groupMV4VideoReachExtensionViewedTime>=n}reportViewabilityMeasured(e,t){null==e.groupMV4TimeMsUntilAdMeasured&&(e.groupMV4TimeMsUntilAdMeasured=t.updateTime,r.EventBus.dispatchEvent(r.DvEvent.reportData,new d.AdCandidateEventData(e)))}reportViewabilityPassed(e,t){e.groupMV4TimeMsUntilAdMeasured++,e.groupMV4VideoReachExtensionTimeMsUntilAdViewed=t,a.DvObject.isGroupMV4VideoNativeImpression()||(e.groupMV4TimeMsUntilAdViewed=t),r.EventBus.dispatchEvent(r.DvEvent.reportData,new d.AdCandidateEventData(e))}}t.GroupMV4VideoReachExtensionViewabilityBL=c},7175:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupMVideoViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(194),s=i(3719),o=i(712),d=i(1800),l=i(3380);class c extends s.BaseViewabilityBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}shouldRegisterToExposureEvents(){return!a.DvObject.isSIVTImpression()}isViewabilityConditionPassed(e){let t=l.Utilities.isLargeAd(e.adSize,3e5);return!(!e.percentage||!e.focus)&&(0!=e.volume&&(!!(t&&e.percentage>=80)||!t&&e.percentage>=98))}needToCheckViewability(e,t){return null==e.groupMTimeMsUntilAdViewed&&null!=t.percentage&&t.adIsPlaying}shouldReportViewability(e,t,i,r){i.groupMViewedTime=e?i.groupMViewedTime+r.intervalDuration:i.groupMViewedTime;const n=i.videoLength?Math.min(15e3,.5*i.videoLength):15e3;return i.groupMViewedTime>=n}reportViewabilityMeasured(e,t){e.groupMTimeMsUntilAdMeasured||(e.groupMTimeMsUntilAdMeasured=t.updateTime,r.EventBus.dispatchEvent(r.DvEvent.reportData,new d.AdCandidateEventData(e)))}reportViewabilityPassed(e,t){e.groupMTimeMsUntilAdViewed=t,e.groupMV3TimeMsUntilAdViewed=t,e.groupMTimeMsUntilAdMeasured++,r.EventBus.dispatchEvent(r.DvEvent.reportData,new d.AdCandidateEventData(e))}}t.GroupMVideoViewabilityBL=c},8029:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IabDisplayViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(3719),s=i(712),o=i(3380),d=i(425),l=i(1800),c=i(194),u=i(6689),p=i(749);class h extends a.BaseViewabilityBL{constructor(){super(...arguments),this.alreadyDvpSent=!1}init(){}shouldRegisterToExposureEvents(){return!0}isSupported(){return n.DvTagDataObject.getTagType()==s.DvTagType.Display}needToCheckViewability(e,t){return!this.alreadyDvpSent&&u.OmidWrapper.isSupported()&&t.percentage>0&&(p.MessageHandler.sendMessage({dvp_ompp:1}),this.alreadyDvpSent=!0),null==e.timeMsUntilAdViewed&&null!=o.Utilities.getIabVisiblePercentage(t,c.DvObject.getIsOffScreen())}isViewabilityConditionPassed(e){let t=o.Utilities.isLargeAd(e.adSize,242500,c.DvObject.isMobile()),i=o.Utilities.isIabPageInFocus(e,c.DvObject.isFocusStrictMode()),r=o.Utilities.getIabVisiblePercentage(e,c.DvObject.getIsOffScreen());return!(!r||!i)&&(!!(t&&r>=30)||!t&&r>=50)}shouldReportViewability(e,t,i){return i.iabViewedTime=e?i.iabViewedTime+t:0,i.iabViewedTime>=1e3}reportViewabilityMeasured(e,t){if(e.timeMsUntilAdMeasured)return;t.viewportSize&&(e.viewportHeight=Math.ceil(t.viewportSize.height),e.viewportWidth=Math.ceil(t.viewportSize.width));const i=d.BrowserAdaptor.getScreenSize();i&&i.width&&i.height&&(e.screenHeight=Math.ceil(i.height),e.screenWidth=Math.ceil(i.width)),e.timeMsUntilAdMeasured=t.updateTime,e.unadjustedTimeMsUntilAdMeasured=t.updateTime,e.isViewabilityEligible=1,r.EventBus.dispatchEvent(r.DvEvent.reportData,new l.AdCandidateEventData(e))}reportViewabilityPassed(e,t){e.timeMsUntilAdViewed=t,e.unadjustedTimeMsUntilAdViewed=t,e.timeMsUntilAdMeasured++,r.EventBus.dispatchEvent(r.DvEvent.reportData,new l.AdCandidateEventData(e))}}t.IabDisplayViewabilityBL=h},5157:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IabDisplayViewabilityForXSecondsBL=void 0;const r=i(7360),n=i(7749),a=i(194),s=i(3719),o=i(712),d=i(1800),l=i(3380);class c extends s.BaseViewabilityBL{init(){}shouldRegisterToExposureEvents(){return!0}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Display}needToCheckViewability(e,t){return e.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(t)}isViewabilityConditionPassed(e){let t=l.Utilities.isLargeAd(e.adSize,242500,a.DvObject.isMobile()),i=a.DvObject.isFocusStrictMode()?e.strictFocus:e.focus;return!(!this.getPercentage(e)||!i)&&(!!(t&&this.getPercentage(e)>=30)||!t&&this.getPercentage(e)>=50)}shouldReportViewability(e,t,i){return i.IABAdViewableForXSecondsViewedTime=e?i.IABAdViewableForXSecondsViewedTime+t:0,i.IABAdViewableForXSecondsViewedTime>=i.IABAdViewableForXSecondsdurationRequirement}reportViewabilityMeasured(e,t){}reportViewabilityPassed(e,t){const i=e.iabViewablitiyTimeToCheck.shift();e["iabv"+i]=t,r.EventBus.dispatchEvent(r.DvEvent.reportData,new d.AdCandidateEventData(e,{reportType:2})),e.iabViewablitiyTimeToCheck.length>0&&(e.IABAdViewableForXSecondsdurationRequirement=1e3*e.iabViewablitiyTimeToCheck[0])}getPercentage(e){let t=e.percentage,i=e.offScreenPercentage;return null!=i&&a.DvObject.getIsOffScreen()?i:t}}t.IabDisplayViewabilityForXSecondsBL=c},8123:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IabNotViewReasonsViewabilityBL=void 0;const r=i(7360),n=i(6751),a=i(7749),s=i(712),o=i(3380),d=i(194);class l extends n.BaseAdBL{getActionName(){return"IabNotViewReasonsViewabilityBL"}init(){this.isVideoTag=a.DvTagDataObject.getTagType()==s.DvTagType.Video,this.viewTimeThreshold=this.isVideoTag?2e3:1e3}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.impressionServed]:this.start.bind(this)}}start(){r.EventBus.addEventsListener({[r.DvEvent.exposureData]:this.handleViewabilityData.bind(this)})}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData,r=o.Utilities.getIabVisiblePercentage(i,d.DvObject.getIsOffScreen()),n=o.Utilities.isIabPageInFocus(i,d.DvObject.isFocusStrictMode());if(!t.notViewableReasonWasViewed&&null!=r){if(!this.isVideoTag||this.isVideoTag&&i.adIsPlaying)if(t.notViewableReasonVideoPlayed=!0,n)if(t.notViewableReasonWasInFocus=!0,r>0){t.notViewableReasonWasInViewPort=!0,r>=(!this.isVideoTag&&o.Utilities.isLargeAd(i.adSize,242500,d.DvObject.isMobile())?30:50)?(t.notViewableReasonCumulativeViewTime+=i.intervalDuration,t.notViewableReasonConsecutiveViewTime+=i.intervalDuration,t.notViewableReasonConsecutiveViewTime>=this.viewTimeThreshold&&(t.notViewableReasonWasViewed=!0)):t.notViewableReasonConsecutiveViewTime=0}else t.notViewableReasonConsecutiveViewTime=0;else t.notViewableReasonConsecutiveViewTime=0;t.notViewableReason=this.getNotViewReason(t)||t.notViewableReason}}getNotViewReason(e){return this.isVideoTag&&!e.notViewableReasonVideoPlayed?7:e.notViewableReasonWasViewed?6:e.notViewableReasonWasInFocus?e.notViewableReasonWasInViewPort?0==e.notViewableReasonCumulativeViewTime?3:e.notViewableReasonCumulativeViewTime<this.viewTimeThreshold?4:e.notViewableReasonConsecutiveViewTime<this.viewTimeThreshold?5:void 0:2:1}}t.IabNotViewReasonsViewabilityBL=l},5993:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IabVideoQuartileViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(1800),s=i(6751),o=i(712);class d extends s.BaseAdBL{init(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[r.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[r.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[r.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[r.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[r.DvEvent.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData;i.adIsPlaying&&(t["q"+t.iabVideoQuartileId+"iabvms"]||this.tryReportViewed(t,i))}handleQuartileData(e,t){const i=t.adCandidate;i.iabVideoQuartileViewed=0,i.iabVideoQuartileId=e+1}tryReportViewed(e,t){this.IsIabCriteriaPassed(t)?(e.iabVideoQuartileViewed+=t.intervalDuration,e.iabVideoQuartileViewed>=this.iabMinimalDuration&&this.reportViewedImpression(e,t.updateTime)):e.iabVideoQuartileViewed=0}IsIabCriteriaPassed(e){return!(!e.percentage||!e.focus)&&e.percentage>=this.iabMinimalAdAreaPercentageForStandardSize}reportViewedImpression(e,t){e["q"+e.iabVideoQuartileId+"iabvms"]=t,e.markAdQuartile(1,e.iabVideoQuartileId),r.EventBus.dispatchEvent(r.DvEvent.reportData,new a.AdCandidateEventData(e))}}t.IabVideoQuartileViewabilityBL=d},5152:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IabVideoViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(194),s=i(3719),o=i(712),d=i(425),l=i(1800),c=i(6689),u=i(749);class p extends s.BaseViewabilityBL{constructor(){super(...arguments),this.alreadyDvpSent=!1}init(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}shouldRegisterToExposureEvents(){return!0}needToCheckViewability(e,t){return!this.alreadyDvpSent&&c.OmidWrapper.isSupported()&&t.percentage>0&&(u.MessageHandler.sendMessage({dvp_ompp:1}),this.alreadyDvpSent=!0),null==e.timeMsUntilAdViewed&&null!=this.getPercentage(t)&&t.adIsPlaying}isViewabilityConditionPassed(e){let t=a.DvObject.isFocusStrictMode()?e.strictFocus:e.focus;return!(!this.getPercentage(e)||!t)&&this.getPercentage(e)>=this.iabMinimalAdAreaPercentageForStandardSize}shouldReportViewability(e,t,i){return i.iabViewedTime=e?i.iabViewedTime+t:0,i.iabViewedTime>=this.iabMinimalDuration}reportViewabilityMeasured(e,t){if(e.timeMsUntilAdMeasured)return;t.viewportSize&&(e.viewportHeight=Math.ceil(t.viewportSize.height),e.viewportWidth=Math.ceil(t.viewportSize.width));const i=d.BrowserAdaptor.getScreenSize();i&&i.width&&i.height&&(e.screenHeight=Math.ceil(i.height),e.screenWidth=Math.ceil(i.width)),e.timeMsUntilAdMeasured=t.updateTime,e.unadjustedTimeMsUntilAdMeasured=t.updateTime,e.isViewabilityEligible=1,r.EventBus.dispatchEvent(r.DvEvent.reportData,new l.AdCandidateEventData(e))}reportViewabilityPassed(e,t){e.timeMsUntilAdViewed=t,e.unadjustedTimeMsUntilAdViewed=t,e.timeMsUntilAdMeasured++,r.EventBus.dispatchEvent(r.DvEvent.reportData,new l.AdCandidateEventData(e))}getPercentage(e){let t=e.percentage,i=e.offScreenPercentage;return null!=i&&a.DvObject.getIsOffScreen()?i:t}}t.IabVideoViewabilityBL=p},1061:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IabVideoViewabilityForXSecondsBL=void 0;const r=i(7360),n=i(7749),a=i(194),s=i(3719),o=i(712),d=i(1800);class l extends s.BaseViewabilityBL{init(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50}shouldRegisterToExposureEvents(){return!0}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}needToCheckViewability(e,t){return e.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(t)&&t.adIsPlaying}isViewabilityConditionPassed(e){let t=a.DvObject.isFocusStrictMode()?e.strictFocus:e.focus;return!(!this.getPercentage(e)||!t)&&this.getPercentage(e)>=this.iabMinimalAdAreaPercentageForStandardSize}shouldReportViewability(e,t,i){return i.IABAdViewableForXSecondsViewedTime=e?i.IABAdViewableForXSecondsViewedTime+t:0,i.IABAdViewableForXSecondsViewedTime>=i.IABAdViewableForXSecondsdurationRequirement}reportViewabilityMeasured(e,t){}reportViewabilityPassed(e,t){const i=e.iabViewablitiyTimeToCheck.shift();e["iabv"+i]=t,r.EventBus.dispatchEvent(r.DvEvent.reportData,new d.AdCandidateEventData(e,{reportType:2})),e.iabViewablitiyTimeToCheck.length>0&&(e.IABAdViewableForXSecondsdurationRequirement=1e3*e.iabViewablitiyTimeToCheck[0])}getPercentage(e){let t=e.percentage,i=e.offScreenPercentage;return null!=i&&a.DvObject.getIsOffScreen()?i:t}}t.IabVideoViewabilityForXSecondsBL=l},3054:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.KMEVideoViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(1800),s=i(194),o=i(3719),d=i(712);class l extends o.BaseViewabilityBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==d.DvTagType.Video}shouldRegisterToExposureEvents(){return this.kmeViewabilityConditions=s.DvObject.getKMEVideoViewabilityConditions(),!!this.kmeViewabilityConditions&&(r.EventBus.addEventListener(r.DvEvent.adVideoCompleteData,this.handleVideoCompleteData.bind(this)),!0)}isViewabilityConditionPassed(e){return!(null==e.percentage||!e.focus||this.kmeViewabilityConditions.minimalAdAreaPercentage&&e.percentage<this.kmeViewabilityConditions.minimalAdAreaPercentage)&&(!this.kmeViewabilityConditions.requireVolume||0!=e.volume)}needToCheckViewability(e,t){return null==e.kmeTimeMsUntilAdViewed&&null!=t.percentage&&t.adIsPlaying&&!e.kmeConditionsFailed}shouldReportViewability(e,t,i,r){return!i.kmeStartMeasure&&r.adVideoTimeLine>=this.kmeViewabilityConditions.timeLineLeftBoundary&&(i.kmeStartMeasure=!0),i.kmeStartMeasure&&r.adVideoTimeLine<=this.kmeViewabilityConditions.timeLineRightBoundary&&(e||(i.kmeConditionsFailed=!0)),r.adVideoTimeLine>=this.kmeViewabilityConditions.timeLineRightBoundary&&!i.kmeConditionsFailed}reportViewabilityMeasured(e,t){}reportViewabilityPassed(e,t){e.kmeTimeMsUntilAdViewed=t,r.EventBus.dispatchEvent(r.DvEvent.reportData,new a.AdCandidateEventData(e))}handleVideoCompleteData(e){const t=e.adCandidate,i=e.relevantData;t.kmeStartMeasure&&!t.kmeConditionsFailed&&this.reportViewabilityPassed(t,i.updateTime)}}t.KMEVideoViewabilityBL=l},8642:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PMXDisplayViewabilityBL=void 0;const r=i(7749),n=i(7360),a=i(3719),s=i(712),o=i(1800),d=i(3380);class l extends a.BaseViewabilityBL{init(){}isSupported(){return r.DvTagDataObject.getTagType()==s.DvTagType.Display}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(e){let t=d.Utilities.isLargeAd(e.adSize,242500);return!(!e.percentage||!e.focus)&&(!!(t&&e.percentage>=30)||!t&&e.percentage>=98)}needToCheckViewability(e,t){return null==e.pmxTimeMsUntilAdViewed&&null!=t.percentage}shouldReportViewability(e,t,i,r){return i.pmxViewedTime=e?i.pmxViewedTime+t:0,i.pmxViewedTime>=1e3}reportViewabilityMeasured(e,t){e.pmxTimeMsUntilAdMeasured||(e.pmxTimeMsUntilAdMeasured=t.updateTime)}reportViewabilityPassed(e,t){e.pmxTimeMsUntilAdViewed=t,n.EventBus.dispatchEvent(n.DvEvent.reportData,new o.AdCandidateEventData(e))}}t.PMXDisplayViewabilityBL=l},2181:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PMXVideoViewabilityBL=void 0;const r=i(7360),n=i(7749),a=i(3719),s=i(712),o=i(1800),d=i(3380);class l extends a.BaseViewabilityBL{init(){}isSupported(){return n.DvTagDataObject.getTagType()==s.DvTagType.Video}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(e){let t=d.Utilities.isLargeAd(e.adSize,3e5);return!(!e.percentage||!e.focus)&&(!!(t&&e.percentage>=50)||!t&&e.percentage>=98)}needToCheckViewability(e,t){return null==e.pmxTimeMsUntilAdViewed&&null!=t.percentage&&t.adIsPlaying}shouldReportViewability(e,t,i,r){return i.pmxViewedTime=e?i.pmxViewedTime+t:0,i.pmxViewedTime>=2e3}reportViewabilityMeasured(e,t){e.pmxTimeMsUntilAdMeasured||(e.pmxTimeMsUntilAdMeasured=t.updateTime)}reportViewabilityPassed(e,t){e.pmxTimeMsUntilAdViewed=t,r.EventBus.dispatchEvent(r.DvEvent.reportData,new o.AdCandidateEventData(e))}}t.PMXVideoViewabilityBL=l},458:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.RbViewabilityBL=void 0;const r=i(7360),n=i(1800),a=i(7749),s=i(194),o=i(6751),d=i(712);class l extends o.BaseAdBL{getActionName(){return"RbViewabilityBL"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){s.DvObject.getAllowRBViewability()&&r.EventBus.addEventListener(r.DvEvent.exposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData;(a.DvTagDataObject.getTagType()!=d.DvTagType.Video||i.adIsPlaying)&&(t.rBV1PassedMs||this.tryReportViewed(t,i))}tryReportViewed(e,t){t.percentage&&t.focus&&t.percentage>=50&&this.reportViewedImpression(e,t.updateTime)}reportViewedImpression(e,t){e.rBV1PassedMs=t,r.EventBus.dispatchEvent(r.DvEvent.reportData,new n.AdCandidateEventData(e))}}t.RbViewabilityBL=l},3454:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoFullQuartileAudibleBL=void 0;const r=i(7360),n=i(7749),a=i(1800),s=i(6751),o=i(712);class d extends s.BaseAdBL{init(){this.minimalAdAreaPercentageForStandardSize=98}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[r.DvEvent.exposureData]:this.handleAudibleData.bind(this),[r.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[r.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[r.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[r.DvEvent.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleAudibleData(e){const t=e.adCandidate,i=e.relevantData;i.adIsPlaying&&(0!=t.isVideoFullQuartileAudible&&this.isCriteriaPassed(i.volume)?t.isVideoFullQuartileAudible=!0:t.isVideoFullQuartileAudible=!1)}handleQuartileData(e,t){const i=t.adCandidate;this.reportViewedImpression(i),i.videoFullQuartileAudibleId=e+1,i.isVideoFullQuartileAudible=null}isCriteriaPassed(e){return null!=e&&-1!=e&&0!=e}reportViewedImpression(e){e.isVideoFullQuartileAudible&&(e.markAdQuartile(8,e.videoFullQuartileAudibleId),r.EventBus.dispatchEvent(r.DvEvent.reportData,new a.AdCandidateEventData(e)))}}t.VideoFullQuartileAudibleBL=d},1354:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoQuartileFullOnScreenBL=void 0;const r=i(7360),n=i(7749),a=i(1800),s=i(6751),o=i(712);class d extends s.BaseAdBL{init(){this.minimalAdAreaPercentageForStandardSize=98}isSupported(){return n.DvTagDataObject.getTagType()==o.DvTagType.Video}getEventsAndCallbacksToRegister(){return{[r.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[r.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[r.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[r.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[r.DvEvent.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleViewabilityData(e){const t=e.adCandidate,i=e.relevantData;i.adIsPlaying&&(0!=t.isVideoFullQuartileViewed&&this.isCriteriaPassed(i)?t.isVideoFullQuartileViewed=!0:t.isVideoFullQuartileViewed=!1)}handleQuartileData(e,t){const i=t.adCandidate;this.reportViewedImpression(i),i.videoFullQuartileViewabilityId=e+1,i.isVideoFullQuartileViewed=null}isCriteriaPassed(e){return!(!e.percentage||!e.focus)&&e.percentage>=this.minimalAdAreaPercentageForStandardSize}reportViewedImpression(e){e.isVideoFullQuartileViewed&&(e.markAdQuartile(16,e.videoFullQuartileViewabilityId),r.EventBus.dispatchEvent(r.DvEvent.reportData,new a.AdCandidateEventData(e)))}}t.VideoQuartileFullOnScreenBL=d},1726:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewabilityStartPercentageBL=void 0;const r=i(7360),n=i(1800),a=i(7749),s=i(6751),o=i(712);class d extends s.BaseAdBL{init(){this.visiblePercentage=50}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.exposureData]:this.handleViewabilityData.bind(this)}}handleViewabilityData(e){let t=e.adCandidate,i=e.relevantData;(a.DvTagDataObject.getTagType()!=o.DvTagType.Video||i.adIsPlaying)&&null==t.startPercentage&&null!=i.percentage&&(t.startPercentage=i.percentage,t.adVisibleOnload=i.percentage>=this.visiblePercentage,r.EventBus.dispatchEvent(r.DvEvent.reportData,new n.AdCandidateEventData(t)))}}t.ViewabilityStartPercentageBL=d},6715:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewableShareOfScreenBL=void 0;const r=i(1800),n=i(6751),a=i(7360),s=i(3380),o=i(194),d=i(7749),l=i(712),c=i(3868),u=i(425);class p extends n.BaseAdBL{constructor(){super(...arguments),this.MIN_VAL=0,this.MAX_VAL=100,this.MAX_EVENTS=4,this.MIN_PERCENTAGE_CHANGE=10}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[a.DvEvent.impressionServed]:this.handleImpressionServed.bind(this)}}handleImpressionServed(){a.EventBus.addEventsListener({[a.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[a.DvEvent.adVideoCompleteData]:this.handleVideoCompleteOrUnload.bind(this),[a.DvEvent.unloadData]:this.handleVideoCompleteOrUnload.bind(this)})}handleViewabilityData(e){const{viewableShareOfScreenData:t,screenSize:i,viewablePercentage:r,adSize:n,adIsPlaying:a,isInFocus:o,isIabViewed:d}=this.prepareValues(e);if(this.isViewabilityConditionPassed(n,i,a,o,r)){const e=n.height*n.width*r/(i.width*i.height);if(t.sumViewableShareOfScreen+=e,t.viewableIntervalCount=t.viewableIntervalCount+1,d){const e=t.shareOfScreenNotMeasuredReason;t.shareOfScreenNotMeasuredReason=16;const i=s.Utilities.getValBetweenMinAndMax(Math.round(t.sumViewableShareOfScreen/t.viewableIntervalCount),this.MIN_VAL,this.MAX_VAL);t.avgViewableShareOfScreen=i,c.WindowAdaptor.isIOS()&&this.isApplicableForInstantIosReport(t,r)?(t.shareOfScreenLastIosReportedPercentage=r,this.report(t)):this.shouldReportFirstTimeViewableShareOfScreenIsMeasured(e)&&this.report(t)}}t.shareOfScreenNotMeasuredReason=this.getValidationReasonBits(i,n,d,t)}shouldReportFirstTimeViewableShareOfScreenIsMeasured(e){return!!e&&16!==e}prepareValues(e){const t=e.relevantData,i=e.adCandidate;i.sumViewableShareOfScreen=i.sumViewableShareOfScreen||0,i.viewableIntervalCount=i.viewableIntervalCount||0;const{screenSize:r,viewablePercentage:n,adSize:a,adIsPlaying:s,isInFocus:o}=this.collectCurrentShareOfScreenData(t,i);return{viewableShareOfScreenData:i,screenSize:r,viewablePercentage:n,adSize:a,adIsPlaying:s,isInFocus:o,isIabViewed:!!i.timeMsUntilAdViewed}}report(e){a.EventBus.dispatchEvent(a.DvEvent.reportData,new r.AdCandidateEventData(e))}calculateMaxEventsNumber(e){return void 0===e?this.MAX_EVENTS:e}isApplicableForInstantIosReport(e,t){e.shareOfScreenEventsLeftToReport=this.calculateMaxEventsNumber(e.shareOfScreenEventsLeftToReport);const i=!e.shareOfScreenLastIosReportedPercentage||e.shareOfScreenEventsLeftToReport>0&&e.shareOfScreenLastIosReportedPercentage!=t&&e.shareOfScreenLastIosReportedPercentage+this.MIN_PERCENTAGE_CHANGE<=100&&Math.abs(e.shareOfScreenLastIosReportedPercentage-t)>=this.MIN_PERCENTAGE_CHANGE;return i&&(e.shareOfScreenEventsLeftToReport=0===e.shareOfScreenEventsLeftToReport?0:e.shareOfScreenEventsLeftToReport-1),i}collectCurrentShareOfScreenData(e,t){const i=s.Utilities.isIabPageInFocus(e,o.DvObject.isFocusStrictMode());return{screenSize:this.getComparableScreenSize(e,t),viewablePercentage:e.percentage,adSize:e.adSize,adIsPlaying:d.DvTagDataObject.getTagType()!=l.DvTagType.Video||e.adIsPlaying,isInFocus:i}}getComparableScreenSize(e,t){t.shareOfScreenReadFromViewport=t.shareOfScreenReadFromViewport||this.isApplicableForViewportMeasurement()&&this.reportReadFromViewport(t);let i=e.screenSize;if(t.shareOfScreenReadFromViewport&&i&&i.width>0&&i.height){const t=u.BrowserAdaptor.getInnerViewport();t.width>0&&t.height>0&&(i={width:t.width,height:e.screenSize.height*(t.width/e.screenSize.width)})}return i}isApplicableForViewportMeasurement(){if(2===o.DvObject.getDetectedDeliveryType()&&(2==(2&c.WindowAdaptor.getScenarioType())||1==(1&c.WindowAdaptor.getScenarioType()))){const e=u.BrowserAdaptor.getMetaTagAttributes(c.WindowAdaptor.workingDocument(c.WindowAdaptor.windowTop()),"viewport");return!this.isWebPageResponsive(e)}return!1}isWebPageResponsive(e){const t=e.width,i=e["initial-scale"];return!s.Utilities.isEmptyObject(e)&&(1===Number(i)||"device-width"===t)}reportReadFromViewport(e){return e.shareOfScreenReadFromViewportReport=1,!0}handleVideoCompleteOrUnload(e){const t=e.adCandidate;this.report(t)}isViewabilityConditionPassed(e,t,i,r,n){return i&&r&&this.validateScreenAndAdSize(e,t)&&this.isAdPercentageCriteriaPassed(e,n)}validateScreenAndAdSize(e,t){const i=e&&e.width&&e.height,r=t&&t.width&&t.height;return i&&r}getValidationReasonBits(e,t,i,r){let n=16===r.shareOfScreenNotMeasuredReason?16:0;return n||(e&&e.height&&e.width||(n|=4),t&&t.height&&t.width||(n|=2),i||(n|=1)),n}isAdPercentageCriteriaPassed(e,t){return s.Utilities.isLargeAd(e,242500,o.DvObject.isMobile())?t>=30:t>=50}getActionName(){return"ViewableShareOfScreenBL"}}t.ViewableShareOfScreenBL=p},3350:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AdAsset=void 0;t.AdAsset=class{constructor(e,t,i,r,n){this.id=e,this.player=t,this.adDuration=i,this.executeDVClientCallback=n,this.adSkippable=r}}},7349:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdContainerInspector=void 0;const r=i(3380);t.AdContainerInspector=class{constructor(e){this.container=e}getContainer(){var e;return null!==(e=this.container)&&void 0!==e?e:null}getContainerId(){var e;return null===(e=this.container)||void 0===e?void 0:e.id}getDescendants(e=[],t=[]){return r.Utilities.convertToArray(this.getDescendantsAsCollection(e)).filter((e=>!t.includes(e.tagName.toLowerCase())))}getDescendantsAsCollection(e){var t,i;if((null==e?void 0:e.length)>0&&this.getContainerId()){const i=e.join();return null===(t=this.container)||void 0===t?void 0:t.querySelectorAll(`#${this.getContainerId()} ${i}`)}return null===(i=this.container)||void 0===i?void 0:i.getElementsByTagName("*")}getDirectChildren(e=[],t=[]){return r.Utilities.convertToArray(this.getDirectChildrenAsCollection(e)).filter((e=>!t.includes(e.tagName.toLowerCase())))}getDirectChildrenAsCollection(e){var t;if((null==e?void 0:e.length)>0&&this.getContainerId()){const t=e.join();return this.container.querySelectorAll(`#${this.getContainerId()} > ${t}`)}return null===(t=this.container)||void 0===t?void 0:t.children}getMostPopularDirectChildElement(e=[]){const t=this.createDirectChildrenTable(e);return r.Utilities.getKeyWithHighestValue(t)}createDirectChildrenTable(e=[]){const t=this.getDirectChildren([],e).map((e=>e.tagName.toLowerCase()));return r.Utilities.countBy(t)}}},5670:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdContainerInspectorFactory=void 0;const r=i(7349),n=i(425);t.AdContainerInspectorFactory=class{constructor(e){this.containerId=e}createAdContainerInspector(){return new r.AdContainerInspector(this.getContainer())}getContainer(){return this.containerId?n.BrowserAdaptor.getElementById(this.containerId):null}}},2196:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DvBackwardCompatibilityClass=void 0;const r=i(749),n=i(425),a=i(3380),s=i(6681),o=i(7360),d=i(3868),l=i(3946);t.DvBackwardCompatibilityClass=class{constructor(){this.dvObjType="dv",this.messages={registerMsg(e,t){r.MessageHandler.sendMessage(t)},startSendingEvents(e,t){}},this.domUtilities={outer:this,addImage(e,t,i,r){let s=a.Utilities.getParamValue(e,"impid");if(null!=s&&this.outer.tags&&this.outer.tags[s]&&"object"==typeof this.outer.tags[s].eventIdGenerator&&"function"==typeof this.outer.tags[s].eventIdGenerator.getNext){e+="&eoid="+this.outer.tags[s].eventIdGenerator.getNext()}n.BrowserAdaptor.sendBeacon(e,i,t)},addScriptResource(e,t){n.BrowserAdaptor.addScriptAsync(e,t)}},this.pubSub=o.EventBusGlobal,this.CommonData={Scenario:d.WindowAdaptor.getScenarioType(),BrowserId:l.BrowserDetector.getBrowserId(),BrowserIdFromUserAgent:l.BrowserDetector.getBrowserIdUserAgent(),BrowserVersion:l.BrowserDetector.getBrowserVersion()},this.tags={},this.sendBeacon=()=>{}}resolveMacros(e,t){return a.Utilities.resolveMacros(e,t)}registerEventCall(e,t,i,n){t.tagsrv=1,r.MessageHandler.registerEventCall(e,t,n,i)}createEventCallUrl(e,t,i=!1){return r.MessageHandler.createEventCallUrl(e,Object.assign(Object.assign({},t),{tagsrv:1}),i)}getWorkingWindow(){return d.WindowAdaptor.workingWindow()}getMraid(){return s.MraidWrapper.getMraid()}}},5999:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BeaconsAdaptor=void 0;const r=i(3868),n=i(425);t.BeaconsAdaptor=new class{positionBeacons(e,t,i){const a=r.WindowAdaptor.getDefaultWindow(e).document,s=r.WindowAdaptor.workingBody(a),o=n.BrowserAdaptor.getScrollData(s).left,d=n.BrowserAdaptor.getScrollData(s).top,{width:l,height:c,left:u,top:p}=n.BrowserAdaptor.getBoundingClientRect(e),h=l/2.414213562373095,g=c/2.414213562373095,m=l/1.4142135623730951,v=c/1.4142135623730951;for(let e=0;e<t.length;e++){const r=Math.round(5*Math.random()),n=t[e];switch(n.left=u+o,n.top=p+d,e){case 0:n.left=-1e5,n.top=-1e5;break;case 1:n.left+=r,n.top+=r;break;case 2:n.left+=l-i-r,n.top+=r;break;case 3:n.left+=r,n.top+=c-i-r;break;case 4:n.left+=l-i-r,n.top+=c-i-r;break;case 5:n.left+=l/2+r,n.top+=c/2+r;break;case 6:n.left+=(l-m)/2+r,n.top+=(c-v)/2+r;break;case 7:n.left+=(l-m)/2+m,n.top+=(c-v)/2;break;case 8:n.left+=(l-m)/2,n.top+=(c-v)/2+v+r;break;case 9:n.left+=(l-m)/2+m-r,n.top+=(c-v)/2+v-r;break;case 10:n.left+=(l-h)/2+r,n.top+=(c-g)/2+r;break;case 11:n.left+=(l-h)/2+h-r,n.top+=(c-g)/2+r;break;case 12:n.left+=(l-h)/2+r,n.top+=(c-g)/2+g-r;break;case 13:n.left+=(l-h)/2+h-r,n.top+=(c-g)/2+g-r}e>=5&&(n.left-=i/2,n.top-=i/2),n.style.left=n.left+"px",n.style.top=n.top+"px"}}getElementVisiblePercentageWithBeacons(e,t){let i=0,r=0,n=0,a=0;for(let s=1;s<e.length;s++){if(t(e[s]))switch(s){case 5:a++;break;case 1:case 2:case 3:case 4:i++;break;case 6:case 7:case 8:case 9:r++;break;case 10:case 11:case 12:case 13:n++}}return a||2!=i||2!=n?a?4==i?100:i>=2||4==r||4==n&&i>=1?50:4==n&&r>=1?30:0:0:30}}},6875:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkingWindow=t.getCurrentWindow=t.getTagUniqueKey=void 0;const r=i(3380);dvWindow="undefined"!=typeof window&&window||dvWindow;let n="";function a(){return("undefined"!=typeof $dv&&$dv||{}).isDomlessEnvironment?{}:dvWindow}t.getTagUniqueKey=function(){if(""===n){const e="undefined"!=typeof $dv&&$dv||{};if(!e.hasOwnProperty("tagData"))throw new Error("dv object missing tagData property");if(!e.tagData||"object"!=typeof e.tagData)throw new Error("tagData is not an object");const t=Object.keys(e.tagData).filter((t=>e.tagData[t].hasOwnProperty("tagScriptElem")&&"0"==e.tagData[t].flvr&&!e.tagData[t].isVisited));if(!t.length)throw new Error("all tags data visited");const i=r.Utilities.getVersion(),a=t.filter((t=>e.tagData[t].dvtpScriptVersion===i&&"0"==e.tagData[t].flvr));n=a.length?a[0]:t[0],e.tagData[n].isVisited=!0}return n},t.getCurrentWindow=a,t.getWorkingWindow=function(){const e="undefined"!=typeof $dv&&$dv||{},t=a();let i=t;try{i=e.restrictedAccess?t:t.parent}catch(e){i=t}return i}},425:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserAdaptor=t.BrowserAdaptorClass=void 0;const r=i(3868),n=i(6689),a=i(712),s=i(3380),o=i(2756),d=i(3946),l=i(363),c=i(6820),u=i(2478);class p{constructor(){this.visibilityPropertyPrefixes={hidden:"",webkitHidden:"webkit",mozHidden:"moz",msHidden:"ms"},this.updateVisibilityProperties(),this.createPrerenderedImages()}sendBeaconIsSupported(){return r.WindowAdaptor.getNavigator()&&!!r.WindowAdaptor.getNavigator().sendBeacon&&d.BrowserDetector.getBrowserId()!=a.Browser.Safari&&d.BrowserDetector.getBrowserId()!=a.Browser.SafariWebView}createPrerenderedImages(){this.prerenderedImages=[],this.sendBeaconSupported=this.sendBeaconIsSupported(),this.sendBeaconSupported||s.Utilities.times(20,(()=>this.prerenderedImages.push(new Image)))}getVisibilityProperty(){for(let e of Object.keys(this.visibilityPropertyPrefixes))if(null!=r.WindowAdaptor.workingDocument()[e])return e}updateVisibilityProperties(){this.visibilityProperty=this.getVisibilityProperty(),this.visibilityPrefix=this.visibilityPropertyPrefixes[this.visibilityProperty]}getVisibilityPrefix(){return this.visibilityPrefix}isVisibilityChangeEventSupported(){return!!this.visibilityProperty}hasFocus(){return!(this.isVisibilityChangeEventSupported()&&!n.OmidWrapper.isSupported())||!r.WindowAdaptor.workingDocument()[this.visibilityProperty]}hasStrictFocus(){try{return!(r.WindowAdaptor.documentTop()&&r.WindowAdaptor.documentTop().hasFocus&&!n.OmidWrapper.isSupported())||r.WindowAdaptor.documentTop().hasFocus()}catch(e){return!0}}addEventListener(e,t,i,r=!1){e&&t&&i&&(i.addEventListener?i.addEventListener(e,t,r):i.attachEvent?i.attachEvent("on"+e,t):i["on"+e]=t)}removeEventListener(e,t,i,r=!1){e&&t&&i&&i.removeEventListener&&i.removeEventListener(e,t,r)}setTimeout(e,t){return r.WindowAdaptor.currentWindow().setTimeout(u.default.runSafelyWhenInvoked(e,a.ClientErrorType.AsynchronousTaskError),t)}clearTimeout(e){r.WindowAdaptor.currentWindow().clearTimeout(e)}setInterval(e,t){return r.WindowAdaptor.currentWindow().setInterval(u.default.runSafelyWhenInvoked(e,a.ClientErrorType.AsynchronousTaskError),t)}clearInterval(e){r.WindowAdaptor.currentWindow().clearInterval(e)}getPerformanceTimeNow(){return null==this.timeFunction&&((0,c.isPerformanceApiSupported)()?this.timeFunction=()=>r.WindowAdaptor.currentWindow().performance.now():this.timeFunction=()=>Date.now()),this.timeFunction()}isBrowserSupported(){let e,t=[];return e="function"==typeof t.filter&&"function"==typeof t.forEach,e}getAttribute(e,t){let i;if(e&&t)try{i=e[t]||e.getAttribute(t)}catch(e){}return i}setElementStyle(e,t,i){try{e.style.setProperty(t,i)}catch(e){}}getElementsByTagNameFromDocument(e,t=r.WindowAdaptor.workingDocument()){let i=[];if(t&&e&&t.getElementsByTagName){let r=t.getElementsByTagName(e);r&&(i=s.Utilities.arrayLikeToArray(r))}return i}getElementsByClassName(e,t=r.WindowAdaptor.workingDocument()){let i=[];if(t&&e){let r;t.getElementsByClassName?r=t.getElementsByClassName(e):t.querySelectorAll&&(r=t.querySelectorAll("."+e)),r&&(i=s.Utilities.arrayLikeToArray(r))}return i}querySelector(e,t=r.WindowAdaptor.workingDocument()){try{return t.querySelector(e)}catch(e){}}createImage(){return new Image}createElement(e,t=r.WindowAdaptor.workingDocument()){if(e)return t.createElement(e)}insertBefore(e,t,i){return e&&e.insertBefore(t,i)}registerScriptEvent(e,t,i){this.addEventListener("error",t&&t.bind(null),e),this.addEventListener("load",i&&i.bind(null),e)}addScriptAsync(e,t,i,n,a){t=t||r.WindowAdaptor.workingBody()||r.WindowAdaptor.workingDocument().head||r.WindowAdaptor.workingDocumentElement();const s=this.createElement("script",t.ownerDocument);s.type="text/javascript",s.src=e,this.registerScriptEvent(s,n,a),i&&(s.id=i),this.insertBefore(t,s,t.firstChild)}addScriptSync(e,t){t.write('<script type="text/javascript" src="'+e+'"><\/script>')}createIframe(e){const t=this.createElement("iframe");return t.name=t.id="iframe_"+l.RandomUtils.getRandom16(),t.width="0",t.height="0",t.style.display="none",t.src=e,t}addIframeAfterBodyTag(e,t=150){r.WindowAdaptor.workingDocument()&&r.WindowAdaptor.workingBody()?this.insertBefore(r.WindowAdaptor.workingBody(),e,r.WindowAdaptor.workingBody().firstChild):this.setTimeout((()=>this.addIframeAfterBodyTag(e,--t)),20)}getElementById(e,t=r.WindowAdaptor.workingDocument()){if(e)return t.getElementById(e)}querySelectorAll(e,t){try{return e.querySelectorAll(t)}catch(e){}}getElementsByTagNameFromDomElement(e,t){let i=[];if(e&&t&&e.getElementsByTagName){let r=e.getElementsByTagName(t);r&&(i=s.Utilities.arrayLikeToArray(r))}return i}getElementType(e){if(e)return e.nodeName.toLowerCase()}getBoundingClientRect(e){let t={left:0,right:0,top:0,bottom:0,width:0,height:0};return e&&e.getBoundingClientRect&&(t=e.getBoundingClientRect()),t}getObjectSize(e){let t={width:0,height:0};if("object"==this.getElementType(e)){let i=this.getAttribute(e,"height"),r=this.getAttribute(e,"width");s.Utilities.isNullOrEmpty(r)&&s.Utilities.isNullOrEmpty(i)||(r=e.clientWidth,i=e.clientHeight);try{t.height=Number(i),t.width=Number(r)}catch(e){}}return t}getSiblingsNodes(e){let t=[],i=null;for(e&&e.parentNode&&(i=e.parentNode.firstChild);i;)1===i.nodeType&&i!==e&&t.push(i),i=i.nextElementSibling||i.nextSibling;return t}getElementChildren(e){let t=[];if(e.hasChildNodes())for(let i=0;i<e.childNodes.length;i++)e.childNodes[i]&&1===e.childNodes[i].nodeType&&t.push(e.childNodes[i]);return t}getAvailableScreenSize(e=!0){let t=e?0:null,i=e?0:null;const n=r.WindowAdaptor.workingWindow()&&r.WindowAdaptor.workingWindow().screen;return n&&(t=n.availHeight,i=n.availWidth),{height:t,width:i}}getScreenSize(){let e=0,t=0;try{const i=r.WindowAdaptor.workingWindow()&&r.WindowAdaptor.workingWindow().screen;i&&(e=i.height,t=i.width)}catch(e){}return{height:e,width:t}}getDevicePixelRatio(){let e;try{e=r.WindowAdaptor.workingWindow().devicePixelRatio}catch(e){}return e}getInnerViewport(e=!0){let t=e?0:null,i=e?0:null;try{const e=r.WindowAdaptor.windowTop(),n=r.WindowAdaptor.workingWindow();e?(t=e.innerHeight,i=e.innerWidth):n&&(t=n.innerHeight,i=n.innerWidth)}catch(e){}return{height:t,width:i}}getOuterViewport(e=r.WindowAdaptor.workingWindow(),t=!0){let i=t?0:null,n=t?0:null;try{e&&(i=e.outerHeight,n=e.outerWidth)}catch(e){}return{height:i,width:n}}getViewportAssetsRelativeToScreen(e){let t=0,i=0;try{e&&(t=e.screenY,i=e.screenX)}catch(e){}return{top:t,left:i}}getIframeAssetsRelativeToScreen(e=r.WindowAdaptor.workingWindow()){let t=0,i=0;try{e&&(t=e.mozInnerScreenY||e.screenTop,i=e.mozInnerScreenX||e.screenLeft)}catch(e){}return{top:t,left:i}}getScrollData(e=r.WindowAdaptor.workingBody()){let t=0,i=0;return e&&(t=e.scrollLeft,i=e.scrollTop),{left:i,top:t}}smartInstanceof(e,t,i){try{return e instanceof i[t]||i.parent!=i&&this.smartInstanceof(e,t,i.parent)}catch(e){return!1}}getNavigationStartTime(){let e=r.WindowAdaptor.workingWindow();if(e.performance&&e.performance.timing)return r.WindowAdaptor.workingWindow().performance.timing.navigationStart}getElementSize(e){let t={width:0,height:0};try{if("object"!=this.getElementType(e)){let i=this.getBoundingClientRect(e);t.height=i.height,t.width=i.width}else t=this.getObjectSize(e)}catch(e){}return t}getElementStaticSize(e){return{width:e.innerWidth||e.clientWidth,height:e.innerHeight||e.clientHeight}}sendBeacon(e,t=!1,i){if(n.OmidWrapper.isSupported())n.OmidWrapper.sendUrl(e);else if(!t&&this.sendBeaconSupported)r.WindowAdaptor.getNavigator().sendBeacon(e);else{let t;t=this.prerenderedImages&&this.prerenderedImages.length?this.prerenderedImages.pop():this.createImage(),t.src=e}s.Utilities.logDvSignal(e)}isElementAttachedToDocument(e){try{return"IFRAME"==e.nodeName?!!r.WindowAdaptor.getIframeWindow(e):r.WindowAdaptor.workingDocument().contains(e)}catch(e){}}getParentNode(e){return e&&e.parentNode}convertOrientationType(e){switch(null==e?void 0:e.toString()){case"landscape-primary":case"landscape-secondary":return 2;case"portrait-primary":case"portrait-secondary":return 1;default:return 0}}getScreenOrientationType(){var e;const t=null===(e=this.getScreenOrientation())||void 0===e?void 0:e.type;return this.convertOrientationType(t)}getScreenOrientation(){var e,t;return null===(t=null===(e=r.WindowAdaptor.currentWindow())||void 0===e?void 0:e.screen)||void 0===t?void 0:t.orientation}isAdElementHidden(e){let t=e.ownerDocument?e.ownerDocument.defaultView||e.ownerDocument.parentWindow:null;if(t)return this.getAdElementHiddenStatus(e,t)}getAdElementHiddenStatus(e,t){let i;try{if(!r.WindowAdaptor.isTop(t)){if(!t.frameElement)return;e=t.frameElement,t=r.WindowAdaptor.getWindowParent(t)}}catch(e){}let n=0;const a=s.Utilities.getCurrentTime();let o,d,l=s.Utilities.getElementOffsetFromScreen(e),c=l.left,u=l.top;try{o=getComputedStyle(e)}catch(t){o=e.style}if(e.getBoundingClientRect){let t=e.getBoundingClientRect();d=[c+t.width/2,u+t.height/2]}else d=[c+parseInt(o.width)/2,u+parseInt(o.height)/2];try{"none"===o.display&&(n|=4),i=t.document.body.querySelectorAll("*");let r=!1;for([].forEach.call(i,(function(t){if(r&&t!==e&&!t.contains(e)&&!e.contains(t))try{let e=t.getBoundingClientRect(),i=s.Utilities.getElementOffsetFromScreen(t);i.left+e.width>=d[0]&&i.left<=d[0]&&i.top<=d[1]&&i.top+e.height>=d[1]&&(n|=1)}catch(e){}t===e&&(r=!0)}));e;){try{o=getComputedStyle(e)}catch(t){o=e.style}o&&"none"===o.display&&(n|=4),o&&("hidden"===o.visibility||""!==o.opacity&&o.opacity<.8)&&(n|=2);try{if(e.getBoundingClientRect){let t=e.getBoundingClientRect();t.width*t.height<100&&(n|=8)}}catch(e){}e=e.document&&e==e.document.body?e.window.frameElement?e.window.frameElement:null:e.parentElement}}catch(e){n=-1}return n<0?n=-1e3*(s.Utilities.getCurrentTime()-a):n+=1e3*(s.Utilities.getCurrentTime()-a),n}getMetaTagAttributes(e,t){let i={};if(e)for(let r of s.Utilities.arrayLikeToArray(e.getElementsByTagName("meta")))if(r.getAttribute("name")===t&&r.getAttribute("content")){r.getAttribute("content").split(",").forEach((e=>{const t=e.split("=");t.length>1&&(i[t[0].trim()]=t[1].trim())}));break}return i}}t.BrowserAdaptorClass=p,t.BrowserAdaptor=r.WindowAdaptor.isDomlessEnvironment()?new o.BrowserOmidAdaptorClass:new p},3946:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserDetector=t.BrowserDetectorClass=void 0;const r=i(712),n=i(3868),a=i(7749);class s{constructor(){this.browsersList=[{id:r.Browser.Selenium,browserDetectionRuleType:2,propertiesRuleFunc:()=>n.WindowAdaptor.workingDocumentElement().hasAttribute("webdriver")||n.WindowAdaptor.workingDocumentElement().hasAttribute("fxdriver")||n.WindowAdaptor.workingDocumentElement().hasAttribute("__webdriver_unwrapped")||n.WindowAdaptor.workingDocumentElement().hasAttribute("__webdriver_script_fn")||n.WindowAdaptor.workingDocumentElement().hasAttribute("__webdriver_evaluate")||n.WindowAdaptor.workingDocumentElement().hasAttribute("__fxdriver_evaluate")||n.WindowAdaptor.workingDocumentElement().hasAttribute("__fxdriver_unwrapped")||n.WindowAdaptor.workingDocumentElement().hasAttribute("__fxdriver_script_fn")||this.workingWindow.webdriver||this.workingWindow.domAutomation||this.workingWindow.domAutomationController||this.workingWindow._WEBDRIVER_ELEM_CACHE},{id:r.Browser.PhantomJS,browserDetectionRuleType:2,propertiesRuleFunc:()=>this.workingWindow._phantom||this.workingWindow.callPhantom||this.workingWindow.phantom||this.workingWindow.__nightmare},{id:r.Browser.PuppeteerVanilla,browserDetectionRuleType:2,propertiesRuleFunc:()=>{var e;return null===(e=this.workingWindow.navigator)||void 0===e?void 0:e.webdriver}},{id:r.Browser.PuppeteerExtraStealth,browserDetectionRuleType:2,propertiesRuleFunc:()=>this.getIsExtraStealthBrowser()},{id:r.Browser.ChromeWebView,browserDetectionRuleType:1,userAgentRegex:"(?:wv(.*?))version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|(?:wv(.*?))version\\/[0-9]+(?:.[0-9]+)* chrome\\/[0-9]+(?:.[0-9]+)*",versionRegex:"chrome/"},{id:r.Browser.SafariWebView,browserDetectionRuleType:3,userAgentRegex:"(?=.*(iphone|ipod|ipad))(?=^(?:(?!safari).)*$).*$",propertiesRuleFunc:()=>!this.workingWindow.navigator.standalone},{id:r.Browser.IE,browserDetectionRuleType:1,userAgentRegex:"msie|trident/7.*rv:11|rv:11.*trident/7|edge/|edg/",versionRegex:"(msie |rv:| edge/|edg/)"},{id:r.Browser.Firefox,browserDetectionRuleType:2,userAgentRegex:"firefox",versionRegex:"firefox/",propertiesRuleFunc:()=>"number"==typeof this.workingWindow.mozInnerScreenY&&"number"==typeof this.workingWindow.mozPaintCount&&this.workingWindow.InstallTrigger&&this.workingWindow.InstallTrigger.install},{id:r.Browser.Opera,browserDetectionRuleType:1,userAgentRegex:"opr|opera",versionRegex:"(opr/|version/)"},{id:r.Browser.Chrome,browserDetectionRuleType:2,userAgentRegex:"chrome",versionRegex:"chrome/",propertiesRuleFunc:()=>this.workingWindow.chrome&&"function"==typeof this.workingWindow.chrome.csi&&"function"==typeof this.workingWindow.chrome.loadTimes&&"boolean"==typeof this.workingDocument.webkitHidden},{id:r.Browser.Chrome,browserDetectionRuleType:1,userAgentRegex:"crios",versionRegex:"crios/"},{id:r.Browser.Safari,browserDetectionRuleType:2,userAgentRegex:"safari|(os |os x )[0-9].*applewebkit",versionRegex:"version/",propertiesRuleFunc:()=>{let e=n.WindowAdaptor.workingDocument()&&n.WindowAdaptor.workingDocument().createElement&&n.WindowAdaptor.workingDocument().createElement("p");if(e)return e.innerText=".",e.setAttribute("style","color:red; border: 1px solid blue;"),(Object.prototype.toString.call(this.workingWindow.HTMLElement).indexOf("Constructor")>0||this.workingWindow.webkitAudioPannerNode&&this.workingWindow.webkitConvertPointFromNodeToPage)&&null!=this.workingWindow.innerWidth&&null!=this.workingWindow.innerHeight&&null!=e.style.textShadow}},{id:r.Browser.Unknown,browserDetectionRuleType:1,userAgentRegex:"mozilla.*android.*applewebkit(?!.*chrome.*)|linux.*android.*applewebkit.* version/.*chrome"},{id:r.Browser.Unknown,browserDetectionRuleType:1,userAgentRegex:"aol/.*aolbuild/|aolbuild/.*aol/|puffin|maxthon|valve|silk|playstation|playstation|nintendo|wosbrowser"}],n.WindowAdaptor.isDomlessEnvironment()||(this.workingWindow=n.WindowAdaptor.workingWindow(),this.workingDocument=n.WindowAdaptor.workingDocument(),this.currentUserAgent=((null===a.DvTagDataObject||void 0===a.DvTagDataObject?void 0:a.DvTagDataObject.getUserAgent())||n.WindowAdaptor.getUserAgent()||"").toLowerCase(),this.browserData=this.determineBrowserType())}getBrowserId(){return this.browserData&&this.browserData.browserId}getBrowserVersion(){return this.browserData&&this.browserData.browserVersion}getBrowserIdUserAgent(){return this.browserData&&this.browserData.browserIdUserAgent}determineBrowserType(){let e,t,i;for(let i of this.browsersList){switch(i.browserDetectionRuleType){case 3:this.validateBrowserTypeByUserAgent(i)&&this.validateBrowserTypeByPropertiesRule(i)&&(e=t=i);break;case 1:this.validateBrowserTypeByUserAgent(i)&&(e=t=i);break;case 2:!e&&i.userAgentRegex&&this.validateBrowserTypeByUserAgent(i)&&(e=i),!t&&this.validateBrowserTypeByPropertiesRule(i)&&(t=i)}if(e&&t)break}return e==t&&e&&e.versionRegex&&(i=this.determineBrowserVersion(e.versionRegex)),{browserId:t&&t.id,browserVersion:i||"",browserIdUserAgent:e&&e.id}}validateBrowserTypeByUserAgent(e){return new RegExp(e.userAgentRegex).test(this.currentUserAgent)}validateBrowserTypeByPropertiesRule(e){return e.propertiesRuleFunc()}getIsExtraStealthBrowser(){let e=!1;try{const t=this.workingDocument.createElement("video"),i=t&&t.canPlayType,r=i?t.canPlayType('video/mp4; codecs="avc1.42E01E"'):"",n=i?t.canPlayType('video/mp4; codecs="avc3.42E01E"'):"",a=i&&""!=r&&""!=n,s=this.workingWindow.MediaSource,o=s&&s.isTypeSupported&&!1===s.isTypeSupported('video/mp4; codecs="avc1.42E01E"');e=a&&o}catch(e){}finally{return e}}determineBrowserVersion(e){const t=new RegExp(e+"[0-9]+(?:.[0-9]+)*"),i=this.currentUserAgent.match(t);if(i)return i[0].replace(this.currentUserAgent.match(new RegExp(e))[0],"")}}t.BrowserDetectorClass=s,t.BrowserDetector=new s},2756:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserOmidAdaptorClass=void 0;const r=i(6689),n=i(2478),a=i(712);t.BrowserOmidAdaptorClass=class{updateVisibilityProperties(){}getDevicePixelRatio(){}getVisibilityPrefix(){return""}isVisibilityChangeEventSupported(){return!1}hasFocus(){return!0}hasStrictFocus(){return!0}addEventListener(e,t,i,n=!1){r.OmidWrapper.addEventListener(e,t)}removeEventListener(e,t,i,r=!1){}setTimeout(e,t){return r.OmidWrapper.setTimeout(n.default.runSafelyWhenInvoked(e,a.ClientErrorType.AsynchronousTaskError),t)}clearTimeout(e){r.OmidWrapper.clearTimeout(e)}setInterval(e,t){return r.OmidWrapper.setInterval(n.default.runSafelyWhenInvoked(e,a.ClientErrorType.AsynchronousTaskError),t)}clearInterval(e){r.OmidWrapper.clearInterval(e)}getPerformanceTimeNow(){return Date.now()}isBrowserSupported(){let e,t=[];return e="function"==typeof t.filter&&"function"==typeof t.forEach,e}getAttribute(e,t){}setElementStyle(e,t,i){}getElementsByTagNameFromDocument(e,t){return[]}querySelectorAll(e,t){return[]}getElementsByClassName(e,t){return[]}querySelector(e,t){}createElement(e,t){throw new Error("createElement failed")}getElementById(e,t){}getElementsByTagNameFromDomElement(e,t){return[]}getElementType(e){}getBoundingClientRect(e){return{left:0,right:0,top:0,bottom:0,width:0,height:0}}getObjectSize(e){return{width:0,height:0}}getSiblingsNodes(e){return[]}getElementChildren(e){return[]}getAvailableScreenSize(e=!0){return{height:0,width:0}}getScreenSize(){return{height:0,width:0}}getInnerViewport(e=!0){return{height:0,width:0}}getOuterViewport(e,t=!0){return{height:0,width:0}}getViewportAssetsRelativeToScreen(e){return{top:0,left:0}}getIframeAssetsRelativeToScreen(e){return{top:0,left:0}}getScrollData(e){return{left:0,top:0}}smartInstanceof(e,t,i){return!1}getNavigationStartTime(){}getElementSize(e){return{width:0,height:0}}getElementStaticSize(e){return{width:0,height:0}}sendBeacon(e,t,i){r.OmidWrapper.sendUrl(e)}insertBefore(e,t,i){}addScriptAsync(e,t,i,n,a){r.OmidWrapper.injectJavaScriptResource(e,a&&a.bind(null),n&&n.bind(null))}addScriptSync(e,t){r.OmidWrapper.injectJavaScriptResource(e)}createIframe(e){throw new Error("createIframe failed")}addIframeAfterBodyTag(e){throw new Error("addIframeAfterBodyTag failed")}isElementAttachedToDocument(e){return!0}getParentNode(e){}getScreenOrientation(){}getScreenOrientationType(){}isAdElementHidden(e){return 0}getMetaTagAttributes(e,t){return{}}}},7015:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Cm360AdContainerInspectorFactory=void 0;const r=i(7749),n=i(5670);class a extends n.AdContainerInspectorFactory{constructor(e){super(a.getContainerId(e))}static getContainerId(e){return e?r.DvTagDataObject.getValueOfTagAttribute(e):null}}t.Cm360AdContainerInspectorFactory=a},8379:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.omidCreativeTypeMapping=t.omidImpressionTypeMapping=t.NOT_FOUND_OR_ERROR=t.OmidGeometryReasonLog=t.OmidEvents=t.dvIframeAttribute=t.CallbackPrefix=t.ViewabilityConstants=void 0;const r=i(630);var n;n||(t.ViewabilityConstants=n={}),t.CallbackPrefix="dvCallback_",t.dvIframeAttribute="data-dv-frm",t.OmidEvents={sessionStart:1,sessionError:2,sessionFinish:4,impression:8,geometryChange:16,loaded:32,start:64,firstQuartile:128,midpoint:256,thirdQuartile:512,complete:1024,pause:2048,resume:4096,bufferStart:8192,skipped:16384,volumeChange:32768,playerStateChange:65536,adUserInteraction:1<<17},t.OmidGeometryReasonLog={notFound:1,hidden:2,backgrounded:4,obstructed:8,clipped:16},t.NOT_FOUND_OR_ERROR=-1,t.omidImpressionTypeMapping={[r.OmidImpressionType.UNKNOWN]:0,[r.OmidImpressionType.UNSPECIFIED]:1,[r.OmidImpressionType.LOADED]:2,[r.OmidImpressionType.BEGIN_TO_RENDER]:3,[r.OmidImpressionType.ONE_PIXEL]:4,[r.OmidImpressionType.VIEWABLE]:5,[r.OmidImpressionType.AUDIBLE]:6,[r.OmidImpressionType.OTHER]:7},t.omidCreativeTypeMapping={[r.OmidCreativeType.UNKNOWN]:0,[r.OmidCreativeType.NATIVE_DISPLAY]:1,[r.OmidCreativeType.HTML_DISPLAY]:2,[r.OmidCreativeType.VIDEO]:3,[r.OmidCreativeType.AUDIO]:4}},8962:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.dvDefineProperty=t.getTagUniqueKeyFromVisitScriptElement=void 0;const r=i(194),n=i(3868),a=i(7749);function s(){let e="";if(!n.WindowAdaptor.isDomlessEnvironment()){const t=n.WindowAdaptor.getCurrentScript();t&&t.id&&t.src&&t.src.indexOf(a.DvTagDataObject.getInitPath())>-1&&([,e]=t.id.split("_"))}return e}function o(e,t){e.dvDefinedProps||(e.dvDefinedProps={}),e.dvDefinedProps[t]||(e.dvDefinedProps[t]=!0,Object.defineProperty(e,t,{set(e){this.value=e},get(){let e=s();if(e){const i=r.DvObject.getDvObject().tagData[e];return i&&i[t]}}}))}if(t.getTagUniqueKeyFromVisitScriptElement=s,t.dvDefineProperty=o,r.DvObject.isRestrictedAccess()&&n.WindowAdaptor.getCurrentScript()){const e=n.WindowAdaptor.currentWindow();["$frmId","$uid"].forEach((t=>o(e,t)))}},194:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DvObject=t.DvObjectClass=void 0;const r=i(6875),n=i(6142);class a{setDvGetOmidVerificationClient(e){this.dvGetOmidVerificationClient=e}getDvGetOmidVerificationClient(){return this.dvGetOmidVerificationClient}getDvObject(){if("undefined"!=typeof $dv)return $dv;const e=(0,r.getCurrentWindow)();if(e&&e.$dv)return e.$dv;const t=(0,r.getWorkingWindow)();return t&&t.$dv?t.$dv:{}}getTagUniqueKey(){return(0,r.getTagUniqueKey)()}getTagCounter(){return this.getDvObject().tagsCounter}getIsWhitelistedDomain(){return this.getTagData().authorizedDomain}getSharedUniqueKey(){return this.getDvObject().sharedUniqueKey}getTagScriptElem(){return this.getTagData().tagScriptElem}hasTagData(){return!!this.getDvObject().tagData}getTagData(){const e=this.getDvObject(),t=this.getTagUniqueKey(),i=e.tagData[t];if(!i)throw new Error(`tagData not found for tuk = ${t}`);return i}getTagParams(){return this.getTagData().tagParams}getDvtpScriptVersion(){return this.getTagData().dvtpScriptVersion}isRestrictedAccess(){return!!this.getDvObject().restrictedAccess}getScriptInjectionMode(){var e;return this.hasTagData()&&null!==(e=this.getTagData().scriptInjectionMode)&&void 0!==e?e:"unknown"}isOmidForWeb(){return!!this.getTagData().isOmidForWeb}getOmidWebHopCounter(){return this.getTagData().omidWebHopCounter}isOmid3p(){return!!this.getTagData().isOmid3p}getOmid3pHopCounter(){return this.getTagData().omid3pHopCounter}getDvtpScriptUrl(){return this.getTagData().dvtpScriptUrl||""}getTagLoadedMS(){return this.getTagData().tagLoadedMS||0}getTagReadyState(){return this.getTagData().tagReadyState||"loading"}getVisitReadyState(){return this.getTagData().visitReadyState||"loading"}setVisitReadyState(e="loading"){this.getTagData().visitReadyState=e}getVisitInjectedMS(){return this.getTagData().visitInjectedMS||0}setVisitInjectedMS(e=0){this.getTagData().visitInjectedMS=e}getVerifyInjectedMS(){return this.getTagData().verifyInjectedMS||0}setVerifyInjectedMS(e=0){this.getTagData().verifyInjectedMS=e}getTagExecTimeMs(){return this.getTagData().tagExecTimeMs||0}setImpressionIdOnTagData(e){this.getTagData().$uid=e}setImpressionId(e){this.impressionId=e,this.setImpressionIdOnTagData(e)}getImpressionIdFromTagData(){return this.getTagData().$uid}getImpressionId(e){if(this.isRestrictedAccess()){const e=this.getImpressionIdFromTagData();if(e)return e}return e&&e.$uid?e.$uid:"undefined"!=typeof $uid?$uid:void 0}getFrameIdFromTagData(){return this.getTagData().$frmId}getFrameId(e){if(this.isRestrictedAccess()){const e=this.getFrameIdFromTagData();if(e)return e}return e&&e.$frmId?e.$frmId:"undefined"!=typeof $frmId?$frmId:void 0}getScriptUrl(){return this.getTagData().dvtpScriptUrl}getProtocol(){return 0===(this.getScriptUrl()||"").indexOf("http:")?"http:":"https:"}getJSVersion(){return this.getTagData().dvtpScriptVersion}publishPubSubEvent(e,t=this.impressionId,i={}){this.getDvObject()&&this.getDvObject().pubSub&&e&&t&&this.getDvObject().pubSub.publish(e,t,i)}getDisplayCustomViewabilityConditions(){const e=this.getDvObject().tags[this.impressionId].cvmSettings;if(null!=e&&null!=e.adArea&&null!=e.duration&&null!=e.measureType)return{minimalAdAreaPercentage:e.adArea,minimalAdDuration:e.duration,consecutiveMode:"consecutive"==e.measureType.toLowerCase()}}getDisplayCustomStandardViewabilityConditions(){const e=this.getDvObject().tags[this.impressionId].csd;if(null!=e&&null!=e.adView&&null!=e.adDurationCap&&null!=e.isConsecutive&&null!=e.adSize)return{minimalAdAreaPercentage:e.adView,minimalAdDuration:e.adDurationCap,consecutiveMode:e.isConsecutive,minimalAdSize:e.adSize}}getVideoCustomViewabilityConditions(){const e=this.getDvObject().tags[this.impressionId].videoCustom;if(null!=e&&null!=e.adView&&null!=e.adDurationCap&&null!=e.isConsecutive&&null!=e.hasVolume)return{minimalAdAreaPercentage:e.adView,minimalAdDuration:e.adDurationCap,consecutiveMode:e.isConsecutive,requireVolume:e.hasVolume}}getVideoCustomStandardViewabilityConditions(){const e=this.getDvObject().tags[this.impressionId].csv;if(null!=e&&null!=e.adView&&null!=e.adDurationCap&&null!=e.isConsecutive&&null!=e.hasVolume&&null!=e.playerSize)return{minimalAdAreaPercentage:e.adView,minimalAdDuration:e.adDurationCap,minimalAdDurationPercent:e.adDurationPercent,minimalAdSize:e.playerSize,consecutiveMode:e.isConsecutive,requireVolume:e.hasVolume}}getCustomAdvertiserViewabilitySettings(){const e=this.getDvObject();let t,i;if(!(e&&e.tags&&this.impressionId&&(t=$dv.tags[this.impressionId])&&(i=t.cavs)&&null!=i.standardType))return;const{regularAd:r,largeAd:n,standardType:a}=i;return{standardType:a,conditions:{regularAd:r,largeAd:n}}}getKMEVideoViewabilityConditions(){const e=this.getDvObject().tags[this.impressionId].videoBrandVisibilty;if(null!=e&&null!=e.adView&&null!=e.adStart&&null!=e.adEnd&&null!=e.hasVolume)return{minimalAdAreaPercentage:e.adView,timeLineLeftBoundary:e.adStart,timeLineRightBoundary:e.adEnd,requireVolume:e.hasVolume}}getAllowJsCallback(){return this.getAvoParam("ajscb")}getIsOffScreen(){return this.getAvoParam("ofs")}getConsolidationTimeout(){let e=this.getAvoParam("cto");if(e&&!isNaN(e))return e}getIsReducedAdLocatorLatency(){let e=this.getAvoParam("int");if(e&&!isNaN(e))return e}isMobileWeb(){return 2==this.getDetectedDeliveryType()}isMobileApp(){return 3==this.getDetectedDeliveryType()}isCTV(){return 4==this.getDetectedDeliveryType()}isMobile(){return this.isMobileWeb()||this.isMobileApp()}getDetectedDeliveryType(){try{if(this.detectedDeliveryType||!this.impressionId)return this.detectedDeliveryType;const e=n.ServerContext.getDetectedDeliveryType();if(e)return this.detectedDeliveryType=e,this.detectedDeliveryTypeExtractionSource=1,this.detectedDeliveryType;const t=this.getDvObject().tags[this.impressionId].detectedDeliveryType;return null!=t?(this.detectedDeliveryType=t,this.detectedDeliveryTypeExtractionSource=2,this.detectedDeliveryType):(this.detectedDeliveryType=this.getDvObject().CommonData.detectedDeliveryType,this.detectedDeliveryType&&(this.detectedDeliveryTypeExtractionSource=3),this.detectedDeliveryType)}catch(e){}}getDetectedDeliveryTypeExtractionSource(){return this.detectedDeliveryTypeExtractionSource}isSpotxMode(){let e=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(e=!!this.getDvObject().tags[this.impressionId].spotXmode),e}getAllowRBViewability(){let e=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(e=this.getDvObject().tags[this.impressionId].allowRB),e}getFireOnlyImportantEvents(){let e=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(e=this.getDvObject().tags[this.impressionId].foie),e}isSIVTImpression(){let e=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(e=!!this.getDvObject().tags[this.impressionId].bgm),e}isGroupMV4VideoNativeImpression(){let e=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(e=!!this.getDvObject().tags[this.impressionId].gmv4ntv),e}isFocusStrictMode(){return this.getAvoParam("fcs")}getDoubleTagImpressionID(){let e=this.getAdTagData();if(e&&e.dup&&"null"!=e.dup)return e.dup}getAvoParam(e){let t,i=this.getAdTagData();return i&&i.AVO&&(t=i.AVO[e]),t}getAdTagData(){let e,t=this.impressionId;return this.getDvObject().tags&&this.getDvObject().tags[t]&&(e=this.getDvObject().tags[t]),e}}t.DvObjectClass=a,t.DvObject=new a},7749:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DvTagDataObject=t.DvTagDataObjectClass=void 0;const r=i(3868),n=i(712),a=i(749),s=i(3380),o=i(6689),d=i(425),l=i(194),c=i(7658),u=i(8170),{getQueryParamName:p}=u.DiagnosticParamsSingleton;class h{constructor(){this.paramsCaseInsensitive={},this.paramsCaseSensitive={},this.serverPrefix="https://tps.doubleverify.com/",this.initPath="visit.js",this.errorPath="visit.jpg",this.eventPath="event.png",this.blockingServerPrefix=void 0,this.blockingInitPath=void 0,this.blockingErrorPath=void 0,this.blockingEventPath=void 0,this.DIAGNOSTIC_PARAM_CTX=p("ctx"),this.DIAGNOSTIC_PARAM_CMP=p("cmp"),this.DIAGNOSTIC_PARAM_ADSRV=p("adsrv"),this.DIAGNOSTIC_PARAM_PLC=p("plc"),this.DIAGNOSTIC_PARAM_SID=p("sid"),this.DIAGNOSTIC_PARAM_DUP=p("dup"),this.CTX="ctx",this.CMP="cmp",this.ADSRV="adsrv",this.SID="sid",this.PLC="plc",this.DUP="dup"}start(){this.setDvScript(),this.setDvScriptUrl(),this.dvtpScriptUrl||a.MessageHandler.sendError(n.ClientErrorType.DvTagArrangementError,new Error("url is missing")),this.setDVParam()}getScriptElementExtractionMethod(){return this.scriptElementExtractionMethod}getParamUrlExtractionMethod(){return this.paramUrlExtractionMethod}getDVScriptUrl(){return this.dvtpScriptUrl}getDVScript(){return this.scriptElement}getCaseSensitiveParams(){return this.paramsCaseSensitive}getLowerCaseParams(){return this.paramsCaseInsensitive}getParamValue(e){return this.paramsCaseInsensitive[e]?this.paramsCaseInsensitive[e]:null}getTagType(){return!this.paramsCaseInsensitive.tagtype||"video"!=this.paramsCaseInsensitive.tagtype.toLowerCase()&&"1"!=this.paramsCaseInsensitive.tagtype?n.DvTagType.Display:n.DvTagType.Video}getTagFormat(){return this.paramsCaseInsensitive.tagformat}isTagTypeValid(){return!this.paramsCaseInsensitive.tagtype||-1!=["display","0","video","1"].indexOf(this.paramsCaseInsensitive.tagtype.toLowerCase())}getClientCode(){return this.paramsCaseInsensitive[this.CTX]}getPlacementId(){return this.paramsCaseInsensitive[this.PLC]}getAdServerSiteCode(){return this.paramsCaseInsensitive[this.SID]}getDvApi(){return this.paramsCaseInsensitive.dvapi}getAdServerCampaignCode(){return this.paramsCaseInsensitive[this.CMP]}getBlockingPartnerCallbackName(){return this.paramsCaseInsensitive.dvp_dcb}getGDPR(){return this.paramsCaseInsensitive.gdpr}getGDPRConsent(){return this.paramsCaseInsensitive.gdpr_consent}getGDPRAndGDPRConsentQueryStringPart(){const e=this.getGDPR(),t=this.getGDPRConsent();return[[c.TPSDataMapping.gdpr,e],[c.TPSDataMapping.gdpr_consent,t]].map((([e,t])=>`${e}=${encodeURIComponent(t||"")}`)).join("&")+"&"}getClientData(){return{ctx:this.getClientCode()||818052,cmp:this.getAdServerCampaignCode()||1619415,sid:this.getAdServerSiteCode()||0,plc:this.getPlacementId()||0}}getAdID(){return this.paramsCaseInsensitive.dvp_gvacb||this.paramsCaseInsensitive.adid}getBtreg(){return this.paramsCaseInsensitive.btreg}getUserAgent(){return this.paramsCaseInsensitive.useragent}getFindClass(){return"1"==this.paramsCaseInsensitive.findclass}getIsBlocking(){return"0"!==this.paramsCaseInsensitive.blk}getIsMonitoring(){return"0"!==this.paramsCaseInsensitive.mon}getVideoBlockingCallbackUrl(){return this.paramsCaseInsensitive.blkntf}getCm360ContainerId(){return this.getValueOfTagAttribute("data-doubleverify-container")}getCm360BlockingCallbackFnName(){return this.getValueOfTagAttribute("data-doubleverify-callback")}getIsCm360CreativeWrapping(){return this.isCm360ParamExtractionEnabled()}getMeasurementApi(){return this.paramsCaseInsensitive.msrapi}getAdServerId(){return this.paramsCaseInsensitive[this.ADSRV]}getBtregOptimizationExperiment(){return this.paramsCaseInsensitive.btroe}getBtadsrv(){return this.paramsCaseInsensitive.btadsrv}getCustomTags(){return this.getArrayedParams("bttag","|")}getCustomAttributes(){return this.getArrayedParams("btattb","|")}isSellerTag(){return 1==this.paramsCaseInsensitive.seltag}useSellerTagMultipleAdLocatorSets(){return this.paramsCaseInsensitive.seltagmals}getAsyncSplitInitMeasurement(){return this.paramsCaseInsensitive.asim}getSupplySource(){return this.paramsCaseInsensitive.sup}getVastUrl(){return this.paramsCaseInsensitive.wrapperurl}getSellerAdSize(){let e={width:0,height:0},t=this.paramsCaseInsensitive.unit;if(t){let i=t.toLowerCase().split("x");if(i[0]&&i[1])try{let t=parseInt(i[0]),r=parseInt(i[1]);isNaN(t)||isNaN(r)||(e.width=t,e.height=r)}catch(e){}}return e}isCm360ParamExtractionEnabled(){return null!==this.getValueOfTagAttribute("data-doubleverify-parameters")}extractParamString(){if(this.isCm360ParamExtractionEnabled()&&this.getValueOfTagAttribute("data-doubleverify-parameters"))return this.getValueOfTagAttribute("data-doubleverify-parameters");const e=this.getDVScriptUrl(),t=new RegExp("[\\?\\#&](.*)$","gi").exec(e);return t&&void 0!==t[1]?t[1]:""}saveExtractedParams(e){for(const t in e){const i=t.toLowerCase(),r=e[t];this.paramsCaseInsensitive[i]=s.Utilities.isNullOrEmpty(this.paramsCaseInsensitive[i])?r:this.paramsCaseInsensitive[i],this.paramsCaseSensitive[t]=s.Utilities.isNullOrEmpty(this.paramsCaseSensitive[t])?r:this.paramsCaseSensitive[t]}}setDVParam(){try{const e=this.extractParamString(),t=this.extractParamsToObjFromStr(e);this.saveExtractedParams(t)}catch(e){a.MessageHandler.sendError(n.ClientErrorType.DvTagArrangementError,e)}}getArrayedParams(e,t){const i=this.paramsCaseInsensitive[e];return(null==i?void 0:i.length)?i.split(t):[]}getBlockingInitPath(){return this.blockingInitPath}getBlockingErrorPath(){return this.blockingErrorPath}getBlockingEventPath(){return this.blockingEventPath}getBlockingServerPrefix(){return this.blockingServerPrefix}getServerPrefix(){return this.serverPrefix}setBlockingServerPrefix(e){this.blockingServerPrefix=e}setServerPrefix(e){this.serverPrefix=e}getInitPath(){return this.initPath}getErrorPath(){return this.errorPath}getEventPath(){return this.eventPath}getValueOfTagAttribute(e){return d.BrowserAdaptor.getAttribute(this.scriptElement,e)}resolveEventUrlPrefix(e){var t;const i="blocking"===(null===(t=l.DvObject.getDvObject().tags[e])||void 0===t?void 0:t.type);return`${i?this.getBlockingServerPrefix():this.getServerPrefix()}${i?this.getBlockingEventPath():this.getEventPath()}`}setDvScriptUrl(){var e;try{const t=r.WindowAdaptor.currentWindow().dvSrc?"dvtp_src_omid":"dvtp_src";if(o.OmidWrapper.isSupported()&&o.OmidWrapper.getVerificationParameters())return this.setOmidScript(t),void(this.paramUrlExtractionMethod=1);const i=l.DvObject.getDvtpScriptUrl();if(i)return this.dvtpScriptUrl=i,void(this.paramUrlExtractionMethod=2);(null===(e=this.scriptElement)||void 0===e?void 0:e.src)&&(this.dvtpScriptUrl=this.scriptElement.src,this.paramUrlExtractionMethod=3)}catch(e){this.paramUrlExtractionMethod=4}}setDvScript(){try{if(o.OmidWrapper.isSupported()&&o.OmidWrapper.getVerificationParameters())return this.scriptElementExtractionMethod=h.ScriptElementExtractionMethodState.Omid,void(this.scriptElement={});let e=l.DvObject.getTagScriptElem();if(this.scriptElementExtractionMethod=h.ScriptElementExtractionMethodState.ExtractFromTagData,!e){const t=`https://cdn.doubleverify.com/${r.WindowAdaptor.currentWindow().dvSrc?"dvtp_src_omid":"dvtp_src"}.js?`,i=d.BrowserAdaptor.getElementsByTagNameFromDocument("script").filter((e=>0===e.src.indexOf(t))).filter((e=>1!=e.dvvisit));if(!i.length)return this.scriptElementExtractionMethod=h.ScriptElementExtractionMethodState.NotFound,void a.MessageHandler.sendError(n.ClientErrorType.UnexpectedLostImpError,new Error("scriptElement did not find"));e=i[0],this.scriptElementExtractionMethod=h.ScriptElementExtractionMethodState.FoundInDom}this.scriptElement=e,this.scriptElement.dvvisit=1}catch(e){e.message=`missing element ${e.message}`,a.MessageHandler.sendError(n.ClientErrorType.DvTagArrangementError,e)}}handleOmidForWebVerificationParams(){let e=o.OmidWrapper.getVerificationParameters(),t=this.extractParamsToObjFromStr(e);return t=this.manipulateOmidForWebParams(t),e=s.Utilities.serializeObjectToQueryString(t,!0),e}extractParamsToObjFromStr(e){const t={},i=new RegExp("([^&#?]*)=([^&#?]*)","gi");let r=i.exec(e);for(;null!=r;){if(!s.Utilities.isNullOrEmpty(r[1])&&!s.Utilities.isNullOrEmpty(r[2])){const e=r[1].trim(),i=r[2].trim();e&&i&&(t[e]=i)}r=i.exec(e)}return t}manipulateOmidForWebParams(e){const t={};Object.keys(e).forEach((i=>{t[i.toLowerCase()]=e[i]}));const{ctx:i,cmp:r,plc:n,adsrv:a,sid:s}=t;return t[this.DIAGNOSTIC_PARAM_CTX]=i,t[this.DIAGNOSTIC_PARAM_CMP]=r,t[this.DIAGNOSTIC_PARAM_PLC]=n,t[this.DIAGNOSTIC_PARAM_ADSRV]=a,t[this.DIAGNOSTIC_PARAM_SID]=s,t[this.CTX]="818052",t[this.CMP]="DV517581",t[this.PLC]="20210517001",t[this.ADSRV]="0",t[this.SID]="OMIDWeb",t.hasOwnProperty(this.DUP)&&(t[this.DIAGNOSTIC_PARAM_DUP]=t[this.DUP],delete t[this.DUP]),t}isParamManipulationRequired(){const e="web"===o.OmidWrapper.getOmidScenarioType(),t=l.DvObject.isOmid3p();return e&&t}setOmidScript(e){const t=this.isParamManipulationRequired()?this.handleOmidForWebVerificationParams():o.OmidWrapper.getVerificationParameters();this.dvtpScriptUrl=`https://cdn.doubleverify.com/${e}.js#${t}`,this.scriptElement.src=this.dvtpScriptUrl}}t.DvTagDataObjectClass=h,h.ScriptElementExtractionMethodState={Omid:1,ExtractFromTagData:2,FoundInDom:3,NotFound:4},t.DvTagDataObject=new h},5903:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Encoding=t.EncodingClass=void 0;class i{ROT47(e){let t;return t=this.ROTn(e,"!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"),t}sha1hash(e){if(!e)return"";const t=[1518500249,1859775393,2400959708,3395469782],i=(e+=String.fromCharCode(128)).length/4+2,r=Math.ceil(i/16),n=new Array(r),a=new Array(80);let s,o,d,l,c,u=1732584193,p=4023233417,h=2562383102,g=271733878,m=3285377520;for(let t=0;t<r;t++){n[t]=new Array(16);for(let i=0;i<16;i++)n[t][i]=e.charCodeAt(64*t+4*i)<<24|e.charCodeAt(64*t+4*i+1)<<16|e.charCodeAt(64*t+4*i+2)<<8|e.charCodeAt(64*t+4*i+3)}n[r-1][14]=8*(e.length-1)/Math.pow(2,32),n[r-1][14]=Math.floor(n[r-1][14]),n[r-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<r;e++){for(let t=0;t<16;t++)a[t]=n[e][t];for(let e=16;e<80;e++)a[e]=this.ROTL(a[e-3]^a[e-8]^a[e-14]^a[e-16],1);s=u,o=p,d=h,l=g,c=m;for(let e=0;e<80;e++){const i=Math.floor(e/20),r=this.ROTL(s,5)+this.f(i,o,d,l)+c+t[i]+a[e]&4294967295;c=l,l=d,d=this.ROTL(o,30),o=s,s=r}u=u+s&4294967295,p=p+o&4294967295,h=h+d&4294967295,g=g+l&4294967295,m=m+c&4294967295}return this.toHexStr(u)+this.toHexStr(p)+this.toHexStr(h)+this.toHexStr(g)+this.toHexStr(m)}f(e,t,i,r){switch(e){case 0:return t&i^~t&r;case 1:case 3:return t^i^r;case 2:return t&i^t&r^i&r}}ROTn(e,t){let i,r,n,a=String(),s=t.length;for(i=0;i<e.length;i++)n=e.charAt(i),r=t.indexOf(n),r>=0&&(n=t.charAt((r+s/2)%s)),a+=n;return a}ROTL(e,t){return e<<t|e>>>32-t}toHexStr(e){let t,i="";for(let r=7;r>=0;r--)t=e>>>4*r&15,i+=t.toString(16);return i}}t.EncodingClass=i,t.Encoding=new i},712:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ClientErrorType=t.StandardSizeType=t.DvTagType=t.Browser=t.ViewabilityCalculationType=t.LocatorMethods=void 0;class i{}t.LocatorMethods=i,i.DisplayIntegratedCeltra=1,i.DisplayDFA=2,i.DisplayFindClass=4,i.DefaultInApp=8,i.DisplayMediaPlex=16,i.DisplayParentWindow=32,i.DisplayRegex=64,i.DisplayNearestAd=128,i.DisplayIframeFallback=256,i.DisplaySpotX=512,i.VideoInAppHtml5=1024,i.VideoNonInAppVpaid=2048,i.VideoInAppVpaid=4096,i.DisplaySellerTag=8192,i.DisplayOmid=16384,i.VideoInAppInmobi=32768,i.DisplayNonIntegratedCeltra=65536,i.CustomDisplayMediaPlex=1<<17,i.CustomDisplayRegex=1<<18,i.CustomDisplaySellerTag=1<<19,i.DisplayCm360=1<<20;class r{}var n;t.ViewabilityCalculationType=r,r.Geometric=1,r.ResourceBased=2,r.SafeFrameGeometric=8,r.SafeFramePercentage=16,r.AmpIntersectionObserver=32,r.ScreenGeometric=64,r.Mraid=128,r.IntersectionObserver=512,r.Omid=1024,r.AdColonyMraid=2048,r.Mraid3=4096,function(e){e[e.IE=1]="IE",e[e.Firefox=2]="Firefox",e[e.Chrome=3]="Chrome",e[e.Opera=4]="Opera",e[e.Safari=5]="Safari",e[e.ChromeWebView=6]="ChromeWebView",e[e.SafariWebView=7]="SafariWebView",e[e.PuppeteerExtraStealth=96]="PuppeteerExtraStealth",e[e.PuppeteerVanilla=97]="PuppeteerVanilla",e[e.Selenium=98]="Selenium",e[e.PhantomJS=99]="PhantomJS",e[e.Unknown=0]="Unknown"}(n||(t.Browser=n={}));class a{}t.DvTagType=a,a.Display=0,a.Video=1;class s extends a{}t.StandardSizeType=s,s.SpotX=2;class o{}t.ClientErrorType=o,o.InjectTagError={id:1,message:"InjectTagError",isLostImpression:!0},o.LoadTagError={id:2,message:"LoadTagError",isLostImpression:!0},o.UnexpectedLostImpError={id:4,message:"UnexpectedLostImpError",isLostImpression:!0},o.OmidSessionError={id:8,message:"OmidSessionError",isLostImpression:!0},o.OmidUnexpectedLostImpError={id:16,message:"OmidUnexpectedLostImpError",isLostImpression:!0},o.OmidLoadTagError={id:32,message:"OmidLoadTagError",isLostImpression:!0},o.OmidInjectTagError={id:64,message:"OmidInjectTagError",isLostImpression:!0},o.UnexpectedError={id:128,message:"UnexpectedError",isLostImpression:!1},o.OmidUnexpectedError={id:256,message:"OmidUnexpectedError",isLostImpression:!1},o.AsynchronousTaskError={id:512,message:"AsynchronousTaskError",isLostImpression:!1},o.VisitLogicError={id:1024,message:"VisitLogicError",isLostImpression:!0},o.VisitResponseError={id:2048,message:"VisitResponseError",isLostImpression:!0},o.VisitRequestError={id:4096,message:"VisitRequestError",isLostImpression:!0},o.DomlessEnvError={id:8192,message:"DomlessEnvError",isLostImpression:!0},o.GoogleBlockingCallbackError={id:16384,message:"GoogleBlockingCallbackError",isLostImpression:!1},o.InvalidVisitResponseError={id:32768,message:"InvalidVisitResponseError",isLostImpression:!0},o.FailedToSendEvent={id:1<<19,message:"FailedToSendEvent",isLostImpression:!1},o.DvTagArrangementError={id:1<<20,message:"DvTagArrangementError",isLostImpression:!1},o.AdLocationError={id:1<<21,message:"AdLocationError",isLostImpression:!1},o.MeasurementError={id:1<<22,message:"MeasurementError",isLostImpression:!1},o.TPSDataCollectorError={id:1<<23,message:"TPSDataCollectorError",isLostImpression:!1},o.PostMeasuredGlobalMainError={id:1<<24,message:"PostMeasuredGlobalMainError",isLostImpression:!1},o.TagCommunicationError={id:1<<25,message:"TagCommunicationError",isLostImpression:!1},o.PreMeasuredGlobalMainError={id:1<<26,message:"PreMeasuredGlobalMainError",isLostImpression:!0},o.OmidNoSessionStart={id:1<<27,message:"OmidNoSessionStart",isLostImpression:!0},o.FailObserverLongTasks={id:1<<28,message:"FailObserveLongTasks",isLostImpression:!1},o.OmidInvalidInjection={id:1<<29,message:"OmidInvalidInjection",isLostImpression:!0},o.TagServiceError={id:1<<30,message:"TagServiceError",isLostImpression:!1},o.TagExtensionExecutionError={id:1<<31,message:"TagExtensionError",isLostImpression:!1}},7360:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.EventBusGlobal=t.EventBus=t.EventBusClass=t.DvEvent=void 0;const r=i(3868),n=i(749),a=i(194),s=i(712);class o{}t.DvEvent=o,o.impressionServed="ImpressionServed",o.adSelected="0",o.adDestroy="1",o.adCandidateApproved="2",o.bestAdCandidateChanged="3",o.reportData="5",o.viewabilityIntervalData="6",o.boundariesViewabilityIntervalData="7",o.exposureData="8",o.adCandidateLocated="10",o.omidClickData="11",o.focusData="12",o.strictFocusData="13",o.abandonData="14",o.unloadData="15",o.adSizeData="16",o.firstClickOnAdElementData="17",o.firstHoverData="18",o.pauseData="19",o.resumeData="20",o.skipData="21",o.firstTouchData="22",o.volumeData="23",o.stopData="24",o.firstFocusIntoAdElementData="25",o.adImpressionData="26",o.adVideoMidpointData="27",o.adVideoStartData="28",o.adVideoFirstQuartileData="29",o.adVideoThirdQuartileData="30",o.adVideoCompleteData="31",o.delayAdSelection="32",o.rtsEventData="33",o.omidAdSizeData="34",o.videoLoadedData="35",o.videoStartPlaying="36",o.mraidDefaultStateData="37",o.htmlRenderedData="38",o.adRenderedData="39",o.globalUnloadData="40",o.reserveAdLocator="41",o.globalKeyPressData="42",o.globalMouseMoveData="43",o.globalScrollData="44",o.globalOrientationChangeData="45",o.keyPressData="46",o.mouseMoveData="47",o.scrollData="48",o.orientationChangePortraitData="49",o.orientationchangeLandscapeData="50",o.skippableData="51",o.adSizeChangedData="52",o.pageHideEventPersisted="53",o.pageHideEventNonPersisted="54",o.performanceData="55",o.performanceLongTasks="56",o.performanceTaskTiming="57";class d{constructor(){this.renderedImpressions={},this.markRenderedImpressions={},this.frameIds={},this.subscribersCallbacks={},this.previousEvents={},this.preRenderEvents={},this.subscriptionId=1,this.dispatchedCount={},this.eventStatusTable={},Object.keys(o).forEach((e=>{const t=Object.getOwnPropertyDescriptor(o,e).value;this.eventStatusTable[t]=0})),this.frameId=a.DvObject.getFrameId(r.WindowAdaptor.currentWindow()),this.previousEventsCapacity=1e3,this.excludeFrameId(this.frameId)}excludeFrameId(e){this.frameIds[e]||(this.frameIds[e]=!0,this.addEventListener(o.adRenderedData,this.updateRenderedAd.bind(this),"excludeFrame",e))}addEventListener(e,t,i="",r=this.frameId){let n=this.addEventsListener({[e]:t},i,r);if(n&&n.length>0)return n[0]}addEventsListener(e,t="",i=this.frameId){let r=[];return this.mapToWrapperFunction(e),this.fireMultiplePreviousEvents(e,i),Object.keys(e).forEach((n=>{const a=e[n];let s=this.subscribe(n,i,t,a);r.push(s)})),r}removeEventListener(e,t=this.frameId){this.subscribersCallbacks[t]&&Object.keys(this.subscribersCallbacks[t]).forEach((i=>{this.subscribersCallbacks[t][i]=this.subscribersCallbacks[t][i].filter((t=>t.subscriptionId!=e))}))}removeEventsListener(e,t=this.frameId){e.forEach((e=>this.removeEventListener(e,t)))}dispatchEvent(e,t){0==this.eventStatusTable[e]&&(this.eventStatusTable[e]=1),2==this.eventStatusTable[e]&&(this.eventStatusTable[e]=3),this.dispatchedCount[e]=this.dispatchedCount[e]?this.dispatchedCount[e]+1:1,this.publishEvents(this.frameId,e,t)}subscribe(e,t,i,r){if("function"==typeof r&&void 0!==e&&""!=e)return 0==this.eventStatusTable[e]&&(this.eventStatusTable[e]=2),1==this.eventStatusTable[e]&&(this.eventStatusTable[e]=3),this.subscriptionId++,this.subscribersCallbacks[t]=this.subscribersCallbacks[t]||{},this.subscribersCallbacks[t][e]=this.subscribersCallbacks[t][e]||[],this.subscribersCallbacks[t][e].push({func:r,subscriptionId:this.subscriptionId,actionName:i}),this.subscriptionId}publish(e,t,i){e&&t&&(this.frameIds[t]||this.renderedImpressions[t]?(this.renderedImpressions[t]&&!this.markRenderedImpressions[t]&&(this.markRenderedImpressions[t]=!0),this.publishHistoryRtnEvent(t),this.publishEvents(t,e,i)):this.storeToPreRenderEvent(t,e,i))}publishHistoryRtnEvent(e){const t=this.preRenderEvents[e];t&&Object.keys(t).forEach((i=>t[i].forEach((t=>this.publishEvents(e,i,t))))),this.preRenderEvents[e]={}}getTopDispatchedEvents(e=Object.keys(this.dispatchedCount).length){return Object.entries(this.dispatchedCount).sort(((e,t)=>t[1]-e[1])).slice(0,e)}getDispatchedByStatus(e){return Object.entries(this.eventStatusTable).filter((([t,i])=>i==e)).map((([e,t])=>e))}updateRenderedAd(e){const t=e.uid;t&&(this.renderedImpressions[t]=!0,this.publishHistoryRtnEvent(t))}publishEvents(e,t,i){this.storeToPreviousEvents(e,t,i),this.subscribersCallbacks[e]&&this.subscribersCallbacks[e][t]&&this.subscribersCallbacks[e][t].forEach((r=>{this.runSafely(r.func,i,e,t,r.actionName)}))}mapToWrapperFunction(e){Object.keys(e).forEach((t=>{const i=e[t];t&&"function"==typeof i?e[t]=(e,t)=>{i(t)}:delete e[t]}))}storeToPreRenderEvent(e,t,i){this.preRenderEvents[e]=this.preRenderEvents[e]||{},this.preRenderEvents[e][t]=this.preRenderEvents[e][t]||[],this.preRenderEvents[e][t].push(i)}storeToPreviousEvents(e,t,i){this.previousEvents[e]=this.previousEvents[e]||{},this.previousEvents[e][t]=this.previousEvents[e][t]||[],this.previousEvents[e][t].length<this.previousEventsCapacity&&this.previousEvents[e][t].push(i)}fireMultiplePreviousEvents(e,t){if(!this.previousEvents[t])return;const i=Object.keys(e).reduce(((i,r)=>{const n=e[r];return(this.previousEvents[t][r]||[]).forEach((e=>i.push({callback:n,data:e}))),i}),[]).sort(((e,t)=>e.data.updateTime-t.data.updateTime));for(const e of i)this.runSafely(e.callback,e.data,t)}runSafely(e,t,i,r="",a=""){try{e(i,t)}catch(e){n.MessageHandler.sendError(s.ClientErrorType.MeasurementError,e,`EBus ${r} ${a}`)}}}t.EventBusClass=d,t.EventBus=new d,t.EventBusGlobal=new d},3773:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSplitInitMeasurementFeatureFlag=t.AsyncSplitInitMeasurementFeatureFlagClass=void 0;const r=i(2946),n=i(7749);class a extends r.FeatureFlag{getTagParameterValue(){return n.DvTagDataObject.getAsyncSplitInitMeasurement()}constructor(){super("asim")}}t.AsyncSplitInitMeasurementFeatureFlagClass=a,t.AsyncSplitInitMeasurementFeatureFlag=new a},9443:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomAdLocatorsFeatureFlag=t.CustomAdLocatorsExperimentFeatureFlagClass=void 0;const r=i(2946);class n extends r.FeatureFlag{getTagParameterValue(){return""}constructor(){super("cadl")}}t.CustomAdLocatorsExperimentFeatureFlagClass=n,t.CustomAdLocatorsFeatureFlag=new n},68:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentsFeatureFlags=t.ExperimentsFeatureFlagsClass=void 0;const r=i(7072),n=i(3773),a=i(9443),s={entries:[{percentage:1,value:[n.AsyncSplitInitMeasurementFeatureFlag.diagnosticParamName]},{percentage:10,value:[a.CustomAdLocatorsFeatureFlag.diagnosticParamName]}],leftover:[]};class o{constructor(){this.initialized=!1}init(e){var t;if(this.initialized)return;let i;this.initialized=!0;try{i=null!==(t=r.DiscreteDistributionRandom.random(s))&&void 0!==t?t:[]}catch(e){i=[]}n.AsyncSplitInitMeasurementFeatureFlag.decideStatus(e&&i.includes(n.AsyncSplitInitMeasurementFeatureFlag.diagnosticParamName)),a.CustomAdLocatorsFeatureFlag.decideStatus(i.includes(a.CustomAdLocatorsFeatureFlag.diagnosticParamName))}}t.ExperimentsFeatureFlagsClass=o,t.ExperimentsFeatureFlags=new o},2946:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureFlag=void 0;const r=i(8170),n=[0,1];t.FeatureFlag=class{constructor(e,t=0){this.diagnosticParamName=e,this.status=t,this.isStatusAssigned=!1}reportDiagnosticParams(){r.DiagnosticParamsSingleton.reportDiagnosticParam(this.diagnosticParamName,this.status)}getStatus(e){const t=this.getTagParameterValue(),i=this.deserializeStatus(t);return i||0===i?i:e?2:0}deserializeStatus(e){if(!(null==e?void 0:e.length))return null;const t=+e;return!isNaN(t)&&n.includes(t)?t:null}isEnabled(){return 1===this.status||2===this.status}decideStatus(e){this.isStatusAssigned||(this.status=this.getStatus(e),this.isStatusAssigned=!0,this.isEnabled()&&this.reportDiagnosticParams())}}},8426:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InmobiWrapper=t.InmobiWrapperClass=void 0;const r=i(3868);class n{isSupported(){if(void 0!==r.WindowAdaptor.workingWindow().inmobi&&void 0!==r.WindowAdaptor.workingWindow().inmobi.InMobiVideoEventsBuffer)return this.inmobiApiObj=r.WindowAdaptor.workingWindow().inmobi,!0}addEventListenerWithHistory(e){this.isSupported()&&this.inmobiApiObj.InMobiVideoEventsBuffer.addVideoEventListener(e)}}t.InmobiWrapperClass=n,t.InmobiWrapper=new n},749:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=t.MessageHandlerClass=void 0;const r=i(194),n=i(3868),a=i(425),s=i(7658),o=i(3380),d=i(7360),l=i(712),c=i(3946),u=i(6689),p=i(7429),h=i(7749);class g{constructor(){this.waitingMessages={},this.reportedErrors={},this.messageDataObject={},this.eventListenersInitiated=!1,this.START_INTERVAL_INITIAL_VALUE=10,this.isFirstEventFired=!1}sendMessage(e,t={isImportantMessage:!1,noConsolidation:!1}){let i={isImportantMessage:"boolean"==typeof t?t:t.isImportantMessage,noConsolidation:"boolean"!=typeof t&&t.noConsolidation};this.initEventListeners(),this.impressionId=this.impressionId||r.DvObject.getImpressionId(n.WindowAdaptor.currentWindow()),o.Utilities.extend(e,this.waitingMessages),this.isImportantMessage=this.isImportantMessage||i.isImportantMessage,i.noConsolidation?this.sendWaitingMessages(!1):this.sendWaitingMessages()}appendTagUniqueKey(e){const t=r.DvObject.getTagUniqueKey();t&&(e.dvp_tukv=t)}sendMeasurementError(e,t,i=null){let n={ishems:o.Utilities.getTimeDiff(),napr:t,cerrt:e.id,jsver:o.Utilities.getVersion(),tgjsver:r.DvObject.getDvtpScriptVersion()};o.Utilities.extend(i,n),this.sendMessage(n)}appendIsOmid(e){u.OmidWrapper.isSupported()&&(e.dvp_iomd=1)}sendErrorSignal(e,t,i=null){const d=h.DvTagDataObject.getServerPrefix(),l=h.DvTagDataObject.getErrorPath(),c={ctx:818052,cmp:1619415,jsver:o.Utilities.getVersion(),tgjsver:r.DvObject.getDvtpScriptVersion(),napr:t,cerrt:e.id};e.isLostImpression&&(c.dvp_isLostImp=1);try{c[s.TPSDataMapping.trafficScenarioType]=n.WindowAdaptor.getScenarioType()}catch(e){}c[s.TPSDataMapping.flavor]="0",this.appendIsOmid(c),this.appendTagUniqueKey(c),o.Utilities.extend(this.getClientDataString(),c),o.Utilities.extend(i,c);const u=`${d}${l}?${h.DvTagDataObject.getGDPRAndGDPRConsentQueryStringPart()}${o.Utilities.serializeObjectToQueryString(c,!1)}`;a.BrowserAdaptor.sendBeacon(u.trim(),!0)}getClientDataString(){const e=h.DvTagDataObject.getClientData();return{ee_dp_ctx:e.ctx,ee_dp_cmp:e.cmp,ee_dp_sid:e.sid,ee_dp_plc:e.plc}}sendError(e,t,i="",r=null){if(!this.reportedErrors.hasOwnProperty(e.id)){this.reportedErrors[e.id]=1;const n=e.isLostImpression||o.Utilities.isPercentageCriteriaPassed(10),a=this.getJsErrorString(e,t,i,n);e.isLostImpression||e==l.ClientErrorType.FailedToSendEvent?this.sendErrorSignal(e,a,r):this.sendMeasurementError(e,a,r)}}registerEventCall(e,t,i=!0,r){o.Utilities.getTimeDiff()>12e5||(this.initEventListeners(),r=this.getEventConsolidationTimeout(r),t.eoid=p.EventIdGeneratorAdaptor.getNext(),this.consolidateMessageData(e,t),this.afterUnload||!i||isNaN(r)?this.sendDataToServer(e):a.BrowserAdaptor.setTimeout((()=>{this.sendDataToServer(e)}),r))}getEventConsolidationTimeout(e){const t=e||r.DvObject.getConsolidationTimeout()||3e3;return this.restrictTimeoutMax?Math.min(t,this.restrictTimeoutMax):t}sendWaitingMessages(e=!0,t){o.Utilities.isEmpty(this.waitingMessages)||(this.impressionId?(!this.isImportantMessage&&r.DvObject.getFireOnlyImportantEvents()||this.registerEventCall(this.impressionId,this.waitingMessages,e,t),this.isImportantMessage=!1,this.waitingMessages={}):o.Utilities.getVisitTimeDiff()>4e3&&this.sendError(l.ClientErrorType.FailedToSendEvent,void 0,"ImpressionID is missing"))}firePreviousEvents(){this.impressionId=r.DvObject.getImpressionId(n.WindowAdaptor.currentWindow());let e=this.getIntervalAndSetMaxTimeout();this.sendWaitingMessages(!0,e)}getIntervalAndSetMaxTimeout(e=this.START_INTERVAL_INITIAL_VALUE){return!r.DvObject.isMobile()||c.BrowserDetector.getBrowserId()!=l.Browser.Safari&&c.BrowserDetector.getBrowserId()!=l.Browser.SafariWebView||(this.restrictTimeoutMax=e=1e3),u.OmidWrapper.isSupported()&&(this.restrictTimeoutMax=500),e}initEventListeners(){this.eventListenersInitiated||(d.EventBus.addEventListener(d.DvEvent.impressionServed,(()=>{this.firePreviousEvents()}),"MessageHandler"),d.EventBus.addEventListener(d.DvEvent.globalUnloadData,this.handleUnload.bind(this)),this.eventListenersInitiated=!0)}consolidateMessageData(e,t){this.messageDataObject[e]=this.messageDataObject[e]||{},o.Utilities.extend(t,this.messageDataObject[e])}createEventCallUrl(e,t,i=!1){void 0===this.doubleTagImp&&(this.doubleTagImp=r.DvObject.getDoubleTagImpressionID()||"");const n=this.doubleTagImp?"dup="+this.doubleTagImp+"&":"";return h.DvTagDataObject.resolveEventUrlPrefix(e)+`?impid=${e}&`+n+"flavor=0&"+h.DvTagDataObject.getGDPRAndGDPRConsentQueryStringPart()+o.Utilities.serializeObjectToQueryString(t,i)}sendDataToServer(e){try{if(!o.Utilities.isEmpty(this.messageDataObject[e])){let t=this.createEventCallUrl(e,this.messageDataObject[e],!0);this.isFirstEventFired||(t+=`&${s.TPSDataMapping.timeToFirstUpdateReportMs}=${o.Utilities.getCurrentTime()-o.Utilities.getScriptLoadedMS()}`,this.isFirstEventFired=!0),this.afterUnload&&(t+=`&${s.TPSDataMapping.totalMeasurementExecTime}=${o.Utilities.getCurrentTime()-o.Utilities.getScriptLoadedMS()}`),a.BrowserAdaptor.sendBeacon(t),this.messageDataObject[e]=null}}catch(e){}}getJsErrorString(e,t,i,r){let n,a=e.message+"__";i&&i.length>0&&(a+=i+"__"),t&&(a+=": "+(t.message||""),r&&t.stack&&(a+=t.stack.split("\n").map((e=>e.replace(/\(.*\)/,""))).join(""))),a=a.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\|/g,"");try{a=a.slice(0,400),n=encodeURIComponent(a)}catch(e){}return n}handleUnload(){this.afterUnload=!0,Object.keys(this.messageDataObject).forEach(((e,t)=>{this.sendDataToServer(e)}))}}t.MessageHandlerClass=g,t.MessageHandler=new g},6681:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MraidWrapper=t.MraidWrapperClass=void 0;const r=i(3868),n=i(749),a=i(7360),s=i(1800),o=i(363),d=i(3380);class l{constructor(){this.isMraidReady=!1,this.readyState=!1,this.maxIterations=20,this.errorReported=!1;const e=r.WindowAdaptor.workingWindow();this.setMraid(e),this.mraidObject&&this.readyCheck()}getReadyState(){return this.readyState}isOperaMedia(){return"AdMarvel"==this.runMraidFunctionSafely("getVendor")}isAdColony(){const e=this.runMraidFunctionSafely("getVendor");return e&&"string"==typeof e&&"adcolony"==e.toLowerCase()}getIsMraidReady(){return this.isMraidReady||this.updateIsMraidReady()}isSupported(){return!!this.mraidObject}getIntegrationType(){return 2}runMraidFunctionSafely(e){try{return this.mraidObject[e]()}catch(e){}}runMraidRegisterSafely(e,t){try{t.toString=()=>"func"+o.RandomUtils.getRandom16(),this.mraidObject.addEventListener(e,t)}catch(e){}}setMraid(e){this.mraidObject=r.WindowAdaptor.objectLookup(e,"mraid",this.maxIterations)}reportMraidLookup(e){r.WindowAdaptor.isDomlessEnvironment()||(n.MessageHandler.sendMessage({dvp_mrdms:d.Utilities.getCurrentTime()}),this.mraidObject||null==r.WindowAdaptor.workingDocument().readyState||"complete"==r.WindowAdaptor.workingDocument().readyState||e.addEventListener("load",(t=>{r.WindowAdaptor.objectLookup(e,"mraid",this.maxIterations)&&n.MessageHandler.sendMessage({dvp_mrdfnd:1})})))}getMraid(){return this.mraidObject}reportEnvironmentDetails(){this.mraidEnvObjectCache=this.mraidEnvObjectCache||r.WindowAdaptor.objectLookup(r.WindowAdaptor.currentWindow(),"MRAID_ENV",this.maxIterations),this.mraidEnvObjectCache&&n.MessageHandler.sendMessage({dvp_mrdsdk:this.mraidEnvObjectCache.sdk,dvp_mrdsdkv:this.mraidEnvObjectCache.sdkVersion,dvp_mrdv:this.mraidEnvObjectCache.version,dvp_mrdapid:this.mraidEnvObjectCache.appId})}getAdViewablePercentage(){let e=this.runMraidFunctionSafely("isViewable");return null==e?null:e?100:0}readyCheck(){"loading"==this.runMraidFunctionSafely("getState")?this.runMraidRegisterSafely("ready",this.readyCallback.bind(this)):this.readyCallback(),this.runMraidRegisterSafely("stateChange",this.updateIsMraidReady.bind(this))}setReadyState(){this.readyState=!0,a.EventBus.dispatchEvent(a.DvEvent.mraidDefaultStateData,new s.EventData),n.MessageHandler.sendMessage({dvp_mrstt:1})}readyCallback(){this.setReadyState(),this.updateIsMraidReady(),this.registerToMraidErrorEvent()}updateIsMraidReady(){if(this.isMraidReady)return this.isMraidReady;const e=this.runMraidFunctionSafely("isViewable");return("default"==this.runMraidFunctionSafely("getState")||e)&&(this.isMraidReady=!0,this.readyState||this.setReadyState()),this.isMraidReady}registerToMraidErrorEvent(){this.runMraidRegisterSafely("error",((e,t)=>{this.errorReported||(n.MessageHandler.sendMessage({dvp_mrwer:"MraidWrapper:"+t+":"+e.substring(0,60)}),this.errorReported=!0)}))}}t.MraidWrapperClass=l,t.MraidWrapper=new l},6671:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidVerificationClientWrapper=void 0;const r=i(425),n=i(194),a=i(712),s=i(749),o=i(6689),d=i(3380),l=i(8170),c="undefined"!=typeof $dv&&$dv||{};class u{constructor(e){this.onSessionEvent=e=>{switch(e.type){case"sessionStart":this.onSessionStart(e);break;case"sessionFinish":this.onSessionFinish(e);break;case"sessionError":this.onSessionError(e)}},this.isReady=!1,this.init(e),this.isSupported()&&(this.sessionStartTimeout=r.BrowserAdaptor.setTimeout((()=>{const e={[l.DiagnosticParamsSingleton.getQueryParamName("isom3p")]:n.DvObject.isOmid3p()?"1":"0",[l.DiagnosticParamsSingleton.getQueryParamName("omenv")]:this.getEnvironment()};s.MessageHandler.sendError(a.ClientErrorType.OmidNoSessionStart,new Error("omid SessionStart not fired"),"omid SessionStart not fired",e)}),u.sessionStartTimeoutInterval),this.registerSessionObserver())}ready(e){this.isReady?e():this.readyCB=e}onSessionStart(e){this.isReady=!0,r.BrowserAdaptor.clearTimeout(this.sessionStartTimeout),e=e||{},o.OmidWrapper.init(this.omidVCInstance,e,this.vendorKey),c.omidSessionData=e,c.omidSessionStartTime=(new Date).getTime(),"function"==typeof this.readyCB&&this.readyCB()}onSessionFinish(e){this.isReady=!1}onSessionError(e){this.isReady=!1;const t=(e=e||{}).data||{},i=t.message||"onSessionError_Error",n=this.isInvalidInjection(t)?a.ClientErrorType.OmidInvalidInjection:a.ClientErrorType.OmidSessionError;r.BrowserAdaptor.clearTimeout(this.sessionStartTimeout),s.MessageHandler.sendError(n,{message:i},"",{[l.DiagnosticParamsSingleton.getQueryParamName("omenv")]:this.getEnvironment()})}getEnvironment(){var e;return null===(e=this.omidVCInstance)||void 0===e?void 0:e.getEnvironment()}isInvalidInjection(e){return"generic"===e.errorType&&e.message.includes("injected by the OM-SDK service itself")}registerSessionObserver(){this.omidVCInstance&&this.omidVCInstance.registerSessionObserver(this.onSessionEvent,this.vendorKey)}isSupported(){if(void 0===this.omidVCIsSupported)try{this.omidVCIsSupported=this.omidVCInstance.isSupported()}catch(e){this.omidVCIsSupported=!1}return this.omidVCIsSupported}setVendorKey(){const e=n.DvObject.getDvtpScriptUrl();if(this.vendorKey=u.DefaultVendorKey,e)try{this.vendorKey=d.Utilities.getParamValue(e,"vendor_key")||this.vendorKey}catch(e){this.vendorKey=u.DefaultVendorKey}}init(e){if(e){this.setVendorKey();try{this.omidVCInstance=new e,c.omidJsClient=this.omidVCInstance,c.omidVendorKey=this.vendorKey}catch(e){}}}}t.OmidVerificationClientWrapper=u,u.VerificationClientVersion="1.2.6-iab634",u.DefaultVendorKey="doubleverify.com-omid",u.sessionStartTimeoutInterval=5200},6689:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidWrapper=t.OmidWrapperClass=void 0;const r=i(194),n=i(630);class a{constructor(){this.omidDefaultVendorKey="doubleverify.com-omid";let e=r.DvObject.getDvObject();e&&(this.omidJsClient=e.omidJsClient,this.omidSessionData=e.omidSessionData,this.omidVendorKey=e.omidVendorKey||this.omidDefaultVendorKey,this.init(e.omidJsClient,e.omidSessionData,e.omidVendorKey))}init(e,t,i){this.omidJsClient=e,this.omidSessionData=t,this.omidVendorKey=i||this.omidDefaultVendorKey}isSupported(){return this.omidJsClient&&this.omidJsClient.isSupported()}getIntegrationType(){const e=this.getOmidContext();return e&&e.environment&&"web"==e.environment.toLowerCase()?8:4}getSessionData(){return this.omidSessionData}addEventListener(e,t){if(this.omidJsClient)return this.omidJsClient.addEventListener(e,t)}registerSessionObserver(e){if(this.omidJsClient)return this.omidJsClient.registerSessionObserver(e,this.omidVendorKey)}setTimeout(e,t){if(this.omidJsClient)return this.omidJsClient.setTimeout(e,t)}clearTimeout(e){this.omidJsClient&&this.omidJsClient.clearTimeout(e)}setInterval(e,t){if(this.omidJsClient)return this.omidJsClient.setInterval(e,t)}clearInterval(e){this.omidJsClient&&this.omidJsClient.clearInterval(e)}getVerificationParameters(){let e,t=this.getSessionData();return t&&t.data&&(e=t.data.verificationParameters),e}sendUrl(e){this.omidJsClient&&this.omidJsClient.sendUrl(e)}injectJavaScriptResource(e,t=(()=>{}),i=(()=>{})){this.omidJsClient&&this.omidJsClient.injectJavaScriptResource(e,t,i)}getOmidNativePartnerName(){let e;const t=this.getOmidContext();return t&&t.omidNativeInfo&&t.omidNativeInfo.partnerName&&(e=t.omidNativeInfo.partnerName),e}getOmidJSPartnerName(){let e;const t=this.getOmidContext();return t&&t.omidJsInfo&&t.omidJsInfo.partnerName&&(e=t.omidJsInfo.partnerName),e}getOmidVendorKeyIndex(e){if(e)return e.replace(this.omidDefaultVendorKey,"")||"0"}getOmidContext(){const e=this.getSessionData()&&this.getSessionData().data;let t;return e&&e.context&&(t=e.context),t}getOmidScenarioType(){const e=this.getOmidContext();return null==e?void 0:e.environment}getOmidAccessMode(){var e,t;return null!==(t=null===(e=this.getOmidContext())||void 0===e?void 0:e.accessMode)&&void 0!==t?t:null}getOmidAccessModeNumber(e){return new Map([[n.OmidAccessModeString.FULL,1],[n.OmidAccessModeString.DOMAIN,2],[n.OmidAccessModeString.LIMITED,3]]).get(e)}}t.OmidWrapperClass=a,t.OmidWrapper=new a},3038:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});let i=null,r=null,n=null,a=null,s=null,o=null,d=null,l=null,c=null,u=null,p=null,h=null,g=null;const m={setIndexExecutionStartTime(){s=this.currentTime()},setInitFireVisitImportsStartTime(e){i=e},setInitFireVisitImportsEndTime(){r=this.currentTime()},setTotalSyncTimeStartTime(e){n=e},setTotalSyncTimeEndTime(){a=this.currentTime()},setFireVerifyExecutionStartTime(){o=this.currentTime()},setFireVerifyExecutionEndTime(){d=this.currentTime()},setFireVisitExecutionStartTime(){l=this.currentTime()},setFireVisitExecutionEndTime(){c=this.currentTime()},setInitMainExecutionStartTime(){u=this.currentTime()},setInitMainExecutionEndTime(){p=this.currentTime()},setInitMeasurementExecutionStartTime(){h=this.currentTime()},setInitMeasurementExecutionEndTime(){g=this.currentTime()},getBenchmarks:()=>[{name:"tsetms",startTime:n,endTime:a,condition:Boolean(n&&a)},{name:"ipvietms",startTime:i,endTime:r,condition:Boolean(i&&r)},{name:"prvietms",startTime:n,endTime:l,condition:Boolean(n&&l)},{name:"fvietms",startTime:l,endTime:c,condition:Boolean(l&&c)},{name:"povietms",startTime:c,endTime:a,condition:Boolean(c&&a)},{name:"prveetms",startTime:n,endTime:o,condition:Boolean(n&&o)},{name:"fveetms",startTime:o,endTime:d,condition:Boolean(o&&d)},{name:"poveetms",startTime:d,endTime:a,condition:Boolean(d&&a)},{name:"imaetms",startTime:u,endTime:p,condition:Boolean(u&&p)},{name:"iesuimestms",startTime:s,endTime:u,condition:Boolean(s&&u)},{name:"imeetms",startTime:h,endTime:g,condition:Boolean(h&&g)}].filter((e=>e.condition)).map((({name:e,startTime:t,endTime:i})=>({taskDetails:{name:e},startTime:t,endTime:i}))),currentTime:()=>"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():void 0};t.default=m},138:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initFireVisitImportsStartTime=void 0,t.initFireVisitImportsStartTime="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():void 0},6820:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.cancelScheduledTask=t.isPerformanceTimingAllowed=t.isPerformanceApiSupported=t.reportTaskTiming=t.trackPerformanceWhenExecuted=t.invokeWithPerformanceMeasures=t.scheduleTask=void 0;const r=i(1800),n=i(425),a=i(7360),s=i(3868),o=i(3380);t.scheduleTask=(e,t=0)=>n.BrowserAdaptor.setTimeout(e,t);t.invokeWithPerformanceMeasures=(e,i)=>{const r=n.BrowserAdaptor.getPerformanceTimeNow(),a=i(),s=n.BrowserAdaptor.getPerformanceTimeNow();return(0,t.reportTaskTiming)(e,r,s),a};t.trackPerformanceWhenExecuted=(e,i)=>()=>(0,t.invokeWithPerformanceMeasures)(e,i);t.reportTaskTiming=({name:e},i,n)=>{(0,t.scheduleTask)((()=>a.EventBus.dispatchEvent(a.DvEvent.performanceTaskTiming,new r.TaskTimingEventData([{name:e,startTime:i,duration:n-i}]))))};t.isPerformanceApiSupported=()=>void 0!==s.WindowAdaptor.currentWindow().performance&&"function"==typeof s.WindowAdaptor.currentWindow().performance.now,t.isPerformanceTimingAllowed=!s.WindowAdaptor.isDomlessEnvironment()&&(0,t.isPerformanceApiSupported)()&&o.Utilities.isPercentageCriteriaPassed(10);t.cancelScheduledTask=e=>{n.BrowserAdaptor.clearTimeout(e)}},363:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.RandomUtils=t.RandomUtilsClass=void 0;const r=i(3868),n=i(3380);class a{getRandom16(){return(n.Utilities.getCurrentTime()+""+Math.floor(1e6*Math.random())).substr(0,16)}getRandom32(){return n.Utilities.getCurrentTime().toString(36)+(this.getRandom24ByCrypto()||this.getRandom24())}getRandom24ByCrypto(){if(r.WindowAdaptor.isCryptoSupported()){const e=new Uint32Array(4);return crypto.getRandomValues(e),n.Utilities.arrayLikeToArray(e).map((e=>("00000000"+e.toString(36)).substr(-6))).join("")}}getRandom24(){return(Math.random().toString(36)+"000000000000").substr(2,12)+(Math.random().toString(36)+"000000000000").substr(2,12)}}t.RandomUtilsClass=a,t.RandomUtils=new a},1723:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractRenderLogic=void 0;const r=i(3868),n=i(7360),a=i(1800),s=i(749),o=i(194);t.AbstractRenderLogic=class{constructor(){this.wasAdRenderedCalled=!1}publishAdRenderedDataAfterImpressionServed(){let e=o.DvObject.getDvObject();e.pubSub&&e.pubSub.excludeFrameId&&n.EventBus.addEventListener(n.DvEvent.impressionServed,(()=>{o.DvObject.publishPubSubEvent(n.DvEvent.adRenderedData,o.DvObject.getFrameId(r.WindowAdaptor.currentWindow()),new a.AdRenderedEventData(o.DvObject.getImpressionId(r.WindowAdaptor.currentWindow())))}),"PreRenderLogic")}isAdRendered(){return this.wasAdRenderedCalled}adRendered(){this.wasAdRenderedCalled=!0,this.publishAdRenderedDataAfterImpressionServed()}static fireRenderedEvent(){s.MessageHandler.sendMessage({prndr:0},!0)}}},6295:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Cm360ContainerRenderLogic=void 0;const r=i(7015),n=i(7749),a=i(712),s=i(7218);class o extends s.ContainerRenderLogic{constructor(){super(new r.Cm360AdContainerInspectorFactory(o.tagAttributeName))}isSupported(e){return n.DvTagDataObject.getIsCm360CreativeWrapping()&&e===a.DvTagType.Display}getRenderingMethodIndicator(){return 8}}t.Cm360ContainerRenderLogic=o,o.tagAttributeName="data-doubleverify-container"},7218:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerRenderLogic=void 0;const r=i(1723),n=i(3868),a=i(749),s=i(7658);class o extends r.AbstractRenderLogic{constructor(e){super(),this.waitingForWindowLoadEvent=!1,this.activeListeners=[],this.adContainerInspector=e.createAdContainerInspector()}start(){var e,t,i;const r=null===(e=this.adContainerInspector)||void 0===e?void 0:e.getContainer(),n=null===(t=this.adContainerInspector)||void 0===t?void 0:t.getDirectChildren().length,a=null===(i=this.adContainerInspector)||void 0===i?void 0:i.getDirectChildren(["img","iframe"]),s=this.findALoadedChild(a);r?0===n?this.determineAdNotRendered(4):0===a.length?this.waitForWindowToLoad():s?this.reportAdRenderedByLoadedChild(s):this.waitForTheFirstLoadableChildToLoad(a):this.determineAdNotRendered(2)}getNumberOfActiveListeners(){return this.activeListeners.length}reportAdRenderedByLoadedChild(e){const t=this.getReasonForRendered(e);this.determineAdRendered(t,e)}waitForWindowToLoad(){this.waitingForWindowLoadEvent=!0,n.WindowAdaptor.workingWindow().addEventListener("load",(()=>this.determineAdRendered(4)))}reportAdNotRendered(e){a.MessageHandler.sendMessage({[s.AdDataMappingToReport.reasonForNotRenderedByContainerRenderLogic]:e})}determineAdNotRendered(e){this.reportAdNotRendered(e),this.removeLoadEventListener()}determineAdRendered(e,t=null){this.reportAdRendered(e,t),this.removeLoadEventListener()}reportAdRendered(e,t=null){super.adRendered(),r.AbstractRenderLogic.fireRenderedEvent(),this.reportRenderedReasonAndImageDimensions(e,t)}reportRenderedReasonAndImageDimensions(e,t){let i={};i[s.AdDataMappingToReport.reasonForRenderedByContainerRenderLogic]=e,1===e&&(i.dvp_cimw=t.width,i.dvp_cimh=t.height),a.MessageHandler.sendMessage(i)}removeLoadEventListener(){this.removeElemLoadEventListener(),this.waitingForWindowLoadEvent&&this.removeWindowLoadEventListener()}removeElemLoadEventListener(){this.activeListeners.forEach((e=>{e.removeEventListener("load",(()=>this.determineAdRendered(this.getReasonForRendered(e),e)))})),this.activeListeners=[]}removeWindowLoadEventListener(){n.WindowAdaptor.workingWindow().removeEventListener("load",(()=>this.determineAdRendered(4))),this.waitingForWindowLoadEvent=!1}getElementType(e){return e.tagName.toLowerCase()}getReasonForRendered(e){const t=this.getElementType(e);return"img"===t?1:"iframe"===t?2:null}waitForTheFirstLoadableChildToLoad(e){e.filter((e=>"img"===this.getElementType(e))).forEach((e=>{this.addLoadEventListener(e,1)})),e.filter((e=>"iframe"===this.getElementType(e))).forEach((e=>{this.addLoadEventListener(e,2)}))}findALoadedChild(e){return e.find((e=>{const t=this.getElementType(e);if("img"===t)return e.complete&&0!==e.naturalHeight;if("iframe"===t)try{const t=n.WindowAdaptor.getIframeWindow(e),i=n.WindowAdaptor.workingDocument(t),r=e.contentDocument||i;return"complete"===(null==r?void 0:r.readyState)}catch(e){}return!1}))}addLoadEventListener(e,t){e.addEventListener("load",(()=>this.determineAdRendered(t,e))),this.activeListeners.push(e)}}t.ContainerRenderLogic=o},5414:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultRenderLogic=void 0;const r=i(1723);class n extends r.AbstractRenderLogic{start(){super.adRendered()}isSupported(e){return!0}getRenderingMethodIndicator(){return 32}}t.DefaultRenderLogic=n},2905:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MraidInMobiRenderLogic=void 0;const r=i(6681),n=i(1723),a=i(3868),s=i(712);class o extends n.AbstractRenderLogic{constructor(){super(...arguments),this.wasViewable=!1,this.maxIterations=20}start(){r.MraidWrapper.getAdViewablePercentage()?super.adRendered():r.MraidWrapper.runMraidRegisterSafely("viewableChange",this.mraidViewableChangeUpdate.bind(this))}mraidViewableChangeUpdate(e){e&&!this.wasViewable&&(this.wasViewable=!0,super.adRendered(),n.AbstractRenderLogic.fireRenderedEvent())}isSupported(e){return e==s.DvTagType.Display&&r.MraidWrapper.isSupported()&&a.WindowAdaptor.objectLookup(a.WindowAdaptor.currentWindow(),"imraid",this.maxIterations)&&a.WindowAdaptor.objectLookup(a.WindowAdaptor.currentWindow(),"inmobi",this.maxIterations)}getRenderingMethodIndicator(){return 2}}t.MraidInMobiRenderLogic=o},4263:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MraidRenderLogic=void 0;const r=i(7360),n=i(6681),a=i(1723),s=i(3868),o=i(425);class d extends a.AbstractRenderLogic{constructor(){super(...arguments),this.isMraidRendered=!1,this.isPageVisibilityRendered=!1,this.isPageVisibilitySupported=!1}start(){this.isPageVisibilitySupported=o.BrowserAdaptor.isVisibilityChangeEventSupported(),this.checkMraidRender(),this.isPageVisibilitySupported&&this.checkPageVisibilityRender(),this.checkOverallRendered(!1)}checkMraidRender(){n.MraidWrapper.getReadyState()?this.isMraidRendered=!0:this.mraidDefaultStateDataEventHandler=r.EventBus.addEventListener(r.DvEvent.mraidDefaultStateData,this.mraidDefaultStateCallback.bind(this))}mraidDefaultStateCallback(){this.isMraidRendered=!0,this.mraidDefaultStateDataEventHandler&&r.EventBus.removeEventListener(this.mraidDefaultStateDataEventHandler),this.checkOverallRendered(!0)}checkPageVisibilityRender(){if("prerender"!=s.WindowAdaptor.getVisibilityState())this.isPageVisibilityRendered=!0;else{const e=o.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";o.BrowserAdaptor.addEventListener(e,this.visibilityChangeCallback.bind(this),s.WindowAdaptor.workingDocument())}}visibilityChangeCallback(){this.isPageVisibilityRendered||"prerender"!=s.WindowAdaptor.getVisibilityState()&&(this.isPageVisibilityRendered=!0,this.checkOverallRendered(!0))}checkOverallRendered(e){(!this.isPageVisibilitySupported&&this.isMraidRendered||this.isPageVisibilitySupported&&this.isPageVisibilityRendered&&this.isMraidRendered)&&(super.adRendered(),e&&a.AbstractRenderLogic.fireRenderedEvent())}isSupported(e){return n.MraidWrapper.isSupported()}getRenderingMethodIndicator(){return 4}}t.MraidRenderLogic=d},98:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidRenderLogic=void 0;const r=i(1723),n=i(6689),a=i(630),s=i(8170);class o extends r.AbstractRenderLogic{constructor(){super(...arguments),this.wasRendered=!1}isSupported(e){return n.OmidWrapper.isSupported()}getRenderingMethodIndicator(){return 64}start(){n.OmidWrapper.addEventListener("impression",(e=>this.handleImpressionEvent(e))),n.OmidWrapper.addEventListener("geometryChange",(e=>this.handleGeometryChangeEvent(e)))}handleImpressionEvent(e){(!this.wasRendered&&this.checkIfImpressionTypeIndicatesRendered(e)||this.checkIfPercentageInViewLargerThanZero(e))&&(s.DiagnosticParamsSingleton.reportDiagnosticParam("omrie",1),this.updateThatAdIsRendered())}handleGeometryChangeEvent(e){!this.wasRendered&&this.checkIfPercentageInViewLargerThanZero(e)&&(s.DiagnosticParamsSingleton.reportDiagnosticParam("omrge",1),this.updateThatAdIsRendered())}checkIfImpressionTypeIndicatesRendered(e){var t;const i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.impressionType;return!(!i||i!==a.OmidImpressionType.BEGIN_TO_RENDER&&i!==a.OmidImpressionType.ONE_PIXEL&&i!==a.OmidImpressionType.VIEWABLE)}checkIfPercentageInViewLargerThanZero(e){var t,i;return(null===(i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.adView)||void 0===i?void 0:i.percentageInView)>0}updateThatAdIsRendered(){this.wasRendered=!0,super.adRendered(),r.AbstractRenderLogic.fireRenderedEvent()}}t.OmidRenderLogic=o},6898:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageVisibilityRenderLogic=void 0;const r=i(425),n=i(3868),a=i(1723);class s extends a.AbstractRenderLogic{constructor(){super(...arguments),this.wasRendered=!1}start(){if("prerender"!=n.WindowAdaptor.getVisibilityState())super.adRendered();else{const e=r.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";r.BrowserAdaptor.addEventListener(e,this.visibilitychangeCallback.bind(this),n.WindowAdaptor.workingDocument())}}visibilitychangeCallback(){this.wasRendered||"prerender"!=n.WindowAdaptor.getVisibilityState()&&(this.wasRendered=!0,super.adRendered(),a.AbstractRenderLogic.fireRenderedEvent())}isSupported(e){return r.BrowserAdaptor.isVisibilityChangeEventSupported()}getRenderingMethodIndicator(){return 16}}t.PageVisibilityRenderLogic=s},7026:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.RenderLogicFactory=t.RenderLogicFactoryClass=void 0;const r=i(2905),n=i(4263),a=i(6898),s=i(5414),o=i(7749),d=i(6295),l=i(98);class c{getRenderLogic(){return this.selectedRenderLogic||(this.selectedRenderLogic=this.selectSupportedRenderLogic()),this.selectedRenderLogic}prioritizedRenderLogicImplementations(){return[l.OmidRenderLogic,r.MraidInMobiRenderLogic,n.MraidRenderLogic,d.Cm360ContainerRenderLogic,a.PageVisibilityRenderLogic,s.DefaultRenderLogic]}selectSupportedRenderLogic(){try{for(const e of this.prioritizedRenderLogicImplementations()){const t=new e,i=o.DvTagDataObject.getTagType();if(t.isSupported(i))return t}}catch(e){}return new s.DefaultRenderLogic}}t.RenderLogicFactoryClass=c,t.RenderLogicFactory=new c},6806:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeFrameObject=t.SafeFrameObjectClass=void 0;class i{isGeometricSupported(e){return e.$sf&&e.$sf.ext&&e.$sf.ext.geom&&e.$sf.ext.geom()&&e.$sf.ext.geom().win&&e.$sf.ext.geom().win.h>0&&e.$sf.ext.geom().win.w>0}isInviewSupported(e){return!!e.$sf&&!!e.$sf.ext&&!!e.$sf.ext.inViewPercentage}getViewport(e){if(this.isGeometricSupported(e)){const t=e.$sf.ext.geom();return{height:Math.floor(t.win.h),width:Math.floor(t.win.w)}}}getInViewPercentage(e){if(this.isInviewSupported(e))return e.$sf.ext.inViewPercentage()}getAssetVisibleDimension(e){const t={width:0,height:0,left:0,right:0,top:0,bottom:0},i=e.$sf.ext.geom();return t.width=parseInt(i.self.w),t.height=parseInt(i.self.h),i.par&&(t.top=parseInt(i.self.t)-parseInt(i.par.t),t.bottom=t.top+t.height,t.left=parseInt(i.self.l)-parseInt(i.par.l),t.right=t.left+t.width),t}isSafeFrameExists(e){try{return!!e.$sf}catch(e){}}getUrlReferrer(e){try{return e.$sf&&e.$sf.ext&&e.$sf.ext.hostURL&&e.$sf.ext.hostURL()}catch(e){}}}t.SafeFrameObjectClass=i,t.SafeFrameObject=new i},1030:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleTasks=void 0;const r=i(425),n=[];let a=!1;function s(){if(n.length){a=!0;const e=n.shift();r.BrowserAdaptor.setTimeout((()=>{e(),s()}),0)}else a=!1}t.scheduleTasks=function(e){n.unshift(...e),a||s()}},3322:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptDynamicFlags=void 0;const r=i(749),n=i(7658),a=i(7360);class s{constructor(){this.impServed=!1,a.EventBus.addEventListener(a.DvEvent.impressionServed,this.handleImpressionServed.bind(this))}static getInstance(){return s.instance||(s.instance=new s),s.instance}getFlags(){return this.flags}turnOn(e){const t=this.flags;this.flags|=e,this.flags!==t&&this.impServed&&r.MessageHandler.sendMessage({[n.TPSDataMapping.scriptDynamicFlags]:this.flags})}handleImpressionServed(){this.impServed=!0,r.MessageHandler.sendMessage({[n.TPSDataMapping.scriptDynamicFlags]:this.flags})}}t.ScriptDynamicFlags=s},7429:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EventIdGeneratorAdaptor=t.SequenceIdGeneratorClass=void 0;class i{constructor(){this.sequenceId=1}getNext(){return this.sequenceId++}}t.SequenceIdGeneratorClass=i,t.EventIdGeneratorAdaptor=new i},6142:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ServerContext=t.ServerContextClass=void 0;class i{getDetectedDeliveryType(){var e,t;return null===(t=null===(e=this.data)||void 0===e?void 0:e.ce)||void 0===t?void 0:t.ddt}getDeviceType(){var e,t;return null===(t=null===(e=this.data)||void 0===e?void 0:e.ce)||void 0===t?void 0:t.dt}setData(e){this.data=e}}t.ServerContextClass=i,t.ServerContext=new i},3971:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.StandardSizes=t.StandardSizesClass=void 0;const r=i(712);class n{constructor(){this.DisplayStandardSizes=[{width:88,height:[31]},{width:100,height:[150]},{width:120,height:[20,60,90,240,600,800]},{width:125,height:[125]},{width:160,height:[600,800]},{width:168,height:[28]},{width:180,height:[150,160,600]},{width:184,height:[90]},{width:200,height:[90,112,200,446]},{width:215,height:[125]},{width:216,height:[36]},{width:220,height:[90]},{width:234,height:[60]},{width:240,height:[133,400]},{width:250,height:[60,250,300,360,600]},{width:270,height:[202,460]},{width:272,height:[220]},{width:275,height:[300]},{width:292,height:[30]},{width:300,height:[31,50,90,100,200,225,250,268,413,600,618,850,1050]},{width:310,height:[175]},{width:315,height:[300]},{width:320,height:[20,50,75,100,320,360,480]},{width:336,height:[280,600,850]},{width:350,height:[50,200]},{width:375,height:[20,60,150]},{width:400,height:[225]},{width:405,height:[303]},{width:415,height:[20]},{width:440,height:[225,300]},{width:468,height:[60]},{width:550,height:[310,480]},{width:580,height:[400]},{width:600,height:[400]},{width:610,height:[100]},{width:613,height:[460]},{width:640,height:[90,360,480]},{width:700,height:[400,500]},{width:728,height:[90,120]},{width:745,height:[90]},{width:750,height:[30,100,200]},{width:800,height:[600]},{width:900,height:[240]},{width:930,height:[180,600]},{width:950,height:[90]},{width:954,height:[60]},{width:960,height:[90]},{width:970,height:[30,66,90,250,415,550]},{width:980,height:[90,120]},{width:1e3,height:[125]},{width:1008,height:[150]},{width:1140,height:[200]},{width:1250,height:[155]},{width:1280,height:[100]},{width:1680,height:[900]}],this.sizeCompare=(e,t)=>e.width>t.width?1:e.width<t.width?-1:0,this.SpotXStandardSizes=[{width:320,height:[240]},{width:400,height:[300]},{width:450,height:[338]},{width:500,height:[375]},{width:600,height:[800]},{width:640,height:[360]},{width:854,height:[480]}].concat(this.DisplayStandardSizes).sort(this.sizeCompare),this.VideoStandardSizes=[{width:150,height:[90]},{width:270,height:[150]},{width:300,height:[150,340]},{width:320,height:[570]},{width:360,height:[100,640]},{width:375,height:[210,670]},{width:415,height:[740]},{width:420,height:[240]},{width:450,height:[250]},{width:480,height:[270]},{width:510,height:[290]},{width:580,height:[330]},{width:610,height:[340]},{width:670,height:[380]},{width:740,height:[410]},{width:770,height:[1020]},{width:780,height:[440]},{width:800,height:[450]},{width:900,height:[500]},{width:1020,height:[580,770]},{width:1280,height:[720,800]},{width:1330,height:[660]},{width:1370,height:[770]},{width:1440,height:[900]},{width:1540,height:[860]},{width:1920,height:[1080]}].concat(this.DisplayStandardSizes).sort(this.sizeCompare)}getSizesTable(e){switch(e){case r.StandardSizeType.Display:return this.DisplayStandardSizes;case r.StandardSizeType.Video:return this.VideoStandardSizes;default:return this.SpotXStandardSizes}}getNearestAdSize(e,t,i){let r=this.getSizesTable(t);switch(i){case 5:return this.getNearestStandardAdSize(e,5,r);case 20:return this.getNearestStandardAdSize(e,20,r);default:return this.getNearestStandardAdSize(e,15,r)}}isStandardAdSize(e,t,i){return null!=this.getNearestAdSize(e,t,i)}getNearestStandardAdSize(e,t,i){let r=null;if(e&&e.width&&e.height){let n=e.width,a=e.height,s=i.length,o=0,d=0,l=Number.MAX_VALUE,c=Number.MAX_VALUE;for(;d<s&&n+t>=i[d].width;){let e=Math.abs(n-i[d].width);if(e<=t){o=i[d].height.length;let n=0;for(;n<o&&a+t>=i[d].height[n];){let s=Math.abs(a-i[d].height[n]);if(s<=t)if(e+s<l)c=i[d].width*i[d].height[n],l=e+s,r={width:i[d].width,height:i[d].height[n]};else if(e+s==l){let e=i[d].width*i[d].height[n];e<c&&(c=e,r={width:i[d].width,height:i[d].height[n]})}n++}}d++}}return r}}t.StandardSizesClass=n,t.StandardSizes=new n},3380:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Utilities=t.UtilitiesClass=void 0;const r=i(3868);class n{constructor(){this.loadTime=this.getCurrentTime(),this.MAX_GET_URL_LENGTH=8040}isExceedingMaxUrlLength(e){return e>this.MAX_GET_URL_LENGTH}getScriptLoadedMS(){return this.loadTime}setLoadVisitTime(){this.loadVisitTime=this.getCurrentTime()}getVersion(){return 4946}getCurrentTime(){return(Date.now||(new Date).getTime)()}getNavigationStartTime(e){const t=e?r.WindowAdaptor.windowTop():dvWindow;return t&&t.performance&&t.performance.timing&&t.performance.timing.navigationStart}getTimeDiff(e){return e||(e=this.getCurrentTime()),Math.abs(e-this.loadTime)}getVisitTimeDiff(){const e=this.getCurrentTime();return Math.abs(e-(this.loadVisitTime||e))}getTimeDiffNoAbs(e){return e||(e=this.getCurrentTime()),e-this.loadTime}merge(e,t){if(e&&t)return e.concat(t).filter(((e,t,i)=>i.indexOf(e)==t))}isEmpty(e){return!e||0==Object.keys(e).length}isNullOrEmpty(e){return null==e||""===e}extend(e,t){e&&!this.isEmpty(e)&&t&&Object.keys(e).forEach((i=>t[i]=e[i]))}times(e,t){e>0&&(t(),this.times(e-1,t))}mapData(e,t,i=!1){return Object.keys(t).reduce(((r,n)=>{let a=t[n];return a&&!this.isNullOrEmpty(e[n])&&(r[a]=e[n],i&&delete t[n]),r}),{})}startsWith(e,t,i=!1){return e=i?e.toLowerCase():e,t=i?t.toLowerCase():t,0==e.indexOf(t,0)}deepComparison(e,t,i){let r=0;return e&&t?(Object.keys(i).filter((i=>!this.equal(e[i],t[i],!0))).forEach((e=>{r|=i[e]})),r):-1}removeDuplicateValues(e,t){e&&t&&Object.keys(e).filter((i=>this.isNullOrEmpty(e[i])||e[i]==t[i])).forEach((t=>delete e[t]))}equal(e,t,i=!1){return(e=i&&e&&e.toString().toLowerCase()||e)==(t=i&&t&&t.toString().toLowerCase()||t)||this.isNullOrEmpty(e)&&this.isNullOrEmpty(t)}getElementsDistance(e,t){let i=-1;if(e&&t)if(e==t)i=0;else{let r=this.getElementParentsList(e),n=this.getElementParentsList(t);if(r[0]!=n[0])i=-1;else{for(;r.length>0&&n.length>0&&r[0]==n[0];)r.shift(),n.shift();i=r.length+n.length}}else i=-1;return i}getElementParent(e){if(e)return e.parentNode}getElementParentsList(e){let t=[];if(e){let i=this.getElementParent(e);for(;i;)t.unshift(i),i=this.getElementParent(i)}return t}isInAppSupported(e){return e&&e.some((e=>3==e))}isCtvSupported(e){return e&&e.some((e=>4==e))}isLargeAd(e,t,i){return!(!e||i)&&e.height*e.width>=t}getIabVisiblePercentage(e,t){let i=e.percentage,r=e.offScreenPercentage;return null!=r&&t?r:i}isIabPageInFocus(e,t){return t?e.strictFocus:e.focus}isVideoElement(e){return e&&e.nodeName&&"video"==e.nodeName.toLocaleLowerCase()}resolveMacros(e,t){let i=Object.keys(t).reduce(((e,i)=>(e[i.toUpperCase()]=t[i],e)),{});return e.replace("[DV_PROTOCOL]",i.DV_PROTOCOL).replace("[PROTOCOL]",i.PROTOCOL).replace(/\[(.*?)\]/g,((e,t)=>{let r=i[t];return t.indexOf("URL")>-1&&r?decodeURIComponent(r):(null==r&&(r="["+t+"]"),encodeURIComponent(r))}))}updateDynamicParamsFlags(e,t){e&&e.length>0&&t&&(t.dvf=e.filter((e=>!!e)).join(","))}getQueryString(e,i,r,n){const a=t.Utilities.mapData(e,n);return t.Utilities.extend(i,a),this.updateDynamicParamsFlags(r,a),this.serializeObjectToQueryString(a,!1)}serializeObjectToQueryString(e,t){return Object.keys(e).filter((t=>void 0!==e[t])).map((i=>`${i}=${t?encodeURIComponent(e[i]):e[i]}`)).join("&").trim()}isQueryLengthBelowBrowserLimit(e,t,i,r,n){let a=!0;try{a=this.getQueryString(e,t,i,r).length+n.length<=7e3}catch(e){}return a}getElementVisiblePercentage(e,t){if(!e||!t||null==t.height||null==t.width)return;if(this.checkIfElementOutOfViewport(e,t)||e.width<=0||e.height<=0)return 0;let i=this.getVisibleWidth(e,t),r=this.getVisibleHeight(e,t);return Math.round(i*r/(e.width*e.height)*100)}checkIfElementOutOfViewport(e,t){return e.bottom<=0||e.bottom<=0||e.right<=0||e.top>=t.height||e.left>=t.width}getVisibleHeight(e,t){let i=e.height;return e.top<0?i=e.height+e.top:e.top+e.height>t.height&&(i=t.height-e.top),Math.min(i,t.height)}getVisibleWidth(e,t){let i=e.width;return e.left<0?i=e.width+e.left:e.left+e.width>t.width&&(i=t.width-e.left),Math.min(i,t.width)}arrayLikeToArray(e){if(e)return Array.prototype.slice.call(e)}DOMStringListToArray(e){let t=[];return e&&(t=Array.prototype.slice.call(e)),t}isHostTypeURL(e){try{const t=new URL(e);return this.isNullOrEmpty(t.pathname)||"/"==t.pathname}catch(e){}}getElementOffsetFromScreen(e){let t=0,i=0;try{if(e.getBoundingClientRect()){let r=e.getBoundingClientRect();t=r.left,i=r.top}for(e=e.parentElement;e;){if(e.tagName&&"iframe"===e.tagName.toLowerCase()&&e.getBoundingClientRect()){let r=e.getBoundingClientRect();t+=r.left,i+=r.top}e=e.parentElement}}catch(e){t=-1,i=-1}return{top:i,left:t}}isPercentageCriteriaPassed(e){return!(null==e||e>100||e<0)&&100*Math.random()<=e}getValBetweenMinAndMax(e,t,i){return e>t?e<i?e:i:t}isEmptyObject(e){return 0===Object.keys(e).length}objectValues(e){return Object.keys(e).map((t=>e[t]))}getParamValue(e,t){if(null!=e){let i=new RegExp("[\\?#&]("+t+")=([^&#?]*)","gi").exec(e);if(null!=i&&null!=i[2])return i[2]}return null}checkIfObjIsPartiallyInArray(e,t){return t.filter((t=>{let i=!0;return Object.keys(e).forEach((r=>{i=i&&t[r]===e[r]})),i})).length>0?e:{}}getRandom(){let e=1,t=Math.floor(10*Math.random())+1;for(let i=0;i<t;++i)e*=Math.random();return e}generateGuid(){return(new Date).getTime()*this.getRandom()+""}logDvSignal(e){try{const{$logDvSignal:t}=r.WindowAdaptor.workingWindow();t&&"function"==typeof t&&t(e)}catch(e){}}extractElementType(e){var t;switch(null===(t=null==e?void 0:e.tagName)||void 0===t?void 0:t.toUpperCase()){case"IFRAME":return 1;case"SPAN":return 2;case"DIV":return 3;case"HTML":return 4;case"VIDEO":return 5;case"CANVAS":return 7;case"SVG":return 8;case"VIDEO-CANVAS":return 9;case"IMG":return 6;default:return 0}}isNumber(e){return"number"==typeof e&&isFinite(e)}convertToArray(e){return e&&e.length>0?Array.prototype.slice.call(e):[]}countBy(e){let t={};return e.forEach((e=>{t[e]=t[e]?t[e]+1:1})),t}getKeyWithHighestValue(e){return Object.keys(e).length>0?Object.keys(e).reduce(((t,i)=>e[t]>e[i]?t:i)):null}generateAdler32Hash(e){let t=1,i=0;for(let r=0;r<e.length;r++)t+=e.charCodeAt(r),i+=t;return t%=65521,i%=65521,(i<<16|t)>>>0}pick(e,t){const i={};return t.forEach((t=>{i[t]=e[t]})),i}}t.UtilitiesClass=n,t.Utilities=new n},7072:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscreteDistributionRandom=void 0;const i=100;t.DiscreteDistributionRandom=class{static isValidDistribution(e){var t,r;if(!(null==e?void 0:e.entries))return!1;if(!e.entries.length)return!0;return!(!(null===(t=null==e?void 0:e.entries)||void 0===t?void 0:t.length)||(null===(r=e.entries)||void 0===r?void 0:r.some((({percentage:e})=>"number"!=typeof e||e<=0||e>i))))&&e.entries.reduce(((e,{percentage:t})=>e+t),0)<=i}static createEntryRange(e,t){return{value:e.value,min:t,max:t+e.percentage}}static createDistributionRanges(e){const{percentagesSum:t,ranges:r}=e.entries.reduce(((e,t)=>{const i=this.createEntryRange(t,e.percentagesSum);return{ranges:[...e.ranges,i],percentagesSum:i.max}}),{percentagesSum:0,ranges:[]});return t<i?[...r,{value:e.leftover,min:t,max:i}]:r}static randomByRanges(e){var t,r;const n=Math.random()*i;return null!==(r=null===(t=null==e?void 0:e.find((({min:e,max:t})=>e<=n&&n<t)))||void 0===t?void 0:t.value)&&void 0!==r?r:null}static random(e){if(!this.isValidDistribution(e))throw new Error("Provided discrete distribution is invalid - all percentages must be in (0,100], and their sum should be <= 100");const t=this.createDistributionRanges(e);return this.randomByRanges(t)}}},2478:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});const r=i(749);t.default={runSafelyWhenInvoked:(e,t)=>()=>{try{e()}catch(i){r.MessageHandler.sendError(t,i,null==e?void 0:e.name)}}}},1966:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlaybackAdaptor=t.VideoPlaybackAdaptorClass=void 0;const r=i(3868);class n{getOvvObject(){return r.WindowAdaptor.currentWindow().$ovv||r.WindowAdaptor.workingWindow().$ovv}getADCObject(){return r.WindowAdaptor.workingWindow().ADCAdUnitEventManager}}t.VideoPlaybackAdaptorClass=n,t.VideoPlaybackAdaptor=new n},2897:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.FlashOVVWrapper=void 0;const r=i(425),n=i(1966);t.FlashOVVWrapper=class{constructor(e){this.previousEvents=[],this.adVolume=null,this.callbacks={},this.viewabilityIntegrationType=1;let t=n.VideoPlaybackAdaptor.getOvvObject();if(!t)return;this.player=this.findPlayer(e),t.subscribe(["AdSkippableStateChange","AdSkipped","AdUserClose","AdStarted","AdImpression","AdVideoStart","AdStopped","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdExpandedChange","AdPaused","AdPlaying","AdVolumeChange","AdClickThru"],e,this.eventHandler.bind(this),!0)}eventHandler(e,t){try{"AdVolumeChange"==t.eventName&&t.ovvArgs&&null!=t.ovvArgs.ovvData.volume&&this.setAdVolume(t.ovvArgs.ovvData.volume),this.publish(t.eventName)}catch(e){}}findPlayer(e){try{let t=r.BrowserAdaptor.getElementsByTagNameFromDocument("embed");for(let i=0;i<t.length;i++)if(t[i][e]||t[i]["onJsReady"+e])return t[i];let i=r.BrowserAdaptor.getElementsByTagNameFromDocument("object");for(let t=0;t<i.length;t++)if(i[t][e]||i[t]["onJsReady"+e])return i[t]}catch(e){}return null}getPlayer(){return this.player}getSlot(){return this.player}getAdDuration(){}getAdSkippableState(){}getPreviousEvents(){return this.previousEvents}getAdVolume(){return this.adVolume}setAdVolume(e){this.adVolume=e}subscribe(e,t){this.callbacks[t]?this.callbacks[t].push(e):this.callbacks[t]=[e]}publish(e){if(this.previousEvents.push(e),this.callbacks[e])for(let t in this.callbacks[e])this.callbacks[e][t](e)}executeDVClientCallback(){}}},3121:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DvVideoWrapper=void 0;t.DvVideoWrapper=class{constructor(){this.subscriptionId=1,this.subscribers={},this.previousEvents={}}subscribe(e,t,i){let r=[];for(let r in this.previousEvents[t])e.some((e=>e==this.previousEvents[t][r].eventName))&&i(t,this.previousEvents[t][r]);for(let n in e)this.subscribers[e[n]+t]||(this.subscribers[e[n]+t]=[]),this.subscriptionId++,this.subscribers[e[n]+t].push({func:i,subscriptionId:this.subscriptionId}),r.push(this.subscriptionId);return r}unsubscribe(e){e.forEach((e=>{Object.keys(this.subscribers).forEach((t=>{this.subscribers[t]=this.subscribers[t].filter((t=>t.subscriptionId!=e))}))}))}publish(e,t,i){if(this.previousEvents[t]||(this.previousEvents[t]=[]),this.previousEvents[t].push(i),e&&t&&this.subscribers[e+t]instanceof Array)for(let r=0;r<this.subscribers[e+t].length;r++){let n=this.subscribers[e+t][r].func;n&&"function"==typeof n&&n(t,i)}}}},1063:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VpaidWrapper=t.VpaidWrapperClass=void 0;const r=i(7749),n=i(3868),a=i(425),s=i(3350),o=i(3121),d=i(2897),l=i(712),c=i(749),u=i(8379);class p{start(){try{let e={name:"VpaidWrapper",message:void 0};if(r.DvTagDataObject.getTagType()!=l.DvTagType.Video)return;this.currentWindow=n.WindowAdaptor.currentWindow(),this.adid=r.DvTagDataObject.getAdID(),this.adid?(this.dvVpaid=new o.DvVideoWrapper,this.vpaidWrapper=this.getVpaidWrapper(),this.vpaidWrapper?this.createAdAsset(this.adid)?this.subscribeToVpaidEvents(this.vpaidEventHandler.bind(this))?this.handlePreviousEvents():e.message="Failed to subscribe vpaid events":e.message="Failed to create ad asset":e.message="Failed to get vpaid wrapper"):e.message="Failed to get adid",e.message&&(this.dvVpaid=void 0,c.MessageHandler.sendMessage({dvp_vperr:e.message}))}catch(e){this.dvVpaid=void 0,c.MessageHandler.sendError(l.ClientErrorType.MeasurementError,e,"VPaidWrapper")}}getDvVpaid(){return this.dvVpaid}isSupported(){try{return"function"==typeof n.WindowAdaptor.workingWindow().getVPAIDAd||this.adid&&"function"==typeof n.WindowAdaptor.workingWindow()[this.adid]}catch(e){return!1}}getIntegrationType(){return 1}getVpaidWrapper(){try{if("function"==typeof n.WindowAdaptor.workingWindow()[this.adid]){let e=n.WindowAdaptor.workingWindow()[this.adid]();return e.viewabilityIntegrationType=2,e}return new d.FlashOVVWrapper(this.adid)}catch(e){return}}getPrevEvents(){return this.vpaidWrapper.getPreviousEvents?"function"==typeof this.vpaidWrapper.getPreviousEvents?this.vpaidWrapper.getPreviousEvents():this.vpaidWrapper.getPreviousEvents:[]}handlePreviousEvents(){let e=this.getPrevEvents();for(let t of e)this.vpaidEventHandler(t)}getAdVolume(){return this.vpaidWrapper.getAdVolume()}getAdMute(){let e=this.getPlayer();if(e){let t=e.muted;if(void 0===t)return 0;if("boolean"==typeof t)return Number(t)}return u.NOT_FOUND_OR_ERROR}vpaidEventHandler(e){if(this.dvVpaid){let t={eventName:e,eventTime:void 0,ovvArgs:{ovvData:{objLeft:void 0,objRight:void 0,objTop:void 0,objBottom:void 0,percentViewable:void 0,volume:this.getAdVolume(),muted:this.getAdMute(),adSkippableState:this.getAdSkippableState()}}};this.dvVpaid.publish(e,this.adid,t)}}subscribeToVpaidEvents(e){try{return this.vpaidWrapper.subscribe((function(){e("AdLoaded")}),"AdLoaded"),this.vpaidWrapper.subscribe((function(){e("AdImpression")}),"AdImpression"),this.vpaidWrapper.subscribe((function(){e("AdStopped")}),"AdStopped"),this.vpaidWrapper.subscribe((function(){e("AdError")}),"AdError"),this.vpaidWrapper.subscribe((function(){e("AdStarted")}),"AdStarted"),this.vpaidWrapper.subscribe((function(){e("AdSkipped")}),"AdSkipped"),this.vpaidWrapper.subscribe((function(){e("AdPaused")}),"AdPaused"),this.vpaidWrapper.subscribe((function(){e("AdSizeChange")}),"AdSizeChange"),this.vpaidWrapper.subscribe((function(){e("AdPlaying")}),"AdPlaying"),this.vpaidWrapper.subscribe((function(){e("AdExpandedChange")}),"AdExpandedChange"),this.vpaidWrapper.subscribe((function(){e("AdSkippableStateChange")}),"AdSkippableStateChange"),this.vpaidWrapper.subscribe((function(){e("AdLinearChange")}),"AdLinearChange"),this.vpaidWrapper.subscribe((function(){e("AdVideoStart")}),"AdVideoStart"),this.vpaidWrapper.subscribe((function(){e("AdUserAcceptInvitation")}),"AdUserAcceptInvitation"),this.vpaidWrapper.subscribe((function(){e("AdUserClose")}),"AdUserClose"),this.vpaidWrapper.subscribe((function(){e("AdUserMinimize")}),"AdUserMinimize"),this.vpaidWrapper.subscribe((function(){e("AdClickThru")}),"AdClickThru"),this.vpaidWrapper.subscribe((function(){e("AdInteraction")}),"AdInteraction"),this.vpaidWrapper.subscribe((function(){e("AdDurationChange")}),"AdDurationChange"),this.vpaidWrapper.subscribe((function(){e("AdRemainingTimeChange")}),"AdRemainingTimeChange"),this.vpaidWrapper.subscribe((function(){e("AdVolumeChange")}),"AdVolumeChange"),this.vpaidWrapper.subscribe((function(){e("AdVideoFirstQuartile")}),"AdVideoFirstQuartile"),this.vpaidWrapper.subscribe((function(){e("AdVideoMidpoint")}),"AdVideoMidpoint"),this.vpaidWrapper.subscribe((function(){e("AdVideoThirdQuartile")}),"AdVideoThirdQuartile"),this.vpaidWrapper.subscribe((function(){e("AdVideoComplete")}),"AdVideoComplete"),!0}catch(e){return!1}}getPlayer(){let e;try{e="function"==typeof this.vpaidWrapper.getPlayer?this.vpaidWrapper.getPlayer():this.vpaidWrapper.getPlayer,a.BrowserAdaptor.smartInstanceof(e,"HTMLElement",this.currentWindow)||(e=this.vpaidWrapper.getSlot())}catch(t){e=void 0}return e}getAdSkippableState(){let e;try{e="function"==typeof this.vpaidWrapper.getAdSkippableState?this.vpaidWrapper.getAdSkippableState():this.vpaidWrapper.adSkippableState}catch(e){}return e}getAdDuration(){let e;try{e="function"==typeof this.vpaidWrapper.getAdDuration?this.vpaidWrapper.getAdDuration():this.vpaidWrapper.adDuration}catch(e){}return e}getExecuteDVClientCallback(){if("function"==typeof this.vpaidWrapper.executeDVClientCallback)return this.vpaidWrapper.executeDVClientCallback}createAdAsset(e){let t=this.getPlayer();const i=this.getAdDuration(),r=this.getAdSkippableState();if(t){let n=this.getExecuteDVClientCallback(),a=new s.AdAsset(e,t,i,r,n);return this.dvVpaid.asset=a,this.dvVpaid.viewabilityIntegrationType=this.vpaidWrapper.viewabilityIntegrationType,!0}return!1}}t.VpaidWrapperClass=p,t.VpaidWrapper=new p},3868:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.WindowAdaptor=t.WindowAdaptorClass=void 0;const r=i(3380),n=i(2614),a=i(194);class s{constructor(){this.topWinAvailable=!0,this.maxIterations=1e3,this.trafficScenarioType=0}currentWindow(){return dvWindow}currentDocument(){return document}workingWindow(){return 3==this.getScriptInjectionMode()?this.currentWindow().parent:this.currentWindow()}workingDocument(e=this.workingWindow()){let t;return e&&(t=e.document),t}workingBody(e=this.workingDocument()){let t;return e&&(t=e.body),t}workingDocumentElement(){let e,t=this.workingDocument();return t&&(e=t.documentElement),e}windowTop(e){if(this.topWinAvailable||e)try{if(e)return this.currentWindow().top;if(this.currentWindow().top.document)return this.currentWindow().top}catch(e){this.topWinAvailable=!1}}isTop(e){return e==this.windowTop(!0)}documentTop(){let e,t=this.windowTop();return t&&(e=t.document),e}getWindowParent(e,t){try{if(t)return e.parent;if(e.parent.document)return e.parent}catch(e){}}windowName(){return this.currentWindow().name||(this.currentWindow().frameElement?this.currentWindow().frameElement.id:"")}getFrameElement(e){try{return e!==this.currentWindow()&&128==(128&this.getScenarioType())?null:e&&e.frameElement}catch(e){}}getIframeWindow(e){if(e)return e.contentWindow}getDefaultWindow(e){try{if(!e||!e.ownerDocument)return;return e.ownerDocument.defaultView}catch(e){}}getElementWindowDimensions(e){try{const t=this.getDefaultWindow(e);return t?(({innerHeight:e,innerWidth:t})=>({height:e,width:t}))(t):null}catch(e){}}isDomlessEnvironment(){return!1}isIOS(){try{const e=this.workingWindow().navigator;return(/iPhone|iPad|iPod|\(Apple TV|iOS|Coremedia|CFNetwork\/.*Darwin/i.test(e.userAgent)||e.vendor&&"apple, inc."===e.vendor.toLowerCase())&&!this.workingWindow().MSStream}catch(e){}}getWindowProtocol(){return"https:"}setTopAccessibleWindow(){let e=this.workingWindow();try{let t=0;for(;!this.isTop(e)&&t<this.maxIterations;){const i=this.getWindowParent(e,!0);if(!i.document)break;e=i,t++}}catch(e){}this.topAccessibleWindow=e}getTopAccessibleWindow(){return this.topAccessibleWindow||this.setTopAccessibleWindow(),this.topAccessibleWindow}setScenarioType(){this.isTop(this.workingWindow())?this.trafficScenarioType|=1:this.isTop(this.getTopAccessibleWindow())?this.trafficScenarioType|=2:this.trafficScenarioType|=128,a.DvObject.isRestrictedAccess()&&(this.trafficScenarioType|=8)}getScenarioType(){return this.trafficScenarioType||this.setScenarioType(),this.trafficScenarioType}getScriptInjectionMode(){return this.scriptInjectionMode||this.setScriptInjectionMode(),this.scriptInjectionMode}setScriptInjectionMode(){switch(a.DvObject.getScriptInjectionMode()){case"injectedAsSibling":return void(this.scriptInjectionMode=2);case"injectedInIframe":return void(this.scriptInjectionMode=3);default:return void(this.scriptInjectionMode=0)}}objectLookup(e,t,i){try{const r=e[t];if(r)return r;if(!this.isTop(e)&&i>0)return this.objectLookup(this.getWindowParent(e,!0),t,i-1)}catch(e){}}getUserAgent(){return this.workingWindow().navigator&&this.workingWindow().navigator.userAgent}monitorScriptsPerformance(e,t){let i={};try{if(!e.performance||!e.performance.getEntries)return i;const n=e.performance.getEntries();for(let e of n){const n=e.name.match(/.*\/(.+?)\./);if(!n||!n[1])continue;const a=n[1].replace(/\d+$/,""),s=t[a];if(s&&s.length){for(let t of s)i[`${a}_${t}`]=Math.round(e[t]);if(delete t[a],r.Utilities.isEmpty(t))break}}}catch(e){}return i}monitorFrameScriptsPerformance(e,t){let i={};if(!e.frames||!e.frames.length)return i;for(let n of r.Utilities.arrayLikeToArray(e.frames))if(i=this.monitorScriptsPerformance(n,t),r.Utilities.isEmpty(t))return i}getVisibilityState(){try{return this.workingDocument().visibilityState}catch(e){}}getNavigator(){return this.currentWindow().navigator}isCryptoSupported(){return"undefined"!=typeof crypto}isMessageChannelSupported(){return"undefined"!=typeof MessageChannel}isPostMessageSupported(e=this.workingWindow()){return e&&"function"==typeof e.postMessage}isNodeSupported(){return"undefined"!=typeof Node}getCurrentScript(){return this.currentDocument().currentScript}isPerformanceAPISupported(){let e=this.currentWindow();return!(!e.performance||"function"!=typeof e.performance.mark||"function"!=typeof e.performance.measure||"function"!=typeof e.performance.getEntriesByName)}getNumberOfCores(){if(this.getNavigator())return this.getNavigator().hardwareConcurrency}setGlobalVariable(e,t){window[e]=t}}t.WindowAdaptorClass=s;const o=a.DvObject.getDvObject(),d=o&&o.isDomlessEnvironment;t.WindowAdaptor=d?new n.WindowOmidAdaptorClass:new s},2614:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WindowOmidAdaptorClass=t.WindowMock=void 0;t.WindowMock=class{getWindowMockInstance(){return{location:{protocol:"https:"},document:{body:{insertBefore:function(e,t){}},getElementById:function(e){},createElement:function(e){},querySelectorAll:function(e){}}}}};t.WindowOmidAdaptorClass=class{constructor(){this.windowMock=dvWindow}currentWindow(){return this.windowMock}currentDocument(){return this.currentWindow().document}workingWindow(){return this.currentWindow()}workingBody(){return this.currentWindow().document.body}workingDocument(){return this.currentDocument()}workingDocumentElement(){}windowTop(e){return this.currentWindow()}isTop(e){return!0}documentTop(){return this.currentDocument()}getWindowParent(e,t){}windowName(){return""}getIframeWindow(e){}getFrameElement(e){}getDefaultWindow(e){}isDomlessEnvironment(){return!0}isIOS(){return!0}getWindowProtocol(){return"https:"}getTopAccessibleWindow(){return this.workingWindow()}getScenarioType(){return 4}getScriptInjectionMode(){return 0}objectLookup(e,t,i){}getUserAgent(){}monitorScriptsPerformance(e,t){return{}}monitorFrameScriptsPerformance(e,t){return{}}getVisibilityState(){}getNavigator(){}isCryptoSupported(){return"undefined"!=typeof crypto}isMessageChannelSupported(){return!1}isPostMessageSupported(){return!1}isNodeSupported(){return"undefined"!=typeof Node}getCurrentScript(){}isPerformanceAPISupported(){return!1}getNumberOfCores(){}setGlobalVariable(e,t){globalThis[e]=t}}},630:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidImpressionType=t.OmidAdEventType=t.OmidCreativeType=t.OmidAccessModeString=void 0,t.OmidAccessModeString={FULL:"full",DOMAIN:"domain",LIMITED:"limited"},t.OmidCreativeType={UNKNOWN:"unknown",NATIVE_DISPLAY:"nativeDisplay",HTML_DISPLAY:"htmlDisplay",VIDEO:"video",AUDIO:"audio"},t.OmidAdEventType={IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},t.OmidImpressionType={DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other",UNKNOWN:"unknown"}},5492:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdColonyMethod=t.AdColonyMethodClass=void 0;const r=i(712),n=i(6681),a=i(425);class s{constructor(){this.exposureChangeRegistered=!1}isSupported(e){let t,i,r,a,s;try{if(!n.MraidWrapper.isSupported())return!1;s=n.MraidWrapper.runMraidFunctionSafely("getSDKVersion");let e=s.split(".");t=e[0],i=e[1],r=t>3||3==t&&i>=4,a=n.MraidWrapper.isAdColony()}catch(e){}return!(!r||!a)&&(e.mraidVersion=s.toString(),!0)}registerExposureChange(){this.exposureChangeRegistered||(n.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)}getAdCandidateAssets(e){if(n.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:n.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),percentage:this.viewabilityPercentage,viewabilityCalculationType:this.getMethodId()}}getViewportSize(){return n.MraidWrapper.runMraidFunctionSafely("getScreenSize")}getScreenSize(){let e,t;const i=this.getViewportSize();return({height:e,width:t}=i||a.BrowserAdaptor.getScreenSize()),{height:e,width:t}}getMethodId(){return r.ViewabilityCalculationType.AdColonyMraid}destroyAdCandidateMethod(){}handleExposureChangeEvent(e){this.viewabilityPercentage=e}}t.AdColonyMethodClass=s,t.AdColonyMethod=new s},8253:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AmpIntersectionObserverMethod=t.AmpIntersectionObserverMethodClass=void 0;const r=i(425),n=i(712),a=i(3868),s=i(3946),o=i(7537);class d extends o.WebCalculationMethodBase{isSupported(e){const t=e.windowElement,i=s.BrowserDetector.getBrowserId()!=n.Browser.IE||parseInt(s.BrowserDetector.getBrowserVersion())>11,r=128==(128&a.WindowAdaptor.getScenarioType());return i&&r&&!(!t.context||!t.context.observeIntersection)}getAdCandidateAssets(e){const t=e.domElement,i=this.getWrapperSize(e);this.init(e);const n=r.BrowserAdaptor.getBoundingClientRect(t),a=this.getAdViewablePercentage(e);let s=this.getAdPosition(e);return{viewportSize:this.getViewportSize(e.windowElement),wrapperSize:i,screenSize:this.getScreenSize(),adGeometric:{x:s.left,y:s.top,width:n.width,height:n.height},percentage:a,viewabilityCalculationType:this.getMethodId()}}getViewportSize(e){return r.BrowserAdaptor.getOuterViewport(e)}getMethodId(){return n.ViewabilityCalculationType.AmpIntersectionObserver}destroyAdCandidateMethod(e){e.ampIntersectionObserverStopFunction&&e.ampIntersectionObserverStopFunction()}getAdViewablePercentage(e){return e.intersectionObserverData?100*e.intersectionObserverData.intersectionRatio:0}getAdPosition(e){if(!e.intersectionObserverData)return{top:0,left:0};let t=e.intersectionObserverData.boundingClientRect;return{top:t.top,left:t.left}}init(e){if(e.ampIntersectionObserverStopFunction)return;const t=e.windowElement,i=this.visibilityChangeCallback.bind(this,e);e.ampIntersectionObserverStopFunction=t.context.observeIntersection(i)}visibilityChangeCallback(e,t){t.forEach((t=>e.intersectionObserverData=t))}}t.AmpIntersectionObserverMethodClass=d,t.AmpIntersectionObserverMethod=new d},2434:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{window.isReady=!1,window.animateFrameRate=0;let e=0,t=0;const i=function(t){e++,requestAnimationFrame(i)};requestAnimationFrame(i),setInterval((()=>{e<10&&requestAnimationFrame(i),window.animateFrameRate=e-t,t=e}),100),setTimeout((()=>{window.isReady=!0}),250)}},4254:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GeometricMethod=t.GeometricMethodClass=void 0;const r=i(425),n=i(3868),a=i(712),s=i(3380),o=i(749),d=i(7537);class l extends d.WebCalculationMethodBase{isSupported(){return!(128==(128&n.WindowAdaptor.getScenarioType()))}getAdCandidateAssets(e){const t=e.domElement,i=e.windowElement,r=this.getAssetVisibleDimension(t,i),n=this.getAssetPercentageInViewRelativeToDirectParent(t,i),a=this.getViewportSize(),o=this.getWrapperSize(e),d=this.getOffScreenAssetVisibleDimension(r,i),l=this.getOffScreenViewportSize(i);let c=s.Utilities.getElementVisiblePercentage(r,a);c&&n&&(c*=n);const u=s.Utilities.getElementVisiblePercentage(d,l);return{viewportSize:a,wrapperSize:o,screenSize:this.getScreenSize(),adGeometric:{y:r.top,x:r.left,width:r.width,height:r.height},percentage:c,offScreenPercentage:u,viewabilityCalculationType:this.getMethodId()}}getViewportSize(){return r.BrowserAdaptor.getInnerViewport()}getMethodId(){return a.ViewabilityCalculationType.Geometric}getBoundariesViewability(e){const t=e.domElement,i=this.getAssetVisibleDimension(t,e.windowElement),r=this.getViewportSize();let n={topLeft:!0,topRight:!0,bottomLeft:!0,bottomRight:!0};return(i.top<0||i.top>r.height)&&(n.topLeft=n.topRight=!1),(i.bottom<0||i.bottom>r.height)&&(n.bottomLeft=n.bottomRight=!1),(i.left<0||i.left>r.width)&&(n.bottomLeft=n.topLeft=!1),(i.right<0||i.right>r.width)&&(n.bottomRight=n.topRight=!1),n}getOffScreenViewportSize(e){let t={width:this.getViewportSize().width,height:this.getViewportSize().height};const i=r.BrowserAdaptor.getViewportAssetsRelativeToScreen(e),n=r.BrowserAdaptor.getOuterViewport(e).height-t.height,a=i.top+n,s=r.BrowserAdaptor.getScreenSize();return i.left<0?t.width+=i.left:i.left>0&&i.left+t.width>s.width&&(t.width=s.width-i.left),a>0&&a+t.height>s.height&&(t.height=s.height-a),t}getAssetVisibleDimension(e,t){let i={width:0,height:0,left:0,right:0,top:0,bottom:0};const r=n.WindowAdaptor.getWindowParent(t);try{if(e&&(i=this.getElementPositionRelativeToViewport(e,t),t!=r)){let e=this.getAssetVisibleDimension(t.frameElement,r);i.bottom=Math.min(i.bottom,e.bottom),i.top=Math.max(i.top,e.top),i.right=Math.min(i.right,e.right),i.left=Math.max(i.left,e.left),i.width=i.right-i.left,i.height=i.bottom-i.top}}catch(e){}return i}getAssetPercentageInViewRelativeToDirectParent(e,t){try{const i=this.getAssetVisibleDimension(e,t);if(e){const t=r.BrowserAdaptor.getBoundingClientRect(e),n=t.right-t.left,a=(t.bottom-t.top)*n;if(a<=0)return;return i.height*i.width/a}}catch(e){o.MessageHandler.sendError(a.ClientErrorType.MeasurementError,e,"percentage_in_view_geometric_calculation_err")}}getOffScreenAssetVisibleDimension(e,t){const i=r.BrowserAdaptor.getViewportAssetsRelativeToScreen(t).left,n={left:e.left,right:e.right,top:e.top,bottom:e.bottom,height:e.height,width:e.width};return i<0&&(n.left+=i,n.right+=i),n}getElementPositionRelativeToViewport(e,t){let i={left:0,right:0,top:0,bottom:0,width:0,height:0};const a=n.WindowAdaptor.getWindowParent(t),s=r.BrowserAdaptor.getBoundingClientRect(e);return t!=a&&(i=this.getElementPositionRelativeToViewport(t.frameElement,a)),i={left:s.left+i.left,right:s.right+i.left,top:s.top+i.top,bottom:s.bottom+i.top,width:s.width,height:s.height},i}}t.GeometricMethodClass=l,t.GeometricMethod=new l},9965:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IntersectionObserverMethod=t.IntersectionObserverMethodClass=void 0;const r=i(425),n=i(712),a=i(3868),s=i(7537);class o extends s.WebCalculationMethodBase{constructor(){super(...arguments),this.threshold=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}isSupported(e){return 128==(128&a.WindowAdaptor.getScenarioType())&&this.isIntersectionObserverSupported(e.windowElement)}isIntersectionObserverSupported(e){return"IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype}getAdCandidateAssets(e){const t=e.domElement,i=this.getWrapperSize(e);this.init(e);const n=r.BrowserAdaptor.getBoundingClientRect(t),a=this.getAdViewablePercentage(e);let s=this.getAdPosition(e);return{viewportSize:this.getViewportSize(e.windowElement),wrapperSize:i,screenSize:this.getScreenSize(),adGeometric:{x:s.left,y:s.top,width:n.width,height:n.height},percentage:a,viewabilityCalculationType:this.getMethodId()}}getViewportSize(e){return r.BrowserAdaptor.getOuterViewport(e)}getMethodId(){return n.ViewabilityCalculationType.IntersectionObserver}destroyAdCandidateMethod(e){e.intersectionObserverObj&&e.intersectionObserverObj.unobserve(e.domElement)}getAdViewablePercentage(e){return e.intersectionObserverData&&e.intersectionObserverData.intersectionRatio?100*e.intersectionObserverData.intersectionRatio:0}getAdPosition(e){let t={top:0,left:0};return e.intersectionObserverData&&e.intersectionObserverData.intersectionRect&&(t={top:e.intersectionObserverData.intersectionRect.top,left:e.intersectionObserverData.intersectionRect.left}),t}init(e){if(e.intersectionObserverObj)return;const t=e.domElement,i=this.visibilityChangeCallback.bind(this,e);e.intersectionObserverObj=new e.windowElement.IntersectionObserver(i,{threshold:this.threshold}),e.intersectionObserverObj.observe(t)}visibilityChangeCallback(e,t){t.forEach((t=>e.intersectionObserverData=t))}}t.IntersectionObserverMethodClass=o,t.IntersectionObserverMethod=new o},8781:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Mraid3Method=t.Mraid3MethodClass=void 0;const r=i(712),n=i(6681),a=i(425);class s{constructor(){this.exposureChangeRegistered=!1}isSupported(e){let t,i;try{i=n.MraidWrapper.runMraidFunctionSafely("getVersion"),t=i.split(".")[0]}catch(e){}return!(!n.MraidWrapper.isSupported()||"3"!=t)&&(e.mraidVersion=i,!0)}registerExposureChange(){this.exposureChangeRegistered||(n.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)}handleExposureChangeEvent(e){this.viewabilityPercentage=e.exposedPercentage}getAdCandidateAssets(e){if(n.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:n.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),percentage:null!=this.viewabilityPercentage?this.viewabilityPercentage:n.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}}getViewportSize(){return n.MraidWrapper.runMraidFunctionSafely("getScreenSize")}getScreenSize(){let e,t;const i=this.getViewportSize();return({height:e,width:t}=i||a.BrowserAdaptor.getScreenSize()),{height:e,width:t}}getMethodId(){return r.ViewabilityCalculationType.Mraid3}destroyAdCandidateMethod(){}}t.Mraid3MethodClass=s,t.Mraid3Method=new s},8317:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MraidMethod=t.MraidMethodClass=void 0;const r=i(712),n=i(6681),a=i(425);class s{isSupported(e){return!!n.MraidWrapper.isSupported()&&(e.mraidVersion=n.MraidWrapper.runMraidFunctionSafely("getVersion"),!0)}getAdCandidateAssets(e){if(n.MraidWrapper.getIsMraidReady()){const e=(({height:e,width:t}={})=>({height:e,width:t}))(n.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"));return{viewportSize:this.getViewportSize(),wrapperSize:e,screenSize:this.getScreenSize(),adGeometric:n.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),percentage:n.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}}}getViewportSize(){return n.MraidWrapper.runMraidFunctionSafely("getScreenSize")}getScreenSize(){let e,t;const i=this.getViewportSize();return({height:e,width:t}=i||a.BrowserAdaptor.getScreenSize()),{height:e,width:t}}getMethodId(){return r.ViewabilityCalculationType.Mraid}destroyAdCandidateMethod(){}}t.MraidMethodClass=s,t.MraidMethod=new s},8996:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidMethod=t.OmidMethodClass=void 0;const r=i(712),n=i(6689),a=i(425),s=i(8379),o=i(7360),d=i(1800),l=i(749),c=i(3380);class u{isSupported(e){return n.OmidWrapper.isSupported()}getAdCandidateAssets(e){this.init(e);let t,i,r,n=e.omidViewport,a=e.omidWrapperSize,l=0;if(e.omidAdView&&(t=e.omidAdView.percentageInView,i=e.omidAdView.geometry,r=e.omidAdView.reasons),Array.isArray(r)&&r.length){r.forEach((e=>l|=s.OmidGeometryReasonLog[e]));const t=e.omidGeometryReasonsBitWise|l;l&&t!=e.omidGeometryReasonsBitWise&&(e.omidGeometryReasonsBitWise=t,o.EventBus.dispatchEvent(o.DvEvent.reportData,new d.AdCandidateEventData(e)))}return{viewportSize:n,screenSize:this.getScreenSize(null,e),adGeometric:i,percentage:t,viewabilityCalculationType:this.getMethodId(),wrapperSize:a}}getViewportSize(e,t){return t.omidViewport}getScreenSize(e,t){let i,r;const n=this.getViewportSize(null,t);return({height:i,width:r}=n||a.BrowserAdaptor.getScreenSize()),{height:i,width:r}}getMethodId(){return r.ViewabilityCalculationType.Omid}destroyAdCandidateMethod(){}init(e){e.omidInitialized||(e.omidInitialized=!0,["geometryChange","impression"].forEach((t=>n.OmidWrapper.addEventListener(t,this.geometryChangeCallback.bind(this,e,t)))))}geometryChangeCallback(e,t,i){if(i&&i.data){let r=i.data;r.adView&&(e.omidAdView=r.adView,"geometryChange"===t&&!e.omidFirstAdSizeFromGeometryMs&&r.adView.geometry&&r.adView.geometry.width>0&&r.adView.geometry.height>0&&(e.omidFirstAdSizeFromGeometryMs=c.Utilities.getTimeDiff(),e.omidMeasuredElementType=this.extractMeasuredElementType(r.adView),e.omidWrapperSize=this.extractWrapperSize(i),l.MessageHandler.sendMessage({dvp_omfadsfgms:e.omidFirstAdSizeFromGeometryMs}))),r.viewport&&(e.omidViewport=r.viewport)}}extractWrapperSize(e){var t;try{const i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.adView,r=null==i?void 0:i.measuringElement,n=({height:e,width:t}={})=>({height:e,width:t});if(r)return n(i.containerGeometry);const a=null==i?void 0:i.geometry;if(a)return n(a)}catch(e){}}extractMeasuredElementType(e){try{return!0===(null==e?void 0:e.measuringElement)?1:2}catch(e){return 0}}}t.OmidMethodClass=u,t.OmidMethod=new u},986:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceBased=t.ResourceBasedClass=void 0;const r=i(425),n=i(712),a=i(3868),s=i(3380),o=i(5999),d=i(3946),l=i(2434),c=i(7537);class u extends c.WebCalculationMethodBase{isSupported(){const e=(d.BrowserDetector.getBrowserId()==n.Browser.Safari||d.BrowserDetector.getBrowserId()==n.Browser.SafariWebView)&&!/^[3-8]/.test(d.BrowserDetector.getBrowserVersion())||(d.BrowserDetector.getBrowserId()==n.Browser.Chrome||d.BrowserDetector.getBrowserId()==n.Browser.ChromeWebView)&&parseInt(d.BrowserDetector.getBrowserVersion())>=50;return 128==(128&a.WindowAdaptor.getScenarioType())&&e}getAdCandidateAssets(e){e.resourceBasedBeacons||this.createFrameBeacons(e);const t=this.getWrapperSize(e),i=e.domElement,n=r.BrowserAdaptor.getBoundingClientRect(i);let a;if(this.checkBeaconsMechanism(e)){const t=e.resourceBasedBeacons[0];a=o.BeaconsAdaptor.getElementVisiblePercentageWithBeacons(e.resourceBasedBeacons,this.isBeaconViewable.bind(this,t))}return{viewportSize:this.getViewportSize(e.windowElement),wrapperSize:t,screenSize:this.getScreenSize(),adGeometric:{x:0,y:0,width:n.width,height:n.height},percentage:a,viewabilityCalculationType:this.getMethodId()}}getViewportSize(e){return r.BrowserAdaptor.getOuterViewport(e)}getMethodId(){return n.ViewabilityCalculationType.ResourceBased}destroyAdCandidateMethod(e){if(!e.resourceBasedBeacons)return;const t=e.resourceBasedBeacons[0].parentElement,i=a.WindowAdaptor.workingDocument(e.windowElement);a.WindowAdaptor.workingBody(i).removeChild(t),e.resourceBasedBeacons=null}getBoundariesViewability(e){e.resourceBasedBeacons||this.createFrameBeacons(e);let t={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1};if(!this.checkBeaconsMechanism(e))return t;const i=e.resourceBasedBeacons[0];for(let r=1;r<=4;r++){const n=e.resourceBasedBeacons[r];if(this.isBeaconViewable(i,n))switch(r){case 1:t.topLeft=!0;break;case 2:t.topRight=!0;break;case 3:t.bottomLeft=!0;break;case 4:t.bottomRight=!0}}return t}isBeaconViewable(e,t){const i=a.WindowAdaptor.getIframeWindow(e).animateFrameRate;return a.WindowAdaptor.getIframeWindow(t).animateFrameRate-i>5}createFrameBeacons(e){e.resourceBasedBeacons=[];const t=a.WindowAdaptor.workingDocument(e.windowElement),i=r.BrowserAdaptor.createElement("div");a.WindowAdaptor.workingBody(t).appendChild(i);let n=[];s.Utilities.times(14,(()=>{const e=r.BrowserAdaptor.createElement("iframe");e.width=8..toString(),e.height=8..toString(),e.style.position="absolute",e.frameBorder="0",e.style.visibility="hidden",i.appendChild(e);const t=e.contentDocument.createElement("script");t.innerHTML=`(${l.default.toString()})()`,e.contentDocument.body.appendChild(t),n.push(e)})),e.resourceBasedBeacons=n,o.BeaconsAdaptor.positionBeacons(e.domElement,n,8)}checkBeaconsMechanism(e){if(!e.resourceBasedBeacons||0==e.resourceBasedBeacons.length)return!1;const t=e.resourceBasedBeacons[0],i=a.WindowAdaptor.getIframeWindow(t),r=i.animateFrameRate;return i.isReady&&r<7}}t.ResourceBasedClass=u,t.ResourceBased=new u},6662:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenGeometricMethod=t.ScreenGeometricMethodClass=void 0;const r=i(425),n=i(712),a=i(3946),s=i(3868),o=i(3380),d=i(7537);class l extends d.WebCalculationMethodBase{isSupported(e){const t=e.windowElement,i=128==(128&s.WindowAdaptor.getScenarioType()),r=a.BrowserDetector.getBrowserId()==n.Browser.IE&&null!=t.screenTop&&null!=t.screenLeft,o=a.BrowserDetector.getBrowserId()==n.Browser.Firefox&&null!=t.mozInnerScreenX&&null!=t.mozInnerScreenY;return i&&(r||o)}getAdCandidateAssets(e){const t=e.domElement,i=this.getViewportSize(e.windowElement),n=this.getWrapperSize(e);let a={width:0,height:0,left:0,right:0,top:0,bottom:0};const s=r.BrowserAdaptor.getViewportAssetsRelativeToScreen(e.windowElement),d=r.BrowserAdaptor.getIframeAssetsRelativeToScreen(e.windowElement),l=d.left-s.left,c=d.top-s.top,u=r.BrowserAdaptor.getBoundingClientRect(t);a.left=l+u.left,a.right=l+u.right,a.top=c+u.top,a.bottom=c+u.bottom,a.width=u.width,a.height=u.height;const p=o.Utilities.getElementVisiblePercentage(a,i);return{viewportSize:this.getViewportSize(e.windowElement),wrapperSize:n,screenSize:this.getScreenSize(),adGeometric:{x:a.left,y:a.top,width:a.width,height:a.height},percentage:p,viewabilityCalculationType:this.getMethodId()}}getViewportSize(e){return r.BrowserAdaptor.getOuterViewport(e)}getMethodId(){return n.ViewabilityCalculationType.ScreenGeometric}}t.ScreenGeometricMethodClass=l,t.ScreenGeometricMethod=new l},7537:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCalculationMethodBase=void 0;const r=i(3868),n=i(425);t.WebCalculationMethodBase=class{getWrapperSize(e){try{return r.WindowAdaptor.getElementWindowDimensions(e.domElement)}catch(e){}}getScreenSize(){return n.BrowserAdaptor.getScreenSize()}destroyAdCandidateMethod(e){}}},7815:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenAdsDataCollector=void 0;const r=i(912),n=i(194),a=i(425),s=i(3868),o=i(7749),d=i(3380);class l extends r.BaseAdDataCollector{isSupported(){return!(s.WindowAdaptor.isDomlessEnvironment()||128==(128&s.WindowAdaptor.getScenarioType()))}startCollectData(e){let t=0;try{let i=o.DvTagDataObject.isSellerTag(),r=d.Utilities.isPercentageCriteriaPassed(5),s=n.DvObject.isCTV()||n.DvObject.isMobileApp()||e.supportedDeliveryType.some((e=>3==e||4==e));t=!r||i||s||!e.domElement?0:a.BrowserAdaptor.isAdElementHidden(e.domElement)}catch(e){t=-1}e.hiddenAdsIndicator=t}stopCollectData(e){}}t.HiddenAdsDataCollector=l},1194:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AutoplayDataCollector=void 0;const r=i(912),n=i(7749),a=i(712),s=i(3939),o=i(7360),d=i(9205),l=i(6942);class c extends r.BaseAdDataCollector{isSupported(){return n.DvTagDataObject.getTagType()==a.DvTagType.Video}startCollectData(e){let t=o.EventBus.addEventListener(o.DvEvent.videoStartPlaying,this.checkIsAutoplay.bind(this));e.autoplayEventSubscriptionIds.push(t)}stopCollectData(e){o.EventBus.removeEventListener(e.autoplayEventSubscriptionIds[0])}getSupportedAutoplayMethods(e){return[s.DetectAutoplayByAutoplayAttribute,d.DetectAutoplayByTime,l.DetectAutoplayByJWPlayer].filter((t=>t.isSupported(e)))}checkIsAutoplay(e){let t=e.adCandidate;if(void 0===t.autoplayDetectionMethod){let e=t,i=this.getSupportedAutoplayMethods(t);e.autoplayDetectionMethod=0,i.forEach((function(i){i.isAutoplayed(t)&&(e.autoplayDetectionMethod=e.autoplayDetectionMethod|i.getMethodId())}))}}}t.AutoplayDataCollector=c},3939:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DetectAutoplayByAutoplayAttribute=t.DetectAutoplayByAutoplayAttributeClass=void 0;const r=i(3380),n=i(425);class a{isSupported(e){return e&&r.Utilities.isVideoElement(e.domElement)}getMethodId(){return 1}isAutoplayed(e){return n.BrowserAdaptor.getAttribute(e.domElement,"autoplay")||!1}}t.DetectAutoplayByAutoplayAttributeClass=a,t.DetectAutoplayByAutoplayAttribute=new a},6942:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DetectAutoplayByJWPlayer=t.DetectAutoplayByJWPlayerClass=void 0;const r=i(3868);class n{isSupported(){return"function"==typeof r.WindowAdaptor.workingWindow().jwplayer}getMethodId(){return 2}isAutoplayed(){let e=!1,t=r.WindowAdaptor.workingWindow().jwplayer(),i=t&&t.getConfig&&t.getConfig();return i&&(e=i.autostart),e}}t.DetectAutoplayByJWPlayerClass=n,t.DetectAutoplayByJWPlayer=new n},9205:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DetectAutoplayByTime=t.DetectAutoplayByTimeClass=void 0;const r=i(3380),n=i(425);class a{constructor(){this.isAutoplayedTimeThreshold=1e3}isSupported(){return!0}getMethodId(){return 4}isAutoplayed(e){let t=n.BrowserAdaptor.getNavigationStartTime(),i=!1;return t&&(i=e.videoStartTime-r.Utilities.getTimeDiff(t)<=this.isAutoplayedTimeThreshold),i}}t.DetectAutoplayByTimeClass=a,t.DetectAutoplayByTime=new a},912:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAdDataCollector=void 0;const r=i(7360);t.BaseAdDataCollector=class{constructor(){this.isSupported()&&r.EventBus.addEventsListener({[r.DvEvent.adCandidateApproved]:this.startCollectDataWrapper.bind(this),[r.DvEvent.adDestroy]:this.stopCollectDataWrapper.bind(this)})}startCollectDataWrapper(e){this.startCollectData(e.adCandidate)}stopCollectDataWrapper(e){this.stopCollectData(e.adCandidate)}}},6243:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDataCollector=void 0;t.BaseDataCollector=class{constructor(){this.isSupported()&&this.startCollectData()}}},7449:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseGlobalDataCollector=void 0;const r=i(7360);t.BaseGlobalDataCollector=class{constructor(){this.isSupported()&&(this.startCollectData(),r.EventBus.addEventsListener({[r.DvEvent.adCandidateApproved]:this.registerToGlobalEvent.bind(this)}))}processAdDataWrapper(e){this.processAdData(e.adCandidate)}registerToGlobalEvent(e){r.EventBus.addEventListener(this.getGlobalEventName(),this.processAdDataWrapper.bind(this,e))}}},9615:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BoundariesViewabilityDataCollector=void 0;const r=i(986),n=i(4254),a=i(7360),s=i(1800),o=i(912),d=i(6689);class l extends o.BaseAdDataCollector{isSupported(){return!d.OmidWrapper.isSupported()}startCollectData(e){if(e.supportedDeliveryType.some((e=>2==e))){const t=this.getSupportedMethod(e);if(!t)return;a.EventBus.addEventListener(a.DvEvent.viewabilityIntervalData,this.handleViewabilityData.bind(this,t))}}stopCollectData(e){r.ResourceBased.destroyAdCandidateMethod(e)}getArea(e){if(e&&e.width&&e.height)return e.width*e.height}handleViewabilityData(e,t){const i=t.adCandidate,r=t.relevantData,n=this.getArea(r.adGeometric),a=this.getArea(r.viewportSize);n&&a&&n<a||this.publishAdBoundariesViewabilityData(e,i)}getSupportedMethod(e){return[n.GeometricMethod,r.ResourceBased].filter((t=>t.isSupported(e)))[0]}publishAdBoundariesViewabilityData(e,t){const i=e.getBoundariesViewability(t);a.EventBus.dispatchEvent(a.DvEvent.boundariesViewabilityIntervalData,new s.AdCandidateEventData(t,{boundariesViewability:i}))}}t.BoundariesViewabilityDataCollector=l},5593:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionAdSizeDataCollector=void 0;const r=i(7360),n=i(912),a=i(1800),s=i(6689),o=i(425);class d extends n.BaseAdDataCollector{constructor(){super(...arguments),this.interval=100}isSupported(){return!s.OmidWrapper.isSupported()}startCollectData(e){e.adSizeIntervalId=o.BrowserAdaptor.setInterval((()=>{try{this.handleAdSize(e)}catch(e){}}),this.interval)}handleAdSize(e){let t=e.domElement;const i={width:t.clientWidth,height:t.clientHeight};i.width&&i.height&&this.reportData(e,{adSize:i})}reportData(e,t){r.EventBus.dispatchEvent(r.DvEvent.adSizeData,new a.AdCandidateEventData(e,t))}stopCollectData(e){o.BrowserAdaptor.clearInterval(e.adSizeIntervalId)}}t.InteractionAdSizeDataCollector=d},4153:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionEventDataCollector=void 0;const r=i(7360),n=i(425),a=i(912),s=i(1800),o=i(6689),d=i(3868);class l extends a.BaseAdDataCollector{constructor(){super(...arguments),this.interactionEventSubscriptionMap={click:{dvEventToDispatch:r.DvEvent.firstClickOnAdElementData,elementToListenTo:"adCandidate"},mouseover:{dvEventToDispatch:r.DvEvent.firstHoverData,elementToListenTo:"adCandidate"},touchstart:{dvEventToDispatch:r.DvEvent.firstTouchData,elementToListenTo:"adCandidate"},blur:{dvEventToDispatch:r.DvEvent.firstFocusIntoAdElementData,elementToListenTo:"topAccessibleWindow",condition:e=>e.domElement===d.WindowAdaptor.workingDocument().activeElement}}}isSupported(){return!o.OmidWrapper.isSupported()}startCollectData(e){Object.keys(this.interactionEventSubscriptionMap).forEach((t=>{const i=this.getElementToListenTo(t,e),r=this.handleElementEvent.bind(this,e,t);e.domEvents[t]=r,n.BrowserAdaptor.addEventListener(t,r,i)}))}getElementToListenTo(e,t){return"topAccessibleWindow"===this.interactionEventSubscriptionMap[e].elementToListenTo?d.WindowAdaptor.getTopAccessibleWindow():t.domElement}handleElementEvent(e,t){const i=this.interactionEventSubscriptionMap[t].condition;i&&!i(e)||(r.EventBus.dispatchEvent(this.interactionEventSubscriptionMap[t].dvEventToDispatch,new s.AdCandidateEventData(e)),this.removeEventListener(t,e))}stopCollectData(e){Object.keys(this.interactionEventSubscriptionMap).forEach((t=>{this.removeEventListener(t,e)}))}removeEventListener(e,t){const i=this.getElementToListenTo(e,t);n.BrowserAdaptor.removeEventListener(e,t.domEvents[e],i)}}t.InteractionEventDataCollector=l},2237:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionUnloadDataCollector=void 0;const r=i(425),n=i(3868),a=i(7360),s=i(3380),o=i(194),d=i(1800),l=i(6689),c=i(7449);class u extends c.BaseGlobalDataCollector{startCollectData(){this.registerToDomEnvironment(),this.registerToOmidEnvironment(),this.timeoutId=r.BrowserAdaptor.setTimeout(this.reportDueToTimeout.bind(this),84e4)}getGlobalEventName(){return a.DvEvent.globalUnloadData}processAdData(e){const t=s.Utilities.getTimeDiff();e.timeUntilUnloadMs=t,e.timeUntilUnloadMsParam=t,a.EventBus.dispatchEvent(a.DvEvent.unloadData,new d.AdCandidateEventData(e)),a.EventBus.dispatchEvent(a.DvEvent.reportData,new d.AdCandidateEventData(e)),e.wasAdStopped=!0}isSupported(){return!0}getSubscribedEvents(){return["beforeunload","pagehide"]}registerToDomEnvironment(){this.domEvents={},a.EventBus.addEventListener(a.DvEvent.impressionServed,this.registerToVisibilityChange.bind(this),"InteractionUnloadDataCollector"),this.getSubscribedEvents().forEach(this.registerUnloadEvent.bind(this))}registerUnloadEvent(e){const t=this.handleUnload.bind(this);this.domEvents[e]=t,[n.WindowAdaptor.workingWindow(),n.WindowAdaptor.currentWindow()].forEach((i=>{r.BrowserAdaptor.addEventListener(e,t,i)}))}registerToOmidEnvironment(){l.OmidWrapper.isSupported()&&l.OmidWrapper.registerSessionObserver(this.handleOmidUnload.bind(this))}reportDueToTimeout(){this.timeMsUntilUnload||this.handleUnload()}registerToVisibilityChange(){const e=this.handleUnloadForVisibilityChange.bind(this);if(o.DvObject.isMobile()&&r.BrowserAdaptor.isVisibilityChangeEventSupported()){this.lastVisibilityState=n.WindowAdaptor.currentDocument().visibilityState;const t=r.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";r.BrowserAdaptor.addEventListener(t,e,n.WindowAdaptor.workingDocument()),this.domEvents[t]=e}}handleUnloadForVisibilityChange(){const e=n.WindowAdaptor.currentDocument().visibilityState;this.lastVisibilityState!=e&&"hidden"===e&&this.handleUnload(),this.lastVisibilityState=e}isMaxTimePassed(){let e=s.Utilities.getTimeDiff();return!(!this.timeMsUntilUnload&&e<12e5)||(this.timeMsUntilUnload=e,!1)}handleUnload(){this.isMaxTimePassed()||this.unloadFired||(a.EventBus.dispatchEvent(this.getGlobalEventName(),new d.EventData),this.unloadFired=!0)}handleOmidUnload(e){"sessionFinish"===e.type&&this.handleUnload()}}t.InteractionUnloadDataCollector=u},2294:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidInteractionDataCollector=void 0;const r=i(7360),n=i(912),a=i(1800),s=i(6689),o=i(8379);class d extends n.BaseAdDataCollector{isSupported(){return s.OmidWrapper.isSupported()}startCollectData(e){Object.keys(o.OmidEvents).forEach((t=>s.OmidWrapper.addEventListener(t,this.handleOmidEvent.bind(this,t,e))))}handleOmidEvent(e,t,i){var n,s,o;switch(e){case"adUserInteraction":"click"===(null===(n=null==i?void 0:i.data)||void 0===n?void 0:n.interactionType)&&r.EventBus.dispatchEvent(r.DvEvent.omidClickData,new a.AdCandidateEventData(t));break;case"geometryChange":const e=null===(o=null===(s=null==i?void 0:i.data)||void 0===s?void 0:s.adView)||void 0===o?void 0:o.geometry,d={width:null==e?void 0:e.width,height:null==e?void 0:e.height};d.width&&d.height&&r.EventBus.dispatchEvent(r.DvEvent.omidAdSizeData,new a.AdCandidateEventData(t,{adSize:d}))}}stopCollectData(e){}}t.OmidInteractionDataCollector=d},1606:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageInteractionKeyPressDataCollector=void 0;const r=i(7449),n=i(7360),a=i(3868),s=i(425),o=i(1800);class d extends r.BaseGlobalDataCollector{isSupported(){return!0}getGlobalEventName(){return n.DvEvent.globalKeyPressData}startCollectData(){let e=a.WindowAdaptor.workingWindow(),t=a.WindowAdaptor.getTopAccessibleWindow();s.BrowserAdaptor.addEventListener("keypress",this.handleKeyPressEvent.bind(this),e),t!=e&&s.BrowserAdaptor.addEventListener("keypress",this.handleKeyPressEvent.bind(this),t)}handleKeyPressEvent(){n.EventBus.dispatchEvent(this.getGlobalEventName(),new o.EventData)}processAdData(e){n.EventBus.dispatchEvent(n.DvEvent.keyPressData,new o.AdCandidateEventData(e))}}t.PageInteractionKeyPressDataCollector=d},9198:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageInteractionMouseMoveDataCollector=void 0;const r=i(7449),n=i(7360),a=i(425),s=i(1800),o=i(3868);class d extends r.BaseGlobalDataCollector{isSupported(){return!0}getGlobalEventName(){return n.DvEvent.globalMouseMoveData}startCollectData(){let e=o.WindowAdaptor.workingWindow(),t=o.WindowAdaptor.getTopAccessibleWindow();a.BrowserAdaptor.addEventListener("mousemove",this.handleMouseMoveEvent.bind(this),e),a.BrowserAdaptor.addEventListener("touchmove",this.handleMouseMoveEvent.bind(this),e),t!=e&&(a.BrowserAdaptor.addEventListener("mousemove",this.handleMouseMoveEvent.bind(this),t),a.BrowserAdaptor.addEventListener("touchmove",this.handleMouseMoveEvent.bind(this),t))}handleMouseMoveEvent(){n.EventBus.dispatchEvent(this.getGlobalEventName(),new s.EventData)}processAdData(e){n.EventBus.dispatchEvent(n.DvEvent.mouseMoveData,new s.AdCandidateEventData(e))}}t.PageInteractionMouseMoveDataCollector=d},6789:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageInteractionOrientationChangedDataCollector=void 0;const r=i(7449),n=i(7360),a=i(1800),s=i(425),o=i(8170);class d extends r.BaseGlobalDataCollector{isSupported(){return void 0!==s.BrowserAdaptor.getScreenOrientation()}getGlobalEventName(){return n.DvEvent.globalOrientationChangeData}startCollectData(){s.BrowserAdaptor.getScreenOrientation().addEventListener("change",this.handleOrientationChangeEvent.bind(this))}handleOrientationChangeEvent(){n.EventBus.dispatchEvent(this.getGlobalEventName(),new a.EventData)}processAdData(e){this.onOrientationChange(e)}onOrientationChange(e){var t;const i=s.BrowserAdaptor.getScreenOrientationType();if(1===i)n.EventBus.dispatchEvent(n.DvEvent.orientationChangePortraitData,new a.AdCandidateEventData(e));else if(2===i)n.EventBus.dispatchEvent(n.DvEvent.orientationchangeLandscapeData,new a.AdCandidateEventData(e));else if(0===i){const e=null===(t=s.BrowserAdaptor.getScreenOrientation().type)||void 0===t?void 0:t.toString();e&&o.DiagnosticParamsSingleton.reportOnce("usot",e)}}}t.PageInteractionOrientationChangedDataCollector=d},5747:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageInteractionScrollDataCollector=void 0;const r=i(7449),n=i(7360),a=i(1800);class s extends r.BaseGlobalDataCollector{isSupported(){return!0}getGlobalEventName(){return n.DvEvent.globalScrollData}startCollectData(){n.EventBus.addEventListener(n.DvEvent.viewabilityIntervalData,this.handleViewabilityIntervalDataEvent.bind(this))}handleViewabilityIntervalDataEvent(e){let t=e.relevantData,i=t.adGeometric;t.adGeometric&&(this.adGeometric?this.adGeometric.y==i.y&&this.adGeometric.x==i.x||(this.adGeometric=i,n.EventBus.dispatchEvent(this.getGlobalEventName(),new a.EventData)):this.adGeometric=i)}processAdData(e){n.EventBus.dispatchEvent(n.DvEvent.scrollData,new a.AdCandidateEventData(e))}}t.PageInteractionScrollDataCollector=s},2452:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.FocusDataCollector=void 0;const r=i(7360),n=i(425),a=i(3868),s=i(912),o=i(1800);class d extends s.BaseAdDataCollector{isSupported(){return!0}startCollectData(e){const t=e.domEvents,i=this.handleFocus.bind(this,e);if(this.handleFocus(e),n.BrowserAdaptor.isVisibilityChangeEventSupported()){const r=n.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";n.BrowserAdaptor.addEventListener(r,i,a.WindowAdaptor.workingDocument(e.windowElement)),t[r]=i}}handleFocus(e){try{let t=n.BrowserAdaptor.hasFocus();r.EventBus.dispatchEvent(r.DvEvent.focusData,new o.AdCandidateEventData(e,{focus:t}))}catch(e){}}stopCollectData(e){if(n.BrowserAdaptor.isVisibilityChangeEventSupported()){const t=n.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";n.BrowserAdaptor.removeEventListener(t,e.domEvents[t],a.WindowAdaptor.workingDocument(e.windowElement))}}}t.FocusDataCollector=d},3384:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PageEventsDataCollector=void 0;const r=i(7360),n=i(3868),a=i(425),s=i(6243),o=i(1800);class d extends s.BaseDataCollector{isSupported(){return!n.WindowAdaptor.isDomlessEnvironment()}startCollectData(){a.BrowserAdaptor.addEventListener("pagehide",this.handlePersistedEvent(r.DvEvent.pageHideEventPersisted,r.DvEvent.pageHideEventNonPersisted).bind(this),n.WindowAdaptor.workingWindow())}handlePersistedEvent(e,t){return i=>{const n=(null==i?void 0:i.persisted)?e:t;r.EventBus.dispatchEvent(n,new o.EventData)}}}t.PageEventsDataCollector=d},417:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceApiDataCollector=void 0;const r=i(912),n=i(7360),a=i(1800),s=i(3868);class o extends r.BaseAdDataCollector{constructor(){super(...arguments),this.subscriptionIds=[]}isSupported(){return!s.WindowAdaptor.isDomlessEnvironment()}getEntries(e){const t=s.WindowAdaptor.monitorScriptsPerformance(s.WindowAdaptor.currentWindow(),{visit:["transferSize"]}),i={visitResponseSize:t&&t.visit_transferSize};Object.keys(i).length&&n.EventBus.dispatchEvent(n.DvEvent.performanceData,new a.PerformanceEventData(i,e))}startCollectData(e){this.isSupported()&&(this.subscriptionIds=n.EventBus.addEventsListener({[n.DvEvent.impressionServed]:this.getEntries.bind(this,e)}))}stopCollectData(e){this.subscriptionIds.length&&(n.EventBus.removeEventsListener(this.subscriptionIds),this.subscriptionIds=[])}}t.PerformanceApiDataCollector=o},6593:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceLongTasksDataCollector=t.LONG_TASK_TYPE=void 0;const r=i(3868),n=i(7360),a=i(1800),s=i(6243),o=i(712),d=i(749);t.LONG_TASK_TYPE="longtask";class l extends s.BaseDataCollector{isSupported(){return l.isPerformanceLongTasksSupported()}startCollectData(){if(!this.observer)try{this.observer=new PerformanceObserver(this.handleLongTasksEntries.bind(this)),this.observer.observe({type:t.LONG_TASK_TYPE,buffered:!0})}catch(e){d.MessageHandler.sendError(o.ClientErrorType.FailObserverLongTasks,e)}}handleLongTasksEntries(e){const t=e.getEntries().filter((e=>{var t;return null===(t=e.attribution)||void 0===t?void 0:t.length})).filter((({attribution:e})=>e[0].containerId===l.getFrameId())).map(this.convertLongTaskEntryToLongTask.bind(this));n.EventBus.dispatchEvent(n.DvEvent.performanceLongTasks,new a.LongTaskEventData(t))}convertLongTaskEntryToLongTask(e){return{startTime:e.startTime,duration:e.duration,frameId:l.getFrameId()}}static getFrameId(){var e;return this._frameId||(this._frameId=null===(e=r.WindowAdaptor.getFrameElement(r.WindowAdaptor.currentWindow()))||void 0===e?void 0:e.id),this._frameId}static isPerformanceLongTasksSupported(){var e;return"undefined"!=typeof PerformanceObserver&&3===r.WindowAdaptor.getScriptInjectionMode()&&!!this.getFrameId()&&!!(null===(e=null===PerformanceObserver||void 0===PerformanceObserver?void 0:PerformanceObserver.supportedEntryTypes)||void 0===e?void 0:e.some((e=>e===t.LONG_TASK_TYPE)))}}t.PerformanceLongTasksDataCollector=l},6195:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.StrictFocusDataCollector=void 0;const r=i(7360),n=i(425),a=i(3868),s=i(912),o=i(1800);class d extends s.BaseAdDataCollector{isSupported(){return!0}startCollectData(e){this.handleFocus(e),a.WindowAdaptor.windowTop()&&(e.strictFocusInterval=n.BrowserAdaptor.setInterval(this.handleFocus.bind(this,e),200))}handleFocus(e){try{let t=null==n.BrowserAdaptor.hasStrictFocus()||n.BrowserAdaptor.hasStrictFocus();r.EventBus.dispatchEvent(r.DvEvent.strictFocusData,new o.AdCandidateEventData(e,{focus:t}))}catch(e){}}stopCollectData(e){n.BrowserAdaptor.clearInterval(e.strictFocusInterval)}}t.StrictFocusDataCollector=d},1776:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlaybackDataCollector=void 0;const r=i(912),n=i(7542),a=i(1768),s=i(3115),o=i(4753),d=i(7749),l=i(7360),c=i(712),u=i(1800),p=i(8191);class h extends r.BaseAdDataCollector{isSupported(){return d.DvTagDataObject.getTagType()==c.DvTagType.Video}startCollectData(e){e.videoPlaybackIndicator=e.videoPlaybackIndicatorDvp=0,e.videoPlayback=this.getSupportedVideoPlayback(e),e.videoPlayback&&(e.videoPlayback.startCollectData(e),e.videoPlaybackIndicator=e.videoPlaybackIndicatorDvp=e.videoPlayback.getIndicator(),l.EventBus.dispatchEvent(l.DvEvent.reportData,new u.AdCandidateEventData(e)))}stopCollectData(e){e.videoPlayback&&e.videoPlayback.stopCollectData(e)}getSupportedVideoPlayback(e){return[a.VideoPlaybackByOmid,o.VideoPlaybackByAdColonyVpaid,s.VideoPlaybackByVpaid,p.VideoPlaybackByInmobi,n.VideoPlaybackByHtml5].filter((t=>t.isSupported(e)))[0]}}t.VideoPlaybackDataCollector=h},4753:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlaybackByAdColonyVpaid=t.VideoPlaybackByAdColonyVpaidClass=void 0;const r=i(1966),n=i(7360),a=i(1800);class s{constructor(){this.vpaidEventMapping={AdImpression:n.DvEvent.adImpressionData,AdVideoComplete:n.DvEvent.adVideoCompleteData,AdVideoFirstQuartile:n.DvEvent.adVideoFirstQuartileData,AdVideoMidpoint:n.DvEvent.adVideoMidpointData,AdVideoStart:n.DvEvent.adVideoStartData,AdVideoThirdQuartile:n.DvEvent.adVideoThirdQuartileData,AdPaused:n.DvEvent.pauseData,AdPlaying:n.DvEvent.resumeData,AdVolumeChange:n.DvEvent.volumeData}}isSupported(){return this.adc=r.VideoPlaybackAdaptor.getADCObject(),!!this.adc}getIndicator(){return 4}startCollectData(e){Object.keys(this.vpaidEventMapping).forEach((t=>{this.adc.subscribe(t,this.handleVpaidEvent.bind(this,t,e))}))}stopCollectData(e){}getVpaidVolume(e){return isNaN(e)?null:e}handleVpaidEvent(e,t,i){let r;if("AdVolumeChange"==e){if(!i)return;let e=this.getVpaidVolume(i.deviceVolume),t=null!=e?e:this.getVpaidVolume(i.volume);null!=t&&-1!=t&&(r={volume:t})}n.EventBus.dispatchEvent(this.vpaidEventMapping[e],new a.AdCandidateEventData(t,r))}}t.VideoPlaybackByAdColonyVpaidClass=s,t.VideoPlaybackByAdColonyVpaid=new s},7542:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlaybackByHtml5=t.VideoPlaybackByHtml5Class=void 0;const r=i(7360),n=i(1800),a=i(425),s=i(3380);class o{constructor(){this.html5EventMapping={playing:r.DvEvent.adVideoStartData,pause:r.DvEvent.pauseData,play:r.DvEvent.resumeData,volumechange:r.DvEvent.volumeData,ended:r.DvEvent.adVideoCompleteData},this.quartileEvents=[r.DvEvent.adVideoFirstQuartileData,r.DvEvent.adVideoMidpointData,r.DvEvent.adVideoThirdQuartileData,r.DvEvent.adVideoCompleteData],this.eventsToReportOnlyOnce=[r.DvEvent.adVideoCompleteData,r.DvEvent.adVideoStartData,...this.quartileEvents]}isSupported(e){return s.Utilities.isInAppSupported(e.supportedDeliveryType)&&s.Utilities.isVideoElement(e.domElement)}getIndicator(){return 2}startCollectData(e){const t=this.updateAdPlaybackTime.bind(this,e);a.BrowserAdaptor.addEventListener("timeupdate",t,e.domElement),e.domEvents.timeupdate=t,Object.keys(this.html5EventMapping).forEach((t=>{const i=this.handleHtml5Event.bind(this,e,this.html5EventMapping[t]);a.BrowserAdaptor.addEventListener(t,i,e.domElement),e.domEvents[t]=i}))}stopCollectData(e){Object.keys(this.html5EventMapping).forEach((t=>{a.BrowserAdaptor.removeEventListener(t,e.domEvents[t],e.domElement)})),a.BrowserAdaptor.removeEventListener("timeupdate",e.domEvents.timeupdate,e.domElement)}updateAdPlaybackTime(e){const t=e.domElement;if(!t.duration)return;t.currentTime&&!e.videoPlaybackHtml5AdPlaybackTimeInitialized&&(e.videoPlaybackHtml5AdPlaybackTimeInitialized=!0,this.publishEvents(r.DvEvent.resumeData,e));const i=t.duration/4;if(t.currentTime>=e.videoPlaybackHtml5QuartileId*i){const t=this.quartileEvents[e.videoPlaybackHtml5QuartileId-1];this.publishEvents(t,e),e.videoPlaybackHtml5QuartileId++}}handleHtml5Event(e,t){const i=e.domElement;let n;t==r.DvEvent.volumeData&&(n={volume:i.volume}),this.publishEvents(t,e,n)}publishEvents(e,t,i){this.eventsToReportOnlyOnce.some((t=>t==e))&&t.videoPlaybackHtml5Events.some((t=>t==e))||(e==r.DvEvent.adVideoCompleteData&&this.stopCollectData(t),t.videoPlaybackHtml5Events.push(e),r.EventBus.dispatchEvent(e,new n.AdCandidateEventData(t,i)))}}t.VideoPlaybackByHtml5Class=o,t.VideoPlaybackByHtml5=new o},8191:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlaybackByInmobi=t.VideoPlaybackByInmobiClass=void 0;const r=i(7360),n=i(1800),a=i(3380),s=i(8426);class o{constructor(){this.inmobiEventMapping={AdLoaded:r.DvEvent.videoLoadedData,AdVideoComplete:r.DvEvent.adVideoCompleteData,AdVideoFirstQuartile:r.DvEvent.adVideoFirstQuartileData,AdVideoMidpoint:r.DvEvent.adVideoMidpointData,AdVideoStart:r.DvEvent.adVideoStartData,AdVideoThirdQuartile:r.DvEvent.adVideoThirdQuartileData,AdPaused:r.DvEvent.pauseData,AdPlaying:r.DvEvent.resumeData,AdVolumeChange:r.DvEvent.volumeData}}isSupported(){return s.InmobiWrapper.isSupported()}getIndicator(){return 5}startCollectData(e){s.InmobiWrapper.addEventListenerWithHistory(this.handleInmobiEvent.bind(this,e))}stopCollectData(e){}handleInmobiEvent(e,t){if(!t||!this.inmobiEventMapping[t.type])return;let i={};if("AdVolumeChange"==t.type&&t.detail){let e=a.Utilities.isNullOrEmpty(t.detail.adVolume)||isNaN(t.detail.adVolume)?null:t.detail.adVolume;null!=e&&-1!=e&&(i={volume:e})}if("AdLoaded"==t.type&&t.detail&&t.detail.duration&&t.detail.duration>0){e.adDuration=Math.round(t.detail.duration);let r=a.Utilities.isNullOrEmpty(t.detail.volume)||isNaN(t.detail.volume)?null:t.detail.volume;null!=r&&-1!=r&&(i={volume:r})}r.EventBus.dispatchEvent(this.inmobiEventMapping[t.type],new n.AdCandidateEventData(e,i))}}t.VideoPlaybackByInmobiClass=o,t.VideoPlaybackByInmobi=new o},1768:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlaybackByOmid=t.VideoPlaybackByOmidClass=void 0;const r=i(7360),n=i(1800),a=i(6689),s=i(8170),o=i(3380);class d{constructor(){this.omidEventMapping={impression:r.DvEvent.adImpressionData,complete:r.DvEvent.adVideoCompleteData,firstQuartile:r.DvEvent.adVideoFirstQuartileData,midpoint:r.DvEvent.adVideoMidpointData,start:r.DvEvent.adVideoStartData,thirdQuartile:r.DvEvent.adVideoThirdQuartileData,pause:r.DvEvent.pauseData,resume:r.DvEvent.resumeData,skipped:r.DvEvent.skipData,volumeChange:r.DvEvent.volumeData,loaded:null}}isSupported(){return a.OmidWrapper.isSupported()}getIndicator(){return 3}startCollectData(e){s.DiagnosticParamsSingleton.reportDiagnosticParam("omlms",o.Utilities.getTimeDiff()),Object.keys(this.omidEventMapping).forEach((t=>{a.OmidWrapper.addEventListener(t,this.omidEventCallback.bind(this,e,t))}))}stopCollectData(e){}omidEventCallback(e,t,i){let a;if("start"==t||"volumeChange"==t&&i&&i.data){let e,t=isNaN(i.data.videoPlayerVolume)?null:i.data.videoPlayerVolume,r=isNaN(i.data.deviceVolume)?null:i.data.deviceVolume;null!=t&&null!=r?e=t*r:null!=t?e=t:null!=r&&(e=r),null!=e&&-1!=e&&(a={volume:e})}"start"==t&&i&&i.data&&(e.videoLength=i.data.videoDuration,r.EventBus.dispatchEvent(this.omidEventMapping.volumeChange,new n.AdCandidateEventData(e,a))),null==e.omidPlaybackStartIndicator&&(e.omidPlaybackStartIndicator=-1),"loaded"==t&&(e.omidPlaybackStartIndicator=this.getOmidPlaybackStartIndicator(i)),this.omidEventMapping[t]&&r.EventBus.dispatchEvent(this.omidEventMapping[t],new n.AdCandidateEventData(e,a))}getOmidPlaybackStartIndicator(e){return e&&e.data&&null!=e.data.autoPlay?e.data.autoPlay?1:2:0}}t.VideoPlaybackByOmidClass=d,t.VideoPlaybackByOmid=new d},3115:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlaybackByVpaid=t.VideoPlaybackByVpaidClass=void 0;const r=i(7749),n=i(7360),a=i(1800),s=i(1063),o=i(3380);class d{constructor(){this.MUTED=1,this.NO_VOLUME=0,this.vpaidEventMapping={AdImpression:n.DvEvent.adImpressionData,AdLoaded:n.DvEvent.videoLoadedData,AdVideoComplete:n.DvEvent.adVideoCompleteData,AdVideoFirstQuartile:n.DvEvent.adVideoFirstQuartileData,AdVideoMidpoint:n.DvEvent.adVideoMidpointData,AdVideoStart:n.DvEvent.adVideoStartData,AdVideoThirdQuartile:n.DvEvent.adVideoThirdQuartileData,AdUserClose:n.DvEvent.abandonData,AdPaused:n.DvEvent.pauseData,AdPlaying:n.DvEvent.resumeData,AdSkipped:n.DvEvent.skipData,AdStopped:n.DvEvent.stopData,AdVolumeChange:n.DvEvent.volumeData,AdSkippableStateChange:n.DvEvent.skippableData}}isSupported(){return this.adID=r.DvTagDataObject.getAdID(),this.vpaid=s.VpaidWrapper.getDvVpaid(),!!this.adID&&!!this.vpaid&&s.VpaidWrapper.isSupported()}getIndicator(){return 1}startCollectData(e){e.videoPlaybackByVpaidEventSubscriptionIds=this.vpaid.subscribe(Object.keys(this.vpaidEventMapping),this.adID,this.handleVpaidEvent.bind(this,e));const t=this.vpaid.asset&&this.vpaid.asset.adDuration;t&&t>0&&t<180&&(e.adDuration=Math.round(1e3*t),e.adDurationCalculationType=1),this.vpaid.asset&&this.vpaid.asset.adSkippable&&(e.adSkippableMs=o.Utilities.getTimeDiff())}stopCollectData(e){this.vpaid.unsubscribe(e.videoPlaybackByVpaidEventSubscriptionIds)}handleVpaidEvent(e,t,i){var r;if(!(null==i?void 0:i.eventName))return;const s=i.eventName;if(!this.vpaidEventMapping[s])return;let d;const l=null===(r=null==i?void 0:i.ovvArgs)||void 0===r?void 0:r.ovvData;if(l){if("AdVolumeChange"==i.eventName||"AdVideoStart"==i.eventName){const e=l.muted===this.MUTED?this.NO_VOLUME:o.Utilities.isNullOrEmpty(l.volume)||isNaN(l.volume)?null:l.volume;null!=e&&-1!=e&&(d={volume:e})}if("AdSkippableStateChange"==i.eventName){const e=o.Utilities.isNullOrEmpty(l.adSkippableState)?null:l.adSkippableState;null!=e&&(d={adSkippable:e})}}n.EventBus.dispatchEvent(this.vpaidEventMapping[s],new a.AdCandidateEventData(e,d))}}t.VideoPlaybackByVpaidClass=d,t.VideoPlaybackByVpaid=new d},3081:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewabilityDataCollector=void 0;const r=i(986),n=i(4254),a=i(9965),s=i(6662),o=i(7360),d=i(1800),l=i(7749),c=i(8253),u=i(712),p=i(8317),h=i(912),g=i(8996),m=i(3380),v=i(425),b=i(5492),y=i(749),f=i(8781);class w extends h.BaseAdDataCollector{isSupported(){return!0}startCollectData(e){o.EventBus.addEventListener(o.DvEvent.adVideoCompleteData,this.adVideoComplete.bind(this)),this.viewabilityInterval=l.DvTagDataObject.getTagType()==u.DvTagType.Video?200:100;const t=e.viewabilityCalculationMethod||this.getSupportedMethod(e);t&&(e.viewabilityCalculationMethod=t,e.viewabilityCalculationType=t.getMethodId(),this.publishAdViewabilityData(e),e.viewabilityIntervalId=v.BrowserAdaptor.setInterval(this.publishAdViewabilityData.bind(this,e),this.viewabilityInterval))}stopCollectData(e){this.stopViewabilityInterval(e)}adVideoComplete(e){this.stopViewabilityInterval(e.adCandidate)}stopViewabilityInterval(e){e.viewabilityIntervalId&&(v.BrowserAdaptor.clearInterval(e.viewabilityIntervalId),e.viewabilityCalculationMethod&&e.viewabilityCalculationMethod.destroyAdCandidateMethod(e),e.viewabilityIntervalId=void 0)}getSupportedMethod(e){let t,i=[g.OmidMethod];return m.Utilities.isInAppSupported(e.supportedDeliveryType)?t=[...i,b.AdColonyMethod,f.Mraid3Method,p.MraidMethod]:(t=[n.GeometricMethod,a.IntersectionObserverMethod,c.AmpIntersectionObserverMethod,r.ResourceBased,s.ScreenGeometricMethod],m.Utilities.isCtvSupported(e.supportedDeliveryType)||(t=[g.OmidMethod,...t])),t.filter((t=>t.isSupported(e)))[0]}publishAdViewabilityData(e){try{let t=e.viewabilityCalculationMethod.getAdCandidateAssets(e);t&&o.EventBus.dispatchEvent(o.DvEvent.viewabilityIntervalData,new d.AdCandidateEventData(e,t)),this.checkIfElementAttachedToDocoment(e)}catch(e){y.MessageHandler.sendError(u.ClientErrorType.MeasurementError,e)}}checkIfElementAttachedToDocoment(e){e.timeMsUntilAdNotAttached||v.BrowserAdaptor.isElementAttachedToDocument(e.domElement)||(e.timeMsUntilAdNotAttached=m.Utilities.getTimeDiff(),o.EventBus.dispatchEvent(o.DvEvent.reportData,new d.AdCandidateEventData(e)))}}t.ViewabilityDataCollector=w},455:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AdCandidateData=void 0;t.AdCandidateData=class{constructor(e){this.state=1,this.priority=1,this.domEvents={},this.wasAdStopped=!1,this.isPaused=!1,this.videoPlaybackHtml5QuartileId=1,this.videoPlaybackHtml5Events=[],this.playingTimeStamps=[],this.lastVideoIsPlayingStatus=!1,this.volumeDurationQuartileId=1,this.IABAdViewableForXSecondsViewedTime=0,this.iabViewablitiyTimeToCheck=[5,10,15],this.IABAdViewableForXSecondsdurationRequirement=5e3,this.boundariesViewed={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},this.iabViewedTime=0,this.iabVideoQuartileId=1,this.iabVideoQuartileViewed=0,this.videoFullQuartileViewabilityId=1,this.videoFullQuartileAudibleId=1,this.notViewableReasonWasInFocus=!1,this.notViewableReasonWasInViewPort=!1,this.notViewableReasonConsecutiveViewTime=0,this.notViewableReasonCumulativeViewTime=0,this.notViewableReasonWasViewed=!1,this.notViewableReasonVideoPlayed=!1,this.customViewedTime=0,this.customStandardViewedTime=0,this.customAdvertiserStandardViewedTime=0,this.kmeStartMeasure=!1,this.kmeConditionsFailed=!1,this.groupMViewedTime=0,this.groupMV4DisplayViewedTime=0,this.groupMV4VideoReachExtensionViewedTime=0,this.groupMV4VideoNativeViewedTime=0,this.groupMV4DisplayViewedTimeLog=0,this.pmxViewedTime=0,this.videoBucketsQuartileId=1,this.viewabilityIntervalDataCalled=!1,this.autoplayEventSubscriptionIds=[],this.videoPlaybackByVpaidEventSubscriptionIds=[],this.domElement=e}markAdQuartile(e,t){switch(t){case 1:this.exposureFirstQuartileBitwise=this.exposureFirstQuartileBitwise|e;break;case 2:this.exposureSecondQuartileBitwise=this.exposureSecondQuartileBitwise|e;break;case 3:this.exposureThirdQuartileBitwise=this.exposureThirdQuartileBitwise|e;break;case 4:this.exposureFourthQuartileBitwise=this.exposureFourthQuartileBitwise|e}}}},5261:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CeltraDomAdData=void 0;const r=i(8564);class n extends r.DomAdData{constructor(e,t,i,r){super(t,i,r),this.celtraTagSearchMethod=e,this.domElement=t,this.depth=i,this.isFullyLoaded=r}}t.CeltraDomAdData=n},7658:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TPSDataMapping=t.RTSDataMapping=t.AdDataMappingToReport=void 0,t.AdDataMappingToReport={timeMsUntilAdMeasured:"ismms",unadjustedTimeMsUntilAdMeasured:"isumms",isViewabilityEligible:"isvelg",notViewableReason:"nvr",groupMTimeMsUntilAdMeasured:"isgmmims",groupMV4TimeMsUntilAdMeasured:"isgmv4mims",adElementType:"elmtp",measuredElementType:"metp",measuredElementExtractorId:"meeid",largestChildElementHeight:"lceh",largestChildElementWidth:"lcew",viewabilityDisplayBucketsUnloadTime:"isbxdms",b0:"b0",b1:"b1",b2:"b2",b3:"b3",b4:"b4",b5:"b5",b6:"b6",b7:"b7",b8:"b8",b9:"b9",b10:"b10",b11:"b11",napt:"napt",isq1ms:"isq1ms",q1b0:"q1b0",q1b1:"q1b1",q1b2:"q1b2",q1b3:"q1b3",q1b4:"q1b4",q1b5:"q1b5",q1napt:"q1napt",isq2ms:"isq2ms",q2b0:"q2b0",q2b1:"q2b1",q2b2:"q2b2",q2b3:"q2b3",q2b4:"q2b4",q2b5:"q2b5",q2napt:"q2napt",isq3ms:"isq3ms",q3b0:"q3b0",q3b1:"q3b1",q3b2:"q3b2",q3b3:"q3b3",q3b4:"q3b4",q3b5:"q3b5",q3napt:"q3napt",isq4ms:"isq4ms",q4b0:"q4b0",q4b1:"q4b1",q4b2:"q4b2",q4b3:"q4b3",q4b4:"q4b4",q4b5:"q4b5",q4napt:"q4napt",q1ad:"q1ad",q2ad:"q2ad",q3ad:"q3ad",q4ad:"q4ad",maxVideoVolume:"avmax",minVideoVolume:"avmin",adHeight:"adhgt",adWidth:"adwdth",normalizedAdWidth:"norwdth",normalizedAdHeight:"norhgt",accumulativeTimeOrientationLandscape:"tmsl",accumulativeTimeOrientationPortrait:"tmsp",isEngagementEligible:"engisel",avgViewableShareOfScreen:"vsos",shareOfScreenNotMeasuredReason:"dvp_vsosnmr",shareOfScreenReadFromViewportReport:"dvp_vsosrfvp",viewPortMetaTagWidth:"dvp_mvpw",viewPortMetaTagHeight:"dvp_mvph",viewPortMetaTagInitialScale:"dvp_mvpis",viewPortMetaTagScalable:"dvp_mvpiss",minViewportWidth:"dvp_minvpw",minViewportHeight:"dvp_minvph",maxViewportWidth:"dvp_maxvpw",maxViewportHeight:"dvp_maxvph",accumulativeTimeInFocus:"attif",looseFocusFalseBucket:"lffb",looseFocusTrueBucket:"lftb",strictFocusFalseBucket:"sffb",strictFocusTrueBucket:"sftb",adDuration:"vad",adDurationCalculationType:"dvp_vadt",omidPlaybackStartIndicator:"omap",adVideoTimeLine:"vattp",timeUntilUnloadMs:"dvp_unl",timeUntilUnloadMsParam:"tuums",depth:"msrdp",locatorMethods:"naral",viewabilityCalculationType:"vct",viewportHeight:"vphgt",viewportWidth:"vpwdth",adWrapperHeight:"chgt",adWrapperWidth:"cwdth",screenHeight:"scrhgt",screenWidth:"scrwdth",startPercentage:"strp",adVisibleOnload:"advisonl",rBV1PassedMs:"isrbpms",timeMsUntilAdViewed:"isiabvms",unadjustedTimeMsUntilAdViewed:"isuiabvms",groupMTimeMsUntilAdViewed:"isgmpims",groupMV4DisplayTimeMsUntilAdViewed:"isgmv4dpims",groupMV4DisplayTimeMsUntilAdViewedLog:"dvp_gmv4p",pmxTimeMsUntilAdViewed:"ispmxpms",customTimeMsUntilAdViewed:"iscvmvms",customStandardTimeMsUntilAdViewed:"iscspms",kmeTimeMsUntilAdViewed:"isbvmvms",customAdvertiserStandardType:"cavst",customAdvertiserStandardTimeMsUntilAdViewed:"iscavspms",videoPlaybackIndicatorDvp:"dvp_vpb",videoPlaybackIndicator:"vpm",isVideoPreRendered:"prplyd",timeMsUntilVideoPlayed:"dvp_plydms",groupMV4VideoReachExtensionTimeMsUntilAdViewed:"isgmv4vrpims",groupMV4VideoNativeTimeMsUntilAdViewed:"isgmv4vnpims",timeMsUntilAdAudibleAndViewableOnCompletionMs:"qcmpiabva",lastTimeMsVolumeMute:"admutems",timeMsUntilVolumeMeasured:"isavmms",q1vpend:"q1vpend",q2vpend:"q2vpend",q3vpend:"q3vpend",q4vpend:"q4vpend",q1ps:"q1ps",q2ps:"q2ps",q3ps:"q3ps",q4ps:"q4ps",q1iabvms:"q1iabvms",q2iabvms:"q2iabvms",q3iabvms:"q3iabvms",q4iabvms:"q4iabvms",exposureFirstQuartileBitwise:"q1ei",exposureSecondQuartileBitwise:"q2ei",exposureThirdQuartileBitwise:"q3ei",exposureFourthQuartileBitwise:"q4ei",adSkippedTime:"isadskippedms",adSkippableMs:"adskippblems",initialOrientationType:"inor",timeMsUntilTouch:"engtchms",timeMsUntilHover:"enghvms",timeMsUntilClick:"engclkms",timeMsUntilAdSizeIncrease:"engsincms",timeMsUntilAdSizeDecrease:"engsdcms",timeMsUntilAdLocated:"engalms",timeMsUntilFocusIn:"engifcsms",timeMsUntilFocusOut:"engofcsms",clickMeasurementMethod:"dvp_ces",timeMsUntilMouseMove:"engmsmvms",timeMsUntilKeyPress:"engkpssms",timeMsUntilScroll:"engscrlms",timeMsUntilOrientationChangeToPortrait:"engocptms",timeMsUntilOrientationChangeToLandscape:"engoclpms",timeMsUntilVolumeIncrease:"engvlincms",timeMsUntilVolumeDecrease:"engvldcms",timeMsUntilVolumeUnMute:"engvlumms",timeMsUntilVolumeMute:"engvlmtms",timeMsUntilPause:"engvpsdms",timeMsUntilResume:"engvrsmms",timeMsUntilSkip:"engvskpms",timeMsUntilAbandon:"engvabnms",engagementAudienceDisengaged:"dvp_engaud",engagementAudienceEngaged:"dvp_engaud",engagementAudienceNoEngagement:"dvp_engaud",engagementAudienceInterested:"dvp_engaud",videoViewabilityIntervalDataAdSizeMethod:"dvp_vvasm",videoViewabilityIntervalDataAdSize:"dvp_vvas",preVideoAdLoaded:"dvp_in1",preVideoAdStarted:"dvp_in2",preVideoAdImpression:"dvp_in3",preVideoAdStopped:"dvp_in4",autoplayDetectionMethod:"dvp_autpm",mraidVersion:"dvp_mraidver",hiddenAdsIndicator:"dvp_hdnAd",adEngagement:"dvp_adEng",pageEngagement:"dvp_pageEng",noEngagement:"dvp_noEng",omidEvents:"omev",omidGeometryReasonsBitWise:"dvp_omgr",omidTimeMsUntilStartSession:"dvp_omstsms",omidTimeMsUntilImpression:"dvp_omimms",omidTimeMsUntilStartVideo:"dvp_omstms",omidTimeMsUntilEndVideo:"dvp_omensms",omidContainerGeometryHeight:"dvp_ocgh",omidContainerGeometryWidth:"dvp_ocgw",omidMeasuringElement:"dvp_ome",omidCreativeVsContainerIndicator:"dvp_omcvc",omidImpressionType:"omit",omidUnknownImpressionType:"dvp_omuit",omidCreativeType:"omct",omidUnknownCreativeType:"dvp_omuct",omidRenderLogicLog:"dvp_orll",omidPageUrl:"ompurl",omidWebClientEnvironmentLog:"dvp_omdwbclenv",omidEnvironmentDvp:"dvp_omdenv",omidAdSessionType:"omdsessiontype",omidPartnerName:"dvp_omdnpn",omidPartnerVersion:"dvp_omdnpv",omidJSImplementer:"dvp_omdjsimp",omidJSServiceVersion:"dvp_omdjssv",omidJSSessionClientVersion:"dvp_omdjsscv",omidJSPartnerName:"dvp_omdjspn",omidJSPartnerVersion:"dvp_omdjspv",omidCustomReferenceData:"dvp_omdcrd",shareOfScreenLastDevicePixelRatio:"dvp_dpr",devicePixelRatioChanged:"dvp_sosdprc",screenSizeChanged:"dvp_sosssc",adSizeChanged:"dvp_sosadc",timeMsUntilAdNotAttached:"dvp_anatd",reasonForRenderedByContainerRenderLogic:"dvp_rfrcl",reasonForNotRenderedByContainerRenderLogic:"dvp_rfnrcl",timeUntilPageHideEventNonPersistedMs:"yld_phnpms",visitResponseSize:"vstsz"},t.RTSDataMapping={timeMsUntilAdMeasured:"IABMeasuredImpression",timeMsUntilAdViewed:"IABViewableImpression",groupMTimeMsUntilAdMeasured:"GroupMMeasuredImpression",groupMTimeMsUntilAdViewed:"GroupMPassedImpression",groupMV3TimeMsUntilAdViewed:"GroupMV3StandardPassedImpression",groupMV4TimeMsUntilAdViewed:"GroupMV4StandardPassedImpression",customTimeMsUntilAdViewed:"CustomViewabilityViewable",q1iabvms:"VideoQuartile1ViewableIAB",q2iabvms:"VideoQuartile2ViewableIAB",q3iabvms:"VideoQuartile3ViewableIAB",q4iabvms:"VideoQuartile4ViewableIAB",iabv5:"IABAdViewable5Seconds",iabv10:"IABAdViewable10Seconds",iabv15:"IABAdViewable15Seconds",pmxTimeMsUntilAdMeasured:"PMXStandardMeasuredImpression",pmxTimeMsUntilAdViewed:"PMXStandardPassedImpression",groupMV4DisplayTimeMsUntilAdViewed:"GroupMV4DisplayStandardPassedImpression",groupMV4VideoReachExtensionTimeMsUntilAdViewed:"GroupMV4VideoReachExtensionStandardPassedImpression",groupMV4VideoNativeTimeMsUntilAdViewed:"GroupMV4VideoNativeStandardPassedImpression",engagementAudienceDisengaged:"EngagementAudienceDisengaged",engagementAudienceEngaged:"EngagementAudienceEngaged",engagementAudienceNoEngagement:"EngagementAudienceNoEngagement",engagementAudienceInterested:"EngagementAudienceInterested",adEngagement:"AdInteraction",pageEngagement:"DeviceInteraction",noEngagement:"NoInteraction"},t.TPSDataMapping={checksum:"jurtd",flavor:"flvr",timeToMeasureMs:"ttmms",timeToFirstReportMs:"ttfrms",timeToFirstUpdateReportMs:"ttfurm",totalMeasurementExecTime:"tmet",browserId:"brid",browserVersion:"brver",browserIdUserAgent:"bridua",browserDetectionSource:"bds",trafficScenarioType:"tstype",isPreRender:"prndr",eparams:"eparams",windowDepth:"srcurlD",additionalUrlDepth:"aUrlD",isSsl:"ssl",diffSsl:"dvp_diffSSL",isMraid:"ismraid",isOvv:"isovv",prePlayed:"prplyd",supplySource:"sup",dvtp_src_fetchStart:"dfs",dvtp_src_duration:"ddur",uid:"uid",callbackName:"jsCallback",tagVersion:"dvtagver",nativeUserAgent:"navUa",postMessageSupported:"htmlmsging",isChrome:"chro",historySize:"hist",innerHeight:"winh",innerWidth:"winw",outerHeight:"wouh",outerWidth:"wouw",screenHeight:"scah",screenWidth:"scaw",queuePageID:"qpgid",crawlerUrl:"curl",isScriptInHeadLocation:"dvp_isOnHead",scriptVersion:"jsver",dvtpScriptVersion:"tgjsver",idcResults:"vavbkt",idcError:"dvp_idcerr",idcVersion:"lvvn",browserSignatureFamilyBits:"bsig",browserSignatureBits:"usig",hijackedDeviceSignatureBits:"hdsig",browserFeatures:"m1",referrerDepth:"refD",referrerUrl:"referrer",referrerUrlExtractedFromSafeFrame:"urlsrc",safeFrameExists:"sfe",widgetCount:"fwc",cookieLength:"fcl",domainLookupTime:"flt",documentElementCount:"fec",iframeCount:"fcifrms",historyLength:"brh",omidVendorKey:"dvp_omvk",omidEnvironment:"omdenv",omidWebEnvironmentLog:"dvp_omdwbenv",omidAdSessionType:"omdsessiontype",omidAppId:"omdappid",omidPartnerVersion:"dvp_omdnpv",omidAppLibraryVersion:"dvp_omdalv",omidJSServiceVersion:"dvp_omdjssv",omidJSSessionClientVersion:"dvp_omdjsscv",omidJSPartnerName:"dvp_omdjspn",omidJSPartnerVersion:"dvp_omdjspv",omidDeviceType:"dvp_omddt",omidDeviceOSVersion:"dvp_omddosv",omidDeviceOS:"dvp_omddos",omidCustomReferenceData:"dvp_omdcrd",omidContentUrl:"omcurl",omidSupports:"dvp_omdsupp",omidAccessMode:"omacm",scriptDynamicFlags:"sdf",omidTagsCounter:"dvp_tgco",eparamsLength:"dvp_epl",vastWrapperUrl:"wrapperurl",numberOfCores:"noc",hasTouchPad:"touch",navigatorPlatform:"nav_pltfrm",ctx:"ctx",cmp:"cmp",ipos:"ipos",sid:"sid",plc:"plc",adid:"adid",crt:"crt",btreg:"btreg",btadsrv:"btadsrv",adsrv:"adsrv",advid:"advid",num:"num",pid:"pid",crtname:"crtname",unit:"unit",chnl:"chnl",scusrid:"scusrid",tagtype:"tagtype",sr:"sr",dt:"dt",dup:"dup",app:"app",dvvidver:"dvvidver",turl:"turl",icall:"icall",dv_callback:"dv_callback",useragent:"useragent",xff:"xff",timecheck:"timecheck",tvcp:"tvcp",vssd:"vssd",apifw:"apifw",vstvr:"vstvr",seltag:"seltag",sadv:"sadv",ord:"ord",litm:"litm",scrt:"scrt",invs:"invs",splc:"splc",adu:"adu",spos:"spos",c1:"c1",c2:"c2",c3:"c3",c4:"c4",c5:"c5",c6:"c6",c7:"c7",c8:"c8",c9:"c9",c10:"c10",c11:"c11",c12:"c12",c13:"c13",c14:"c14",c15:"c15",native:"native",gmnpo:"gmnpo",isdvvid:"isdvvid",vpaidPlayerUrl:"dvpx_asuri",msrapi:"msrapi",bsimpid:"bsimpid",auctionid:"auctionid",vermemid:"vermemid",source:"source",buymemid:"buymemid",anadvid:"anadvid",ioid:"ioid",cpgid:"cpgid",cpid:"cpid",sellerid:"sellerid",pubid:"pubid",advcode:"advcode",iocode:"iocode",cpgcode:"cpgcode",cpcode:"cpcode",pubcode:"pubcode",prcpaid:"prcpaid",auip:"auip",auua:"auua",prr:"prr",iframe:"iframe",gdpr:"gdpr",gdpr_consent:"gdpr_consent",errorURL:"errorURL",auprice:"auprice",ppid:"ppid",audeal:"audeal",auevent:"auevent",auadv:"auadv",aucmp:"aucmp",aucrtv:"aucrtv",auorder:"auorder",ausite:"ausite",auplc:"auplc",auxch:"auxch",audvc:"audvc",aulitem:"aulitem",auadid:"auadid",pltfrm:"pltfrm",aufilter1:"aufilter1",aufilter2:"aufilter2",autt:"autt",aubndl:"aubndl",supportedIntegrations:"mib"}},8170:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticParamsSingleton=void 0;const r=i(749);t.DiagnosticParamsSingleton=new class{constructor(){this.lastValueReported={}}getQueryParamName(e){return`ee_dp_${e}`}reportDiagnosticParam(e,t){const i=this.getQueryParamName(e);r.MessageHandler.sendMessage({[i]:t})}report(e,t){if(this.lastValueReported[e]!==t){this.lastValueReported[e]=t;const i=this.getQueryParamName(e);r.MessageHandler.sendMessage({[i]:t})}}reportOnce(e,t){if(!(e in this.lastValueReported)){this.lastValueReported[e]=t;const i=this.getQueryParamName(e);r.MessageHandler.sendMessage({[i]:t})}}}},8564:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DomAdData=void 0;t.DomAdData=class{constructor(e,t,i){this.domElement=e,this.depth=t,this.isFullyLoaded=i}}},1800:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TaskTimingEventData=t.LongTaskEventData=t.PerformanceEventData=t.AdRenderedEventData=t.ReserveAdLocatorData=t.DelayTimerData=t.AdCandidateEventData=t.EventData=void 0;const r=i(3380);class n{constructor(e){this.updateTime=e||r.Utilities.getTimeDiff()}}t.EventData=n;t.AdCandidateEventData=class extends n{constructor(e,t={}){super(t.updateTime),this.adCandidate=e,this.relevantData=t,this.updateTime=t.updateTime||this.updateTime,t.updateTime=this.updateTime}};t.DelayTimerData=class extends n{constructor(e){super(),this.delayTimeMS=e}};t.ReserveAdLocatorData=class extends n{constructor(e){super(),this.adPriority=e}};t.AdRenderedEventData=class extends n{constructor(e){super(),this.uid=e}};t.PerformanceEventData=class extends n{constructor(e,t){super(),this.performanceData=e,this.adData=t}};t.LongTaskEventData=class extends n{constructor(e){super(),this.longTasks=e}};t.TaskTimingEventData=class extends n{constructor(e){super(),this.taskTimings=e}}},9878:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TPSData=void 0;const r=i(3380);t.TPSData=class{constructor(){this.tagVersion="6.1.src",this.scriptVersion=r.Utilities.getVersion(),this.trafficScenarioType=0,this.additionalParams={},this.dvpParamsFlags=[]}}},6986:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});const r=i(138);i(6875),i(8962);const n=i(1759),a=i(6671),s=i(194),o=i(749),d=i(425),l=i(7360),c=i(7749),u=i(1800),p=i(3868),h=i(3380),g=i(712),m=i(3219),v=i(8010),b=i(9688),y=i(8397),f=i(6574),w=i(5390),D=i(6783),E=i(9106),S=i(7998),A=i(6892),T=i(2221),C=i(1079),M=i(370),V=i(8213),I=i(6800),O=i(8357),P=i(8453),B=i(1059),_=i(992),L=i(4194),k=i(8733),R=i(9582),W=i(6254),j=i(4932),x=i(6674),U=i(4115),F=i(1822),N=i(9878),z=i(5070),H=i(4053),G=i(7741),q=i(8456),Q=i(5817),K=i(7026),$=i(6681),J=i(6689),X=i(1063),Y=i(6625),Z=i(3038),ee=i(6820),te=i(68);Z.default.setInitFireVisitImportsEndTime(),Z.default.setInitFireVisitImportsStartTime(r.initFireVisitImportsStartTime),t.default=()=>new Promise(((e,t)=>{!function(e){function t(){const{omidJsClient:e,omidSessionData:t,isDomlessEnvironment:i,isFrameSupported:r,tags:n,tagsCounter:a,omidSessionStartTime:s,omidVendorKey:o,tagData:d,restrictedAccess:l,pubSub:c,isPubSubEval:u,sharedUniqueKey:p,dvGetOmidVerificationClient:h}=$dv;$dv={dvGetOmidVerificationClient:h,omidJsClient:e,omidSessionData:t,isDomlessEnvironment:i,isFrameSupported:r,tags:n,tagsCounter:a,omidSessionStartTime:s,omidVendorKey:o,tagData:d,restrictedAccess:l,pubSub:c,isPubSubEval:u,sharedUniqueKey:p}}function i(){const e=s.DvObject.getImpressionId(dvWindow);s.DvObject.setImpressionId(e),o.MessageHandler.firePreviousEvents(),o.MessageHandler.sendMessage({msrjs:h.Utilities.getVersion()}),l.EventBus.dispatchEvent(l.DvEvent.impressionServed,new u.EventData)}function r(){const e=s.DvObject.getFrameId(dvWindow),t=s.DvObject.getImpressionId(dvWindow),r=s.DvObject.getDvObject();r.isPubSubEval||t||(r.pubSub=l.EventBusGlobal,r.isPubSubEval=!0),r.pubSub.excludeFrameId&&r.pubSub.excludeFrameId(e),r.pubSub.subscribe(l.DvEvent.impressionServed,e,"DVM_impressionServed",i)}function ie(){return[X.VpaidWrapper,$.MraidWrapper,J.OmidWrapper]}function re(){const e=ie();return[new v.DvParamsCollector,new k.ParamUrlExtractionMethodCollector,new b.BrowserCollector,new y.TrafficScenarioCollector,new m.PreRenderCollector,new P.MraidCollector,new W.OmidContextCollector,new R.TpsApiTypeCollector,new O.SslCollector,new B.SupplySourceCollector,new j.ReferrerCollector,new S.WindowPropertiesCollector,new f.StrCollector,new w.VideoParamsCollector,new D.IOSMapleCollector,new A.DomScriptCollector,new T.ScriptsPerformanceCollector,new C.UserCollector,new M.BrowserSignatureCollector,new _.InjectionDetectionCodeCollector,new L.HijackedDeviceSignatureCollector,new V.BrowserFeaturesCollector,new I.AttributeCollector,new E.VpaidPlayerUrlCollector,new x.VastUrlCollector,new U.HardwareFeaturesCollector,new F.SupportedIntegrationsCollector(e)]}function ne(e){return[new z.TPSDataCollector(e),new G.MeasureGdpr,new q.MeasureGdprV2,new H.GlobalVariablesInjection]}function ae(){c.DvTagDataObject.start(),K.RenderLogicFactory.getRenderLogic().start(),X.VpaidWrapper.start();const e=ne(re()),t=new N.TPSData;return e.forEach((e=>{try{e.isSupported(t)&&e.executePhase(t)}catch(t){o.MessageHandler.sendError(g.ClientErrorType.VisitLogicError,t,e.toString())}})),t}function se(){return!1}function oe(e,t){Z.default.setFireVerifyExecutionStartTime();(0,Y.BlockingHandler)(e,t,d.BrowserAdaptor,s.DvObject,c.DvTagDataObject,p.WindowAdaptor,h.Utilities).execute(),Z.default.setFireVerifyExecutionEndTime()}function de(){if(!c.DvTagDataObject.getIsCm360CreativeWrapping()||c.DvTagDataObject.getTagType()!==g.DvTagType.Display)return;const e=c.DvTagDataObject.getCm360ContainerId(),t=d.BrowserAdaptor.getElementById(e);t&&d.BrowserAdaptor.setElementStyle(t,"visibility","")}function le(e){Z.default.setFireVisitExecutionStartTime();const t=new Q.ScriptsInjection;t.isSupported()&&t.executePhase(e),he=!0,Z.default.setFireVisitExecutionEndTime()}function ce(t){de(),le(t),e()}function ue(){if(Z.default.setInitMainExecutionStartTime(),t(),r(),!d.BrowserAdaptor.isBrowserSupported())return;te.ExperimentsFeatureFlags.init(ee.isPerformanceTimingAllowed);const e=(0,ee.invokeWithPerformanceMeasures)({name:"ctdetms"},ae);se()?oe(e,ce):c.DvTagDataObject.getIsMonitoring()&&ce(e),Z.default.setInitMainExecutionEndTime()}function pe(){if(!ee.isPerformanceTimingAllowed)return;const e=Z.default.getBenchmarks();(0,ee.scheduleTask)((()=>{[...e,{taskDetails:{name:"srbf"},startTime:0,endTime:se()?2:1}].forEach((({taskDetails:e,startTime:t,endTime:i})=>(0,ee.reportTaskTiming)(e,t,i)))}))}let he=!1;try{s.DvObject.setDvGetOmidVerificationClient(n);const e=new a.OmidVerificationClientWrapper(n());e.isSupported()?e.ready(ue):ue(),Z.default.setTotalSyncTimeEndTime(),pe()}catch(e){he?o.MessageHandler.sendError(g.ClientErrorType.PostMeasuredGlobalMainError,e):o.MessageHandler.sendError(g.ClientErrorType.PreMeasuredGlobalMainError,e)}}(e)}))},3978:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});const r=i(3038),n=i(1030),a=i(4342),s=i(1849),o=i(334),d=i(6265),l=i(720),c=i(1847),u=i(3502),p=i(6991),h=i(5765),g=i(7196),m=i(8720),v=i(3738),b=i(8642),y=i(2181),f=i(8123),w=i(8029),D=i(5152),E=i(5993),S=i(1354),A=i(3454),T=i(5157),C=i(1061),M=i(7912),V=i(7175),I=i(6825),O=i(4691),P=i(7827),B=i(9045),_=i(6490),L=i(5409),k=i(7642),R=i(4241),W=i(1391),j=i(3054),x=i(4771),U=i(8877),F=i(7938),N=i(458),z=i(1726),H=i(9611),G=i(9401),q=i(8635),Q=i(5500),K=i(4892),$=i(6128),J=i(7015),X=i(2020),Y=i(2968),Z=i(6715),ee=i(710),te=i(4021),ie=i(9608),re=i(1886),ne=i(5784),ae=i(6901),se=i(876),oe=i(615),de=i(223),le=i(8463),ce=i(4183),ue=i(7999),pe=i(6044),he=i(1816),ge=i(3363),me=i(1006),ve=i(9289),be=i(8874),ye=i(5443),fe=i(2359),we=i(8345),De=i(8076),Ee=i(6355),Se=i(8409),Ae=i(5648),Te=i(3831),Ce=i(3723),Me=i(2530),Ve=i(4372),Ie=i(2727),Oe=i(1074),Pe=i(3500),Be=i(9295),_e=i(2452),Le=i(6195),ke=i(3081),Re=i(9615),We=i(4153),je=i(2294),xe=i(5593),Ue=i(1776),Fe=i(7815),Ne=i(1194),ze=i(3384),He=i(417),Ge=i(6593),qe=i(7527),Qe=i(2237),Ke=i(9198),$e=i(1606),Je=i(5747),Xe=i(6789),Ye=i(3773),Ze=i(9443),et=i(7898),tt=i(677),it=i(8130),rt=i(9260),nt=i(4846),at=i(4816),st=i(4620),ot=i(3820),dt=i(6018),lt=i(7257),ct=i(8476),ut=i(9969),pt=i(7571),ht=i(9171),gt=i(5906),mt=i(1634),vt=i(1153),bt=i(172),yt=i(554),ft=i(8066),wt=i(6707),Dt=i(6820),Et=i(1328),St=i(749),At=i(712);function Tt(){new a.PageEventsLoggerBL,new s.OmidLoggerBL,new o.OmidImpressionEventInfoBL,new d.ExposureCompatibilityIndicator,new l.EligibilityCompatibilityIndicator,new c.AdSelectorLogger,new u.AdElementInfoExtractorBL,new p.CreativeVsContainerBL,new h.AdDomElementObserverBL,new g.ExposureBL,new m.AdSizeBL,new v.AdWrapperSizeBL,new b.PMXDisplayViewabilityBL,new y.PMXVideoViewabilityBL,new f.IabNotViewReasonsViewabilityBL,new w.IabDisplayViewabilityBL,new D.IabVideoViewabilityBL,new E.IabVideoQuartileViewabilityBL,new S.VideoQuartileFullOnScreenBL,new A.VideoFullQuartileAudibleBL,new T.IabDisplayViewabilityForXSecondsBL,new C.IabVideoViewabilityForXSecondsBL,new M.GroupMDisplayViewabilityBL,new V.GroupMVideoViewabilityBL,new I.GroupMV4NonMobileDisplayViewabilityBL,new O.GroupMV4MobileDisplayViewabilityBL,new P.GroupMV4VideoNativeViewabilityBL,new B.GroupMV4VideoReachExtensionViewabilityBL,new _.CustomDisplayViewabilityBL,new L.CustomStandardDisplayViewabilityBL,new k.CustomVideoViewabilityBL,new R.CustomStandardVideoViewabilityBL,new W.CustomAdvertiserViewabilityStandardBL,new j.KMEVideoViewabilityBL,new x.BucketsDisplayViewabilityBL,new U.BucketsVideoViewabilityBL,new F.EndQuartileViewabilityBL,new N.RbViewabilityBL,new z.ViewabilityStartPercentageBL,new H.QuartileBucketsVolumeBL,new G.ReportAdManagerRTS,new q.JsCallbackBL,new Q.MobileOrientationBL,new K.FocusBucketsBL,new $.Cm360Logger(new J.Cm360AdContainerInspectorFactory("data-doubleverify-container")),new X.RenderingMethodLogger,new Y.PerformanceMetricsBL,new Z.ViewableShareOfScreenBL,new ee.EngagementCompatibilityIndicator,new te.AdSelector,new ie.AdLocatedBL,new re.VideoMarkImpressionAsRenderedBL,new ne.VideoStoppedBL,new ae.VideoSkippableBL,new se.VideoCompleteBL,new oe.VideoLengthBL,new de.VolumeBL,new le.InteractionHoverBL,new ce.InteractionTouchBL,new ue.InteractionClickBL,new pe.InteractionVolumeBL,new he.InteractionPauseBL,new ge.InteractionResumeBL,new me.InteractionSkipBL,new ve.InteractionAbandonBL,new be.InteractionFocusBL,new ye.InteractionAdSizeBL,new fe.PageInteractionKeyPressBL,new we.PageInteractionMouseMoveBL,new De.PageInteractionScrollBL,new Ee.PageInteractionOrientationChangeLandscapeBL,new Se.PageInteractionOrientationChangePortraitBL,new Ae.EngagementReportRtsBL,new Te.ReportAdManagerTPS,new Ce.DataTransparencyBL,new Me.PerformanceApiBL,new Ve.PerformanceLongTasksBL,new Et.ScriptInjectionModeBL,Dt.isPerformanceTimingAllowed&&new Ie.PerformanceTaskTimingBL,new Be.GroupMContextBL,new Oe.NormalizedAdSizeBL}function Ct(){new Pe.ShareOfScreenResearchBL}function Mt(){new _e.FocusDataCollector,new Le.StrictFocusDataCollector,new ke.ViewabilityDataCollector,new Re.BoundariesViewabilityDataCollector,new We.InteractionEventDataCollector,new je.OmidInteractionDataCollector,new xe.InteractionAdSizeDataCollector,new Ue.VideoPlaybackDataCollector,new Fe.HiddenAdsDataCollector,new Ne.AutoplayDataCollector,new ze.PageEventsDataCollector,new He.PerformanceApiDataCollector,new Ge.PerformanceLongTasksDataCollector,new Qe.InteractionUnloadDataCollector,new Ke.PageInteractionMouseMoveDataCollector,new $e.PageInteractionKeyPressDataCollector,new Je.PageInteractionScrollDataCollector,new Xe.PageInteractionOrientationChangedDataCollector}function Vt(){const e=Ze.CustomAdLocatorsFeatureFlag.isEnabled();[e?ht.CustomRegexAdLocator:vt.RegexAdLocator,e?gt.CustomMediaplexAdLocator:mt.MediaplexAdLocator,ut.FindClassAdLocator,ct.IntegratedCeltraAdLocator,lt.NonIntegratedCeltraAdLocator,dt.ParentWindowAdLocator,ot.NearestAdAdLocator,pt.SpotXAdLocator,st.DfaAdLocator,e?at.CustomSellerAdLocator:wt.SellerAdLocator,bt.InAppDefaultAdLocator,yt.NonInAppVpaidVideoAdLocator,ft.InAppVpaidVideoAdLocator,nt.InAppHtml5VideoAdLocator,rt.InmobiVideoAdLocator,it.IframeFallbackAdLocator,tt.OmidAdLocator,et.Cm360AdLocator].forEach((e=>(new e).start()))}t.default=()=>{try{r.default.setInitMeasurementExecutionStartTime();const e=[(0,Dt.trackPerformanceWhenExecuted)({name:"iabletms"},Tt),(0,Dt.trackPerformanceWhenExecuted)({name:"iadletms"},Ct),(0,Dt.trackPerformanceWhenExecuted)({name:"iadcetms"},Mt),(0,Dt.trackPerformanceWhenExecuted)({name:"ialeetms"},Vt),(0,Dt.trackPerformanceWhenExecuted)({name:"icifdetms"},(()=>new qe.CollectIframeFallbackData))];Ye.AsyncSplitInitMeasurementFeatureFlag.isEnabled()?(0,n.scheduleTasks)(e):e.forEach((e=>e())),r.default.setInitMeasurementExecutionEndTime()}catch(e){St.MessageHandler.sendError(At.ClientErrorType.PostMeasuredGlobalMainError,e,"initMeasurements")}}},8519:function(e,t,i){const r=i(3978),n=i(6986);e.exports=async()=>(await(0,n.default)(),(0,r.default)())},7527:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CollectIframeFallbackData=void 0;const r=i(7360),n=i(712),a=i(194),s=i(3868),o=i(749),d=i(425);t.CollectIframeFallbackData=class{constructor(){this.htmlSampleRate=.1,r.EventBus.addEventListener(r.DvEvent.adSelected,this.collectIframeData.bind(this))}collectIframeData(e){let t=e.adCandidate,i=a.DvObject.getImpressionId(s.WindowAdaptor.currentWindow());if(t&&t.domElement&&t.locatorMethods==n.LocatorMethods.DisplayIframeFallback){let e=s.WindowAdaptor.workingDocumentElement();100*Math.random()<=this.htmlSampleRate&&this.uploadHtml(e.outerHTML,i);let t={};this.iframeElementsTagsStatistics(e,t);let r="";Object.keys(t).forEach((e=>r+=e+":"+t[e]+",")),o.MessageHandler.registerEventCall(i,{dvp_itg:r})}}uploadHtml(e,t){let i=new Date,r=i.getDate()>9?i.getDate().toString():"0"+i.getDate().toString(),n=i.getFullYear(),a=i.getMonth()>9?i.getMonth().toString():"0"+i.getMonth().toString(),o=new XMLHttpRequest;o.open("PUT","https://d23xwq4myz19mk.cloudfront.net/htmldata/iframefallback/"+n+r+a+"/"+s.WindowAdaptor.workingWindow().location.hostname+"/"+t+"_iframefallback_data.html",!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),o.setRequestHeader("x-amz-acl","public-read"),o.send(e)}iframeElementsTagsStatistics(e,t){if(e.hasChildNodes()){let i=d.BrowserAdaptor.getElementChildren(e);for(let e of i)t.hasOwnProperty(e.nodeName)?t[e.nodeName]++:t[e.nodeName]=1,this.iframeElementsTagsStatistics(e,t)}}}},1849:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidLoggerBL=void 0;const r=i(6689),n=i(630),a=i(6751),s=i(7360),o=i(3380),d=i(194),l=i(8379);class c extends a.BaseAdBL{constructor(){super(...arguments),this.renderEventTypes={IMPRESSION_EVENT:1,GEOMETRY_CHANGE_AD_DIM:2,GEOMETRY_CHANGE_PCT_IN_VIEW:4,IMPRESSION_EVENT_PCT_IN_VIEW:8}}isSupported(){return r.OmidWrapper.isSupported()}getEventsAndCallbacksToRegister(){return{[s.DvEvent.adCandidateApproved]:e=>this.adCandidateApproved(e)}}init(){}adCandidateApproved(e){r.OmidWrapper.registerSessionObserver((t=>this.omidSessionEventHandler(e,t))),o.Utilities.objectValues(n.OmidAdEventType).filter((e=>e!==n.OmidAdEventType.MEDIA&&e!==n.OmidAdEventType.VIDEO)).forEach((t=>{r.OmidWrapper.addEventListener(t,(t=>this.omidEventHandler(t,e)))}))}omidEventHandler(e,t){try{switch(e.type){case n.OmidAdEventType.IMPRESSION:this.handleImpressionEvent(e,t);break;case n.OmidAdEventType.GEOMETRY_CHANGE:this.handleGeometricChangeEvent(e,t);break;case n.OmidAdEventType.START:this.handleStartEvent(e,t);break;case n.OmidAdEventType.COMPLETE:this.handleCompleteEvent(e,t)}this.onTriggeredOmidEvent(t,e.type)}catch(e){}}handleImpressionEvent(e,t){var i,r;let n=0;if(n|=this.renderEventTypes.IMPRESSION_EVENT,null===(r=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.adView)||void 0===r?void 0:r.percentageInView){n|=e.data.adView.percentageInView>0?this.renderEventTypes.IMPRESSION_EVENT_PCT_IN_VIEW:0}t.adCandidate.omidRenderLogicLog|=n}handleStartEvent(e,t){t.adCandidate.omidTimeMsUntilStartVideo=o.Utilities.getTimeDiff()}handleCompleteEvent(e,t){t.adCandidate.omidTimeMsUntilEndVideo=o.Utilities.getTimeDiff()}geometricChangeRenderTrigger(e){var t,i;let r=0;if(null===(i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.adView)||void 0===i?void 0:i.geometry){const t=e.data.adView.geometry.width>0&&e.data.adView.geometry.height>0,i=e.data.adView.percentageInView>0;(i||t)&&(r|=t?this.renderEventTypes.GEOMETRY_CHANGE_AD_DIM:0,r|=i?this.renderEventTypes.GEOMETRY_CHANGE_PCT_IN_VIEW:0)}return r}handleGeometricChangeEvent(e,t){t.adCandidate.omidRenderLogicLog|=this.geometricChangeRenderTrigger(e),this.extractAdViewabilityInfo(e,t)}extractAdViewabilityInfo(e,t){var i;const{containerGeometry:r,measuringElement:n}=(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.adView)||{};if(r){const{height:e,width:i}=r;t.adCandidate.omidContainerGeometryHeight=e,t.adCandidate.omidContainerGeometryWidth=i}t.adCandidate.omidMeasuringElement=this.mapOmidMeasuringElement(n),t.adCandidate.omidCreativeVsContainerIndicator=this.getCreativeVsContainerIndicator(r)}getCreativeVsContainerIndicator(e){return o.Utilities.isNullOrEmpty(e)?2:1}mapOmidMeasuringElement(e){return o.Utilities.isNullOrEmpty(e)?0:e?1:2}omidSessionEventHandler(e,t){if(null==t?void 0:t.type){if(t.type===n.OmidAdEventType.SESSION_START)this.omidSessionStartEventHandler(e,t);this.onTriggeredOmidEvent(e,t.type)}}omidSessionStartEventHandler(e,t){var i,r;d.DvObject.getDvObject().omidSessionStartTime&&(e.adCandidate.omidTimeMsUntilStartSession=o.Utilities.getTimeDiffNoAbs(d.DvObject.getDvObject().omidSessionStartTime));const n=t.data;(null==n?void 0:n.context)&&(e.adCandidate.omidJSSessionClientVersion=null===(i=n.context.omidJsInfo)||void 0===i?void 0:i.sessionClientVersion,e.adCandidate.omidJSPartnerVersion=null===(r=n.context.omidJsInfo)||void 0===r?void 0:r.partnerVersion),(null==n?void 0:n.pageUrl)&&(e.adCandidate.omidPageUrl=n.pageUrl)}onTriggeredOmidEvent(e,t){(e.adCandidate.omidEvents&l.OmidEvents[t])!=l.OmidEvents[t]&&(e.adCandidate.omidEvents|=l.OmidEvents[t],this.reportData(e))}reportData(e){s.EventBus.dispatchEvent(s.DvEvent.reportData,e)}}t.OmidLoggerBL=c},136:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TagExtensionRegistry=void 0;t.TagExtensionRegistry=()=>({tagExtensions:[],register(e,t){this.tagExtensions.push([e,t])},getTagExtensions(){return this.tagExtensions}})},3091:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;t.Context=(e,t,i,r,n,a)=>({getImpressionId:()=>e,getTagObject(){return t.getDvObject().tags[this.getImpressionId()]},messageHandler:i,eventBus:r,sendBeacon:n.sendBeacon.bind(n),addScriptAsync:n.addScriptAsync.bind(n),resolveMacros:a.resolveMacros})},1802:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AdvertiserViewabilityStandard=void 0;const r=i(8170),n=i(7749),a=i(712),s=i(7360);t.AdvertiserViewabilityStandard=(e,t)=>{const i={standardType:1,regularAd:{adPercentage:98,onFocus:!0,isConsecutive:!0,durationCap:1e3},largeAd:{adPercentage:80,onFocus:!0,isConsecutive:!0,durationCap:1e3}},o={standardType:1,regularAd:{adPercentage:98,onFocus:!0,isConsecutive:!1,durationCap:15e3,durationPercentage:50},largeAd:{adPercentage:80,onFocus:!0,isConsecutive:!1,durationCap:15e3,durationPercentage:50}},d=()=>e.cavs?{settingsSource:1,standard:e.cavs.cavsid}:e.avs?{settingsSource:2,standard:e.avs.avsid}:void 0,l=()=>{const e=d();if(1===(null==e?void 0:e.standard))return n.DvTagDataObject.getTagType()==a.DvTagType.Display?i:o},c=(e,t)=>{const i=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);return i.length===r.length&&i.every((i=>e[i]===t[i]))},u=(e,t)=>e&&t?((e,t)=>{const i=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);return i.length===r.length&&"largeAd|regularAd|standardType"===i.sort().join("|")&&(null==e?void 0:e.standardType)===t.standardType&&c(null==e?void 0:e.regularAd,t.regularAd)&&c(null==e?void 0:e.largeAd,t.largeAd)})(e,t):!e&&!t,p=()=>{const e=t.getTagObject().cavs,i=d();i&&r.DiagnosticParamsSingleton.reportOnce("avsas",i.settingsSource);const n=l();u(e,n)||r.DiagnosticParamsSingleton.reportOnce("avssma",1)};return{getId:()=>4,getDomain:()=>"ee",isSupported:()=>!0,execute(){t.eventBus.addEventListener(s.DvEvent.impressionServed,p)}}}},9532:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TagExtensionsHandler=void 0;const r=i(136),n=i(4234),a=i(2491),s=i(1802);t.TagExtensionsHandler=(e,t)=>({execute(){const i=(0,r.TagExtensionRegistry)();i.register(n.RealTimeNotifications,"rtn"),i.register(s.AdvertiserViewabilityStandard,"ee");(0,a.TagExtensionOrchestrator)(i,e,t).execute()}})},4234:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.RealTimeNotifications=void 0;const r=i(712);t.RealTimeNotifications=(e,t)=>{function i(e){const i=function(e){const i=t.getTagObject(),r=t.resolveMacros(e.url,i);return r}(e);if("image"===e.actionType)t.sendBeacon(i);else if("javascript"===e.actionType){const e=t.getTagObject().tagElement.parentElement||document.body;t.addScriptAsync(i,e)}else t.messageHandler.sendError(r.ClientErrorType.TagExtensionExecutionError,new Error("Rtn error: invalid action name"),"",{te_id:this.getId().toString()})}return{getId:()=>1,getDomain:()=>"rtn",isSupported:()=>Array.isArray(e.events)&&e.events.length>0&&"object"==typeof e.events[0],execute(){for(const r of e.events){const e=r.eventName;for(const n of r.actions)t.eventBus.subscribe(e,t.getImpressionId(),`RTN_${e}`,i.bind(this,n))}}}}},2491:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TagExtensionOrchestrator=void 0;const r=i(749),n=i(712),a=i(3091),s=i(194),o=i(7360),d=i(3380),l=i(425),c=i(5501);t.TagExtensionOrchestrator=(e,t,i)=>({execute(){var u;const p=e.getTagExtensions(),h=(0,a.Context)(t,s.DvObject,r.MessageHandler,o.EventBusGlobal,l.BrowserAdaptor,d.Utilities);let g=0;for(const[e,t]of p){const a=e(null!==(u=i[t])&&void 0!==u?u:{},h);if(a.isSupported())try{a.execute(),g|=a.getId()}catch(e){r.MessageHandler.sendError(n.ClientErrorType.TagExtensionExecutionError,e,"",{te_id:a.getId().toString()})}}c.TagExtensionsExecutionParamsSingleton.reportTagExtensionsExecutionParams("exec",g)}})},5501:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TagExtensionsExecutionParamsSingleton=t.TagExtensionsExecutionParamsUtils=void 0;const r=i(749);class n{getQueryParamName(e){return`te_${e}`}reportTagExtensionsExecutionParams(e,t){const i=this.getQueryParamName(e);r.MessageHandler.sendMessage({[i]:t})}}t.TagExtensionsExecutionParamsUtils=n,t.TagExtensionsExecutionParamsSingleton=new n},4053:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariablesInjection=void 0;const r=i(2196),n=i(3868),a=i(3380),s=i(7749),o=i(749),d=i(7658),l=i(194),c=i(7429),u=i(712),p=i(425),h=i(9532),g=i(6142);t.GlobalVariablesInjection=class{isSupported(){return!0}executePhase(e){const t=l.DvObject.getDvObject(),i=new r.DvBackwardCompatibilityClass;t.dvObjType=t.dvObjType||i.dvObjType,t.resolveMacros=t.resolveMacros||i.resolveMacros,t.registerEventCall=t.registerEventCall||i.registerEventCall,t.createEventCallUrl=t.createEventCallUrl||i.createEventCallUrl,t.getWorkingWindow=t.getWorkingWindow||i.getWorkingWindow,t.getMraid=t.getMraid||i.getMraid,t.messages=t.messages||i.messages,t.domUtilities=t.domUtilities||i.domUtilities,t.pubSub=t.pubSub||i.pubSub,t.CommonData=t.CommonData||i.CommonData,t.tags=t.tags||i.tags,t.sendBeacon=p.BrowserAdaptor.sendBeacon.bind(p.BrowserAdaptor),"undefined"==typeof window&&n.WindowAdaptor.setGlobalVariable("window",dvWindow);const a=n.WindowAdaptor.workingWindow(),s=n.WindowAdaptor.currentWindow();a._dv_win=a,s._dv_win=a;let o=c.EventIdGeneratorAdaptor;a[e.callbackName]=(t,i,r,n,a={})=>{this.generateCallback(e,t,i,r,n,o,a)}}toString(){return"GlobalInjection"}extractHostname(e){const t=e.indexOf("//")+2,i=e.indexOf("/",t);return e.substring(t,i)}generateCallback(e,t,i,r,c,p,m){try{if(!n.WindowAdaptor.isDomlessEnvironment()){const e=n.WindowAdaptor.currentDocument();l.DvObject.setVisitReadyState(e.readyState)}t.tags[r]={},t.tags[r].type="monitoring",t.tags[r].beginVisitCallbackTS=a.Utilities.getCurrentTime(),t.tags[r].eventIdGenerator=p,t.tags[r].set=e=>{a.Utilities.extend(e,t.tags[r])},t.tags[r].getTimeDiff=()=>a.Utilities.getCurrentTime()-l.DvObject.getDvObject().tags[r].beginVisitCallbackTS,t.tags[r].tagElement=s.DvTagDataObject.getDVScript(),t.tags[r].ServerPublicDns=this.extractHostname(s.DvTagDataObject.getServerPrefix()),s.DvTagDataObject.setServerPrefix(`https://${c}/`),t.tags[r].ServerPublicDns=c,l.DvObject.setImpressionId(r),n.WindowAdaptor.setGlobalVariable("$uid",r);const u=s.DvTagDataObject.getCaseSensitiveParams();t.tags[r].set(u);const v=a.Utilities.mapData(e,d.TPSDataMapping);a.Utilities.extend(e.additionalParams,v),t.tags[r].set(v),t.tags[r].uid=r,t.tags[r].dv_protocol="https:";const b=n.WindowAdaptor.monitorScriptsPerformance(i,{visit:["duration"]});b.visit_duration&&o.MessageHandler.sendMessage({vdur:b.visit_duration}),g.ServerContext.setData(m);(0,h.TagExtensionsHandler)(r,m).execute()}catch(e){o.MessageHandler.sendError(u.ClientErrorType.TagCommunicationError,e)}}}},7741:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MeasureGdpr=void 0;const r=i(425),n=i(3868),a=i(749);t.MeasureGdpr=class{constructor(){this.cmpCallbacks={},this.getConsentDataCallback=(e,t)=>{try{const e=n.WindowAdaptor.currentWindow(),i=n.WindowAdaptor.workingDocument();e.performance.mark("dv_gdpr_end"),e.performance.measure("dv_gdpr","dv_gdpr_start","dv_gdpr_end");let r=e.performance.getEntriesByName("dv_gdpr");if(r.length>0){let e=r[0];isNaN(e.duration)||a.MessageHandler.sendMessage({dvp_gdDur:Math.round(e.duration),dvp_gdDome:"complete"==i.readyState?"1":"0",dvp_gdDoms:this.gdprIsDocumentCompleted,dvp_gdSucc:t?"1":"0"},!0)}}catch(e){this.sendGdprError("9")}},this.handleCmpReturn=e=>{try{let t="string"==typeof e.data?JSON.parse(e.data):e.data;if(t.__cmpReturn){let e=t.__cmpReturn,i=this.cmpCallbacks[e.callId];i?(i(e.returnValue,e.success),delete this.cmpCallbacks[e.callId]):this.sendGdprError("6")}}catch(e){}}}isSupported(){return!n.WindowAdaptor.isDomlessEnvironment()&&n.WindowAdaptor.isPerformanceAPISupported()}executePhase(e){this.gdprIsDocumentCompleted="complete"==n.WindowAdaptor.workingDocument().readyState?"1":"0",this.gdprPerformanceMark();let t=this.locateCmpApi();if(t&&"1"!=t)this.sendGdprError(t);else if(this.cmpFrame)if(this.cmpIsFunctionCall)this.invokeCmpCommandByFunction("getConsentData",null,this.getConsentDataCallback);else{if(!n.WindowAdaptor.isPostMessageSupported())return void this.sendGdprError("2");this.addEventListenerForCmpResponses(),this.invokeCmpCommandByPostMessage("getConsentData",null,this.getConsentDataCallback)}}toString(){return"MesasureGdpr"}locateCmpApi(){let e,t=n.WindowAdaptor.currentWindow();for(;!this.cmpFrame;){try{this.cmpIsFunctionCall="function"==typeof t.__cmp,(this.cmpIsFunctionCall||t.frames.__cmpLocator)&&(this.cmpFrame=t,e="1")}catch(t){e="3"}try{if(n.WindowAdaptor.isTop(t))break;t=n.WindowAdaptor.getWindowParent(t,!0)}catch(t){e="8";break}}return e}addEventListenerForCmpResponses(){r.BrowserAdaptor.addEventListener("message",this.handleCmpReturn,n.WindowAdaptor.currentWindow())}invokeCmpCommandByFunction(e,t,i){try{this.cmpFrame.__cmp(e,t,i)}catch(e){this.sendGdprError("4")}}invokeCmpCommandByPostMessage(e,t,i){let r=Math.random().toString(),n={__cmpCall:{command:e,parameter:t,callId:r}};this.cmpCallbacks[r]=i;try{this.cmpFrame.postMessage(n,"*")}catch(e){this.sendGdprError("5")}}gdprPerformanceMark(){n.WindowAdaptor.currentWindow().performance.mark("dv_gdpr_start")}sendGdprError(e){a.MessageHandler.sendMessage({dvp_gdpr_Error:e},!0)}}},8456:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MeasureGdprV2=void 0;const r=i(425),n=i(3868),a=i(749);t.MeasureGdprV2=class{constructor(){this.DV_VENDOR_ID=126,this.tcfCallbacks={},this.getConsentDataCallback=(e,t)=>{try{const i=n.WindowAdaptor.currentWindow(),r=n.WindowAdaptor.workingDocument();i.performance.mark("dv_gdpr_v2_end"),i.performance.measure("dv_gdpr_v2","dv_gdpr_v2_start","dv_gdpr_v2_end");const[s]=i.performance.getEntriesByName("dv_gdpr_v2");(null==s?void 0:s.duration)&&a.MessageHandler.sendMessage({dvp_gdv2_Func:this.tcfapiIsFunctionCall?"1":"0",dvp_gdv2_Applies:void 0!==(null==e?void 0:e.gdprApplies)?e.gdprApplies?"1":"0":"-1",dvp_gdv2_Succ:t?"1":"0",dvp_gdv2_Dur:Math.round(s.duration),dvp_gdv2_Doms:this.gdprIsDocumentCompletedStart,dvp_gdv2_Dome:"complete"==r.readyState?"1":"0"},!0)}catch(e){this.sendGdprV2Error("9")}},this.handleTcfMessage=e=>{try{const t=("string"==typeof e.data?JSON.parse(e.data):e.data).__tcfapiReturn;if(t){const e=this.tcfCallbacks[t.callId];e?(e(t.returnValue,t.success),delete this.tcfCallbacks[t.callId]):this.sendGdprV2Error("6")}}catch(e){}}}isSupported(){return!n.WindowAdaptor.isDomlessEnvironment()&&n.WindowAdaptor.isPerformanceAPISupported()}executePhase(e){this.gdprIsDocumentCompletedStart="complete"==n.WindowAdaptor.workingDocument().readyState?"1":"0",this.gdprV2PerformanceMark();let t=this.locateTcfFrame();if(t&&"1"!=t)this.sendGdprV2Error(t);else if(this.tcfFrame)if(this.tcfapiIsFunctionCall)this.invokeTcfCommandByFunction("addEventListener",[this.DV_VENDOR_ID],this.getConsentDataCallback);else{if(!n.WindowAdaptor.isPostMessageSupported())return void this.sendGdprV2Error("2");this.addEventListenerForTcfResponses(),this.invokeTcfCommandByPostMessage("addEventListener",[this.DV_VENDOR_ID],this.getConsentDataCallback)}}toString(){return"MesasureGdprV2"}locateTcfFrame(){let e,t=n.WindowAdaptor.currentWindow();for(;!this.tcfFrame;){try{this.tcfapiIsFunctionCall="function"==typeof t.__tcfapi,(this.tcfapiIsFunctionCall||t.frames.__tcfapiLocator)&&(this.tcfFrame=t,e="1")}catch(t){e="3"}try{if(n.WindowAdaptor.isTop(t))break;t=n.WindowAdaptor.getWindowParent(t,!0)}catch(t){e="8";break}}return e}addEventListenerForTcfResponses(){r.BrowserAdaptor.addEventListener("message",this.handleTcfMessage,n.WindowAdaptor.currentWindow())}invokeTcfCommandByFunction(e,t,i){try{this.tcfFrame.__tcfapi(e,2,i,t)}catch(e){this.sendGdprV2Error("4")}}invokeTcfCommandByPostMessage(e,t,i){const r=Math.random().toString(),n={__tcfapiCall:{command:e,parameter:t,version:2,callId:r}};this.tcfCallbacks[r]=i;try{this.tcfFrame.postMessage(n,"*")}catch(e){this.sendGdprV2Error("5")}}gdprV2PerformanceMark(){n.WindowAdaptor.currentWindow().performance.mark("dv_gdpr_v2_start")}sendGdprV2Error(e){a.MessageHandler.sendMessage({dvp_gdv2_Error:e},!0)}}},5817:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptsInjection=void 0;const r=i(3380),n=i(7658),a=i(425),s=i(3868),o=i(749),d=i(7749),l=i(712),c=i(194),u=i(3322);t.ScriptsInjection=class{constructor(){this.onLoad=()=>{r.Utilities.setLoadVisitTime(),c.DvObject.getImpressionId(null)||o.MessageHandler.sendError(l.ClientErrorType.InvalidVisitResponseError,void 0,void 0)}}isSupported(){return!0}appendPerformanceMetrics(e){const t=c.DvObject.getTagLoadedMS(),i=r.Utilities.getScriptLoadedMS(),n=r.Utilities.getCurrentTime();e.timeToMeasureMs=i-t,e.timeToFirstReportMs=e.timeToFirstReportMs||n-i}appendScriptDynamicFlags(e){const t=u.ScriptDynamicFlags.getInstance().getFlags();t&&t>0&&(e.scriptDynamicFlags=t)}getReleventServerPrefix(e){var t;const i=null===(t=d.DvTagDataObject.getParamValue("vidreg"))||void 0===t?void 0:t.toLowerCase();return i&&{ue:!0,uw:!0,eu:!0,as:!0}[i]?`https://tpsc-video-${i}.doubleverify.com/`:d.DvTagDataObject.getServerPrefix()}buildTpsQueryString(e){let t=r.Utilities.getQueryString(e,e.additionalParams,e.dvpParamsFlags,n.TPSDataMapping);const i=["gdpr","gdpr_consent"].filter((t=>!e[t]));if(i.length){t=`${i.map((e=>`${e}=`)).join("&")}&${t}`}return t+=`&${n.TPSDataMapping.checksum}=${r.Utilities.generateAdler32Hash(t)}`,t}executePhase(e){const t=Math.floor(Date.now()*Math.random());e.additionalParams||(e.additionalParams={}),e.additionalParams.dvp_tuid=t,e.flavor="0";const i=this.getReleventServerPrefix(e);e.errorURL=i+d.DvTagDataObject.getErrorPath(),this.appendScriptDynamicFlags(e),this.appendPerformanceMetrics(e);const n=this.buildTpsQueryString(e),o=`${i}${d.DvTagDataObject.getInitPath()}?${n}`,l=s.WindowAdaptor.currentDocument(),u=s.WindowAdaptor.getCurrentScript()||l.body,{cmp:p,ctx:h,sid:g,plc:m}=e,v={tuid:t,cmp:p,ctx:h,sid:g,plc:m,vurll:o.length,protocol:c.DvObject.getProtocol()},b=this.errorFunction.bind(this,v);let y="TPSCall";c.DvObject.isRestrictedAccess()&&(y+=`_${c.DvObject.getTagUniqueKey()}`),c.DvObject.setVisitInjectedMS(r.Utilities.getCurrentTime()),a.BrowserAdaptor.addScriptAsync(o,u,y,b,this.onLoad),r.Utilities.logDvSignal(o)}toString(){return"ScriptsInjection"}errorFunction(e){const{vurll:t,protocol:i}=e,n=r.Utilities.isExceedingMaxUrlLength(t)?l.ClientErrorType.VisitRequestError:l.ClientErrorType.VisitResponseError,a={dvp_vurll:t,dvp_protocol:i};o.MessageHandler.sendError(n,void 0,void 0,a)}}},1822:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SupportedIntegrationsCollector=void 0;t.SupportedIntegrationsCollector=class{constructor(e){this.integrations=e}isSupported(){return!0}collectData(e){let t=0;this.integrations.forEach((e=>{e.isSupported()&&(t|=Number(e.getIntegrationType()))})),e.supportedIntegrations=t,0!=t&&(e.additionalParams.dvp_mib=t)}toString(){return"SupportedIntegrations"}}},9688:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserCollector=void 0;const r=i(3946),n=i(3868);t.BrowserCollector=class{isSupported(){return!n.WindowAdaptor.isDomlessEnvironment()}collectData(e){const t=r.BrowserDetector.getBrowserId();null!=t&&(e.browserDetectionSource=1),e.browserId=t,e.browserVersion=r.BrowserDetector.getBrowserVersion(),e.browserIdUserAgent=r.BrowserDetector.getBrowserIdUserAgent()}toString(){return"Browser"}}},6892:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DomScriptCollector=void 0;const r=i(3868),n=i(7749);t.DomScriptCollector=class{isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}collectData(e){this.isScriptInHeadPosition()&&(e.isScriptInHeadLocation=1)}toString(){return"DomScript"}isScriptInHeadPosition(){const e=n.DvTagDataObject.getDVScript();return e&&e.parentElement&&"HEAD"==e.parentElement.tagName}}},8010:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DvParamsCollector=void 0;const r=i(7749),n=i(3380),a=i(194);t.DvParamsCollector=class{constructor(){this.tpsParams=["ctx","cmp","ipos","sid","plc","adid","crt","btreg","btadsrv","adsrv","advid","num","pid","crtname","unit","chnl","uid","scusrid","tagtype","sr","dt","dup","app","dvvidver","turl","icall","dv_callback","useragent","xff","timecheck","seltag","sadv","ord","litm","scrt","invs","splc","adu","spos","c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","c11","c12","c13","c14","c15","native","gmnpo","isdvvid","msrapi","bsimpid","prr","iframe","gdpr","gdpr_consent","tvcp","vssd","apifw","vstvr","auprice","ppid","audeal","auevent","auadv","aucmp","aucrtv","auorder","ausite","auplc","auxch","audvc","aulitem","auadid","pltfrm","aufilter1","aufilter2","autt","auip","aubndl"],this.aspParams=["auctionid","vermemid","source","buymemid","anadvid","ioid","cpgid","cpid","sellerid","pubid","advcode","iocode","cpgcode","cpcode","pubcode","prcpaid","auip","auua"]}isSupported(){return!0}collectData(e){let t=a.DvObject.getDvtpScriptVersion();e.dvtpScriptVersion=t,e.collectDataStartTime=n.Utilities.getCurrentTime();const i=r.DvTagDataObject.getCaseSensitiveParams();if(n.Utilities.isEmpty(i))return;const s=r.DvTagDataObject.getLowerCaseParams();this.tpsParams.forEach((t=>{n.Utilities.isNullOrEmpty(s[t])||(e[t]=s[t])})),this.aspParams.forEach((t=>{n.Utilities.isNullOrEmpty(i[t])||(e[t]=i[t],e.additionalParams["dvp_"+t]=i[t])}));const o=[...this.tpsParams,...this.aspParams];Object.keys(i).filter((e=>!n.Utilities.isNullOrEmpty(i[e])&&-1===o.indexOf(e))).forEach((t=>{let r=i[t];n.Utilities.startsWith(t,"dvpx_",!0)&&(r=encodeURIComponent(r)),e.additionalParams[t]=r}))}toString(){return"DvParams"}}},992:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.InjectionDetectionCodeCollector=void 0;const r=i(3868);t.InjectionDetectionCodeCollector=class{constructor(){this.results=[]}isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}collectData(e){try{this.ancestorsInjectionDetection(),e.idcResults=this.results.join(",")}catch(t){e.idcResults="-999",e.idcError=t.message||"unknown"}e.idcVersion=28}toString(){return"InjectionDetectionCodeCollector"}ancestorsInjectionDetection(){let e=r.WindowAdaptor.workingWindow();for(let t=0;t<10&&(this.detectInjections(e),!r.WindowAdaptor.isTop(e))&&(e=r.WindowAdaptor.getWindowParent(e),e);t++);}detectInjections(e){this.addInjector(e,null!=e.AZSD,9),this.addInjector(e,e.location.hostname!=e.encodeURIComponent(e.location.hostname),10),this.addInjector(e,null!=e.cascadeWindowInfo,11),this.addInjector(e,null!=e._rvz,32),this.addInjector(e,null!=e.FO_DOMAIN,34),this.addInjector(e,null!=e.va_subid,36),this.addInjector(e,e._GPL&&e._GPL.baseCDN,40),this.addInjector(e,this.evaluateProperty(e,"__twb__")&&this.evaluateProperty(e,"__twb_cb_"),43),this.addInjector(e,null!=e.landingUrl&&null!=e.seList&&null!=e.parkingPPCTitleElements&&null!=e.allocation,45),this.addInjector(e,this.evaluateProperty(e,"_rvz",(function(e){return null!=e.publisher_subid})),46),this.addInjector(e,null!=e.cacildsFunc&&null!=e.n_storesFromFs,47),this.addInjector(e,e._pcg&&e._pcg.GN_UniqueId,54),this.addInjector(e,this.evaluateProperty(e,"__ad_rns_")&&this.evaluateProperty(e,"_$_"),64),this.addInjector(e,null!=e.APP_LABEL_NAME_FULL_UC,71),this.addInjector(e,null!=e._priam_adblock,81),this.addInjector(e,e.supp_ads_host&&e.supp_ads_host_overridden,82),this.addInjector(e,e.uti_xdmsg_manager&&e.uti_xdmsg_manager.cb,87),this.addInjector(e,e.LogBundleData&&e.addIframe,91),this.addInjector(e,e.xAdsXMLHelperId||e.xYKAffSubIdTag,95),this.addInjector(e,e.__pmetag&&e.__pmetag.uid,98),this.addInjector(e,e.CustomWLAdServer&&/(n\d{1,4}adserv)|(1ads|cccpmo|epommarket|epmads|adshost1)/.test(e.supp_ads_host_overridden),100)}evaluateProperty(e,t,i){for(let r in e)if(r.indexOf(t)>-1&&(!i||i(e[r])))return!0;return!1}addInjector(e,t,i){t&&-1==this.results.indexOf(i)&&this.results.push((r.WindowAdaptor.isTop(e)?-1:1)*i)}}},6800:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeCollector=void 0;const r=i(3868);t.AttributeCollector=class{isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}collectData(e){try{if(128!=(128&r.WindowAdaptor.getScenarioType())){const t=r.WindowAdaptor.getTopAccessibleWindow(),i=r.WindowAdaptor.workingDocument(t);e.widgetCount=(t.FB?1:0)+(t.twttr?2:0)+(t.outbrain?4:0)+(t._taboola?8:0);try{i.cookie&&(e.cookieLength=i.cookie.length)}catch(e){}t.performance&&t.performance.timing&&t.performance.timing.domainLookupStart>0&&t.performance.timing.domainLookupEnd>0&&(e.domainLookupTime=t.performance.timing.domainLookupEnd-t.performance.timing.domainLookupStart),i.querySelectorAll&&(e.documentElementCount=i.querySelectorAll("*").length)}const t=r.WindowAdaptor.workingWindow();e.iframeCount=t.top.length,t.history&&(e.historyLength=t.history.length)}catch(e){}}toString(){return"AttributeCollector"}}},8213:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserFeaturesCollector=void 0;const r=i(3868);t.BrowserFeaturesCollector=class{isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}collectData(e){e.browserFeatures=this.getBrowserFeatures()}toString(){return"BrowserFeaturesCollector"}getBrowserFeatures(){try{let e=0;const t=(t,i)=>{i&&t<32&&(e=(e|1<<t)>>>0)},i=(e,t)=>typeof e===t,n=r.WindowAdaptor.workingDocument(),a="svg"===r.WindowAdaptor.workingDocumentElement().nodeName.toLowerCase(),s=function(e){return"function"!=typeof n.createElement?n.createElement(arguments[0]):a?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)},o="Moz O ms Webkit",d=o.split(" "),l=o.toLowerCase().split(" "),c={style:{elem:s("modernizr")}.elem.style},u=(e,t)=>{let i,r,n,a;const o=["modernizr","tspan","samp"];for(;!c.style&&o.length;)i=!0,c.modElem=s(o.shift()),c.style=c.modElem.style;function d(){i&&(delete c.style,delete c.modElem)}r=e.length;for(let i=0;i<r;i++)if(n=e[i],a=c.style[n],void 0!==c.style[n])return d(),"pfx"!=t||n;return d(),!1},p=function(e,t,r){const n=e.charAt(0).toUpperCase()+e.slice(1);let a=(e+" "+d.join(n+" ")+n).split(" ");if(i(t,"string")||i(t,"undefined"))return u(a,t);{let s;a=(e+" "+l.join(n+" ")+n).split(" ");for(let e in a)if(a[e]in t)return!1===r?a[e]:(s=t[a[e]],i(s,"function")?s.bind(r||t):s);return!1}},h=r.WindowAdaptor.workingWindow();return t(0,!0),t(1,!!p("requestFileSystem",h)),t(2,!!h.CSS&&"function"==typeof h.CSS.escape),t(3,p("shapeOutside","content-box",!0)),e}catch(e){return 0}}}},370:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserSignatureCollector=void 0;const r=i(3868),n=i(3380);t.BrowserSignatureCollector=class{isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}collectData(e){const t=this.getBrowserSignature();t&&(e.browserSignatureFamilyBits=t.f,e.browserSignatureBits=t.s)}toString(){return"BrowserSignatureCollector"}getBrowserSignature(){let e=0,t=0;try{const i=function(i,r,n){n&&(e+=Math.pow(2,i),t+=Math.pow(2,r))},a=r.WindowAdaptor.getTopAccessibleWindow(),s=r.WindowAdaptor.workingDocument(a);i(14,0,a.playerInstance&&s.querySelector('script[src*="ads-player.com"]')),i(14,1,(a.CustomWLAdServer||a.DbcbdConfig)&&(()=>{let e=s.querySelector('p[class="footerCopyright"]');return e&&e.textContent.match(/ MangaLife 2016/)})()),i(15,2,a.zpz&&a.zpz.createPlayer),i(15,3,a.vdApp&&a.vdApp.createPlayer),i(15,4,s.querySelector('body>div[class="z-z-z"]')),i(16,5,a.xy_checksum&&a.place_player&&(a.logjwonready&&a.logContentPauseRequested||a.jwplayer)),i(17,6,(()=>{if(r.WindowAdaptor.isTop(a)&&""==s.title){let e=s.querySelector('body>object[id="player"]');return e&&e.data&&e.data.indexOf("jwplayer")>1&&"visibility: visible;"==e.getAttribute("style")}return!1})()),i(17,7,s.querySelector('script[src*="sitewebvideo.com"]')),i(17,8,a.InitPage&&a.cef&&a.InitAd),i(17,9,(()=>{if(r.WindowAdaptor.isTop(a)&&""==s.title){const e=s.querySelector("body>#player");return e&&(e.querySelector('div[id*="opti-ad"]')||e.querySelector('iframe[src="about:blank"]'))}return!1})()),i(17,10,(()=>{if(r.WindowAdaptor.isTop(a)&&""==s.title&&a.InitAdPlayer){const e=s.querySelector('body>div[id="kt_player"]');return e&&e.querySelector('div[class="flash-blocker"]')}return!1})()),i(17,11,null!=a.clickplayer&&null!=a.checkRdy2),i(19,12,a.instance&&a.inject&&s.querySelector('path[id="cp-search-0"]')),i(20,13,(()=>{try{if(a.top==a&&s.getElementsByClassName("asu").length>0){let e=n.Utilities.arrayLikeToArray(s.styleSheets);for(let t of e){let e=n.Utilities.arrayLikeToArray(t.cssRules);for(let t of e)if("div.kk"==t.selectorText||"div.asu"==t.selectorText)return!0}}}catch(e){}})()),i(21,14,(()=>{try{return null!=s.querySelector('div[id="kt_player"][hiegth]')}catch(e){}})()),i(22,15,function(){try{return a.top==a&&null!=a.document.querySelector('div[id="asu"][class="kk"]')}catch(e){}}()),i(25,16,function(){try{return s.querySelector('object[data*="/VPAIDFlash.swf"]')&&s.querySelector('object[id*="vpaid_video_flash_tester_el"]')&&s.querySelector('div[id*="desktopSubModal"]')}catch(e){}}());let o=r.WindowAdaptor.getUserAgent();if(o&&o.indexOf("Android")>-1&&o.indexOf(" wv)")>-1&&a==dvWindow.top){let e=!1;i(28,17,s.querySelector('img[src*="dealsneartome.com"]')||!!a.__cads__||s.querySelectorAll('img[src*="/tracker?tag="]').length>0||e)}if(e>0)return{f:e,s:t}}catch(e){}return null}}},4115:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.HardwareFeaturesCollector=void 0;const r=i(3868);t.HardwareFeaturesCollector=class{isSupported(){return!0}collectData(e){e.numberOfCores=r.WindowAdaptor.getNumberOfCores(),this.getTouchSupport()&&(e.hasTouchPad=1),e.navigatorPlatform=this.getPlatform()}toString(){return"HardwareDataCollector"}getTouchSupport(){var e,t;return 5===(null===(t=null===(e=null===r.WindowAdaptor||void 0===r.WindowAdaptor?void 0:r.WindowAdaptor.workingWindow())||void 0===e?void 0:e.navigator)||void 0===t?void 0:t.maxTouchPoints)}getPlatform(){var e,t;return null===(t=null===(e=null===r.WindowAdaptor||void 0===r.WindowAdaptor?void 0:r.WindowAdaptor.workingWindow())||void 0===e?void 0:e.navigator)||void 0===t?void 0:t.platform}}},4194:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.HijackedDeviceSignatureCollector=void 0;const r=i(3868);t.HijackedDeviceSignatureCollector=class{isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}collectData(e){const t=this.getSignature();t&&(e.hijackedDeviceSignatureBits=t)}toString(){return"HijackedDeviceSignatureCollector"}getSignature(){let e=0;try{const t=function(t,i){i&&(e+=Math.pow(2,t))},i=r.WindowAdaptor.getTopAccessibleWindow(),n=r.WindowAdaptor.workingDocument(i);if(t(6,r.WindowAdaptor.isTop(i)&&""==n.title&&null==n.querySelector("meta[charset]")&&null!=n.querySelector('div[style*="background-image: url("]')&&(null!=n.querySelector('script[src*="j.pubcdn.net"]')||null!=n.querySelector('span[class="ad-close"]'))),e>0)return e}catch(e){}return null}}},6783:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.IOSMapleCollector=void 0;const r=i(3868);t.IOSMapleCollector=class{constructor(){this.maxIterations=10}isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}collectData(e){const t=r.WindowAdaptor.isIOS(),i=r.WindowAdaptor.objectLookup(r.WindowAdaptor.workingWindow(),"maple",this.maxIterations);t&&e.dvpParamsFlags.push(0),i&&e.dvpParamsFlags.push(1)}toString(){return"IOSMaple"}}},8453:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MraidCollector=void 0;const r=i(6681);t.MraidCollector=class{isSupported(){return r.MraidWrapper.isSupported()}collectData(e){e.isMraid=1}toString(){return"MraidCollector"}}},6254:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.OmidContextCollector=void 0;const r=i(6689),n=i(3868),a=i(194),s=i(3380),o=i(3322);t.OmidContextCollector=class{isSupported(e){return n.WindowAdaptor.workingWindow()&&n.WindowAdaptor.workingWindow().omid3p&&(e.omidWebEnvironmentLog=1),r.OmidWrapper.isSupported()}collectData(e){const t=r.OmidWrapper.getOmidContext();if(t){if(e.omidEnvironment=t.environment,e.omidAdSessionType=t.adSessionType,e.omidAppId=t.app&&t.app.appId,e.omidAppLibraryVersion=t.app&&t.app.libraryVersion,e.omidPartnerName=t.omidNativeInfo&&t.omidNativeInfo.partnerName,e.omidPartnerVersion=t.omidNativeInfo&&t.omidNativeInfo.partnerVersion,e.omidJSServiceVersion=t.omidJsInfo&&t.omidJsInfo.serviceVersion,e.omidJSSessionClientVersion=t.omidJsInfo&&t.omidJsInfo.sessionClientVersion,e.omidJSPartnerName=t.omidJsInfo&&t.omidJsInfo.partnerName,e.omidJSPartnerVersion=t.omidJsInfo&&t.omidJsInfo.partnerVersion,e.omidDeviceType=t.deviceInfo&&t.deviceInfo.deviceType,e.omidDeviceOSVersion=t.deviceInfo&&t.deviceInfo.osVersion,e.omidCustomReferenceData=s.Utilities.isNullOrEmpty(t.customReferenceData)?t.customReferenceData:encodeURIComponent(t.customReferenceData),this.extractOmidContentUrl(e),t.deviceInfo&&t.deviceInfo.os){let i=null;"iOS"==t.deviceInfo.os?i=6:"Android"==t.deviceInfo.os&&(i=5),e.omidDeviceOS=i}if(t.supports){let i=0;t.supports.forEach((function(e){"clid"===e?i+=1:"vlid"===e&&(i+=2)})),0!=i&&(e.omidSupports=i)}}const i=a.DvObject.getDvObject();this.setOmidVendorKey(e,i.omidVendorKey),i.tagsCounter>1&&(e.omidTagsCounter=i.tagsCounter);const n=r.OmidWrapper.getSessionData();if(n){const t=(n.data||{}).context||{};t.accessMode&&(e.omidAccessMode=r.OmidWrapper.getOmidAccessModeNumber(t.accessMode)),t.underEvaluation&&o.ScriptDynamicFlags.getInstance().turnOn(1)}}extractOmidContentUrl(e){var t;try{const i=null===(t=r.OmidWrapper.getSessionData())||void 0===t?void 0:t.data;if(i){const t=500,{contentUrl:r}=i;if(r){const i=r.substring(0,t);e.omidContentUrl=i}}}catch(e){}}setOmidVendorKey(e,t){t&&(e.omidVendorKey=r.OmidWrapper.getOmidVendorKeyIndex(t))}toString(){return"OmidContext"}}},8733:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ParamUrlExtractionMethodCollector=void 0;const r=i(7749),n=i(194),a=i(6689),s=i(3868),o=i(3380),d=i(8170);t.ParamUrlExtractionMethodCollector=class{isSupported(){return!0}collectData(e){const t=r.DvTagDataObject.getParamUrlExtractionMethod();t&&(e.additionalParams.dvp_rcp=t),this.appendUrlHashTagLogger(e),this.appendScriptElementExtractionMethod(e),this.appendIsCurrentScriptNotSupported(e),this.appendIsOmid(e),this.appendHasTagUniqueKey(e),this.appendTagCounter(e),this.appendSharedUniqueKey(e),this.appendTagUniqueKey(e),this.appendInitialScriptUrl(e)}appendInitialScriptUrl(e){if(!n.DvObject.getIsWhitelistedDomain()){const t=d.DiagnosticParamsSingleton.getQueryParamName("dvtpurl");e.additionalParams[t]=encodeURIComponent(n.DvObject.getDvtpScriptUrl())}}appendUrlHashTagLogger(e){let t=0;const i=r.DvTagDataObject.getDVScriptUrl();if(!o.Utilities.isNullOrEmpty(i)){const r=new RegExp("[#]([^&#?]*)=([^&#?]*)","gi"),n=new RegExp("[?]([^&#?]*)=([^&#?]*)","gi");r.test(i)&&(t|=1),n.test(i)&&(t|=2),t&&(e.additionalParams.dvp_htec=t)}}appendTagUniqueKey(e){const t=n.DvObject.getTagUniqueKey();if(t){e.additionalParams.dvp_tukv=t;const i=d.DiagnosticParamsSingleton.getQueryParamName("tukv");e.additionalParams[i]=t}}appendSharedUniqueKey(e){const t=n.DvObject.getSharedUniqueKey();if(t){e.additionalParams.dvp_sukv=t;const i=d.DiagnosticParamsSingleton.getQueryParamName("sukv");e.additionalParams[i]=t}}appendScriptElementExtractionMethod(e){const t=r.DvTagDataObject.getScriptElementExtractionMethod();t&&(e.additionalParams.dvp_seem=t)}appendIsCurrentScriptNotSupported(e){!s.WindowAdaptor.getCurrentScript()&&(e.additionalParams.dvp_nscs=1)}appendIsOmid(e){var t;try{let i=0;const r=s.WindowAdaptor.workingWindow();a.OmidWrapper.isSupported()&&(i=1),n.DvObject.isOmidForWeb()&&(i|=8),n.DvObject.isOmid3p()&&(i|=16);try{if(!n.DvObject.isRestrictedAccess()&&!s.WindowAdaptor.isDomlessEnvironment()){const e=s.WindowAdaptor.getWindowParent(r),n=s.WindowAdaptor.getWindowParent(e);void 0===r.omidVerificationProperties&&void 0===e.omidVerificationProperties&&void 0===r.omid&&void 0===e.omid&&void 0===n.omid||(i|=2);const a=null!==(t=r.omidVerificationProperties)&&void 0!==t?t:e.omidVerificationProperties;o.Utilities.isNullOrEmpty(a)||"web"===(null==a?void 0:a.injectionSource)&&(i|=4)}}catch(e){}i>0&&(e.additionalParams.dvp_iomd=i)}catch(e){}}appendHasTagUniqueKey(e){n.DvObject.getTagUniqueKey()&&(e.additionalParams.dvp_tuk=1)}appendTagCounter(e){const t=n.DvObject.getTagCounter();t>1&&(e.additionalParams.dvp_tcnt=t)}toString(){return"ParamUrlExtractionMethod"}}},3219:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PreRenderCollector=void 0;const r=i(7026);t.PreRenderCollector=class{isSupported(){return!0}collectData(e){r.RenderLogicFactory.getRenderLogic().isAdRendered()||(e.isPreRender=1)}toString(){return"PreRender"}}},4932:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ReferrerCollector=void 0;const r=i(3868),n=i(3380),a=i(7658);t.ReferrerCollector=class{isSupported(e){const t=(r.WindowAdaptor.getUserAgent()||"").toLowerCase();return!r.WindowAdaptor.isDomlessEnvironment()&&(t.indexOf("webkit")>-1||t.indexOf("chrome")>-1)}collectData(e){const t=encodeURIComponent(r.WindowAdaptor.workingWindow().location.toString());n.Utilities.isQueryLengthBelowBrowserLimit(e,e.additionalParams,e.dvpParamsFlags,a.TPSDataMapping,t)&&(e.referrerUrl=t)}toString(){return"Referrer"}}},2221:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptsPerformanceCollector=void 0;const r=i(3868);t.ScriptsPerformanceCollector=class{isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}collectData(e){const t=r.WindowAdaptor.monitorScriptsPerformance(r.WindowAdaptor.workingWindow(),{dvtp_src:["fetchStart","duration"]});e.dvtp_src_fetchStart=t.dvtp_src_fetchStart,e.dvtp_src_duration=t.dvtp_src_duration}toString(){return"ScriptsPerformance"}}},8357:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SslCollector=void 0;const r=i(3868),n=i(7749),a=i(194);t.SslCollector=class{isSupported(){return!0}collectData(e){const t=n.DvTagDataObject.getDVScriptUrl(),i=r.WindowAdaptor.workingWindow().location;t&&i&&t.match("^http:")&&i.toString().match("^https")&&(e.diffSsl=1),e.isSsl=a.DvObject.getProtocol()}toString(){return"Ssl"}}},6574:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.StrCollector=void 0;const r=i(3868),n=i(5903),a=i(3380),s=i(7658),o=i(6806),d=i(425),l=i(712);t.StrCollector=class{constructor(){this.parentIsPermitted=!1,this.ancestorChain="",this.additionalUrl="",this.htmlUrl="",this.canonicalUrl="",this.referrerOffset=0,this.insertEparam=function(e,t){let i=e+"="+encodeURIComponent(t);this.eparams=this.eparams?this.eparams+"&"+i:i}}isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}getSTR(e){return this.workingWindow=r.WindowAdaptor.workingWindow(),this.findHighestAvailableWindow(),this.processDVurl(),e.referrerUrlExtractedFromSafeFrame=this.referrerUrlExtractedFromSafeFrame,e.safeFrameExists=this.safeFrameExists,this.extractAncestorChain(),this.calculateWindowDepth(),this.updateWindowDepth(),this.extractUrlFromHtml(e),this.htmlUrl||this.findAdditionalURLs(),this.setEparams(e),{ep1:encodeURIComponent(this.dvURL),ep2:encodeURIComponent(this.ancestorChain),ep3:encodeURIComponent(this.additionalUrl),ep4:encodeURIComponent(this.htmlUrl),ep5:encodeURIComponent(this.canonicalUrl)}}collectData(e){this.getSTR(e);const t=encodeURIComponent(this.eparams);a.Utilities.isQueryLengthBelowBrowserLimit(e,e.additionalParams,e.dvpParamsFlags,s.TPSDataMapping,t)?e.eparams=t:e.dvpParamsFlags.push(3),e.eparamsLength=t&&t.length,e.referrerDepth=this.referrerDepth,e.windowDepth=this.windowDepth,e.additionalUrlDepth=this.htmlUrl?-1:this.additionalUrlDepth}toString(){return"Str"}findHighestAvailableWindow(){try{this.highestAvailableWindow=this.workingWindow;for(let e=0;e<=10;e++){const t=r.WindowAdaptor.getWindowParent(this.highestAvailableWindow,!0);if(!t||this.highestAvailableWindow==t){0==e&&(this.parentIsPermitted=!0);break}{const e=t.location.toString();if(!(e.length>0)){this.parentIsPermitted=!1;break}this.highestAvailableWindow=t,this.referrerOffset++,this.parentIsPermitted=!0}}}catch(e){this.parentIsPermitted=!1}}processDVurl(){var e;const t=r.WindowAdaptor.workingDocument(this.highestAvailableWindow).referrer,i=null===(e=this.workingWindow.location)||void 0===e?void 0:e.ancestorOrigins,n=i&&i[i.length-1];if(o.SafeFrameObject.isSafeFrameExists(this.highestAvailableWindow)&&(this.safeFrameExists=1),0==t.length)this.dvURL=this.highestAvailableWindow.location.toString();else if(this.parentIsPermitted)this.dvURL=this.highestAvailableWindow.location.toString();else{this.dvURL=t;const e=o.SafeFrameObject.getUrlReferrer(this.highestAvailableWindow);!e||i&&0!=e.indexOf(n)||(this.dvURL=e,this.referrerUrlExtractedFromSafeFrame="sf"),this.dvMinus=!0}}extractAncestorChain(){let e=this.getAncestorOrigins(),t=this.workingWindow.location;e&&e.length>0&&t&&(e.unshift(t.protocol+"//"+t.hostname),this.ancestorChain=e.reverse().join(","))}getAncestorOrigins(){return a.Utilities.DOMStringListToArray(this.workingWindow[n.Encoding.ROT47("=@42E:@?")][n.Encoding.ROT47("2?46DE@C~C:8:?D")])}calculateWindowDepth(){let e=0,t=this.highestAvailableWindow;for(;e<10&&!r.WindowAdaptor.isTop(t);)e++,t=r.WindowAdaptor.getWindowParent(t,!0);this.windowDepth=e}findAdditionalURLs(){try{if(this.additionalUrl="",this.additionalUrlDepth=0,this.windowDepth<=1)return;let e,t,i,n=[];n.push({win:r.WindowAdaptor.windowTop(!0),depth:0});let a=1,s=0;for(;a>0&&s<100;){try{s++,e=n.shift(),t=e.win,i=e.depth,a--;const o=t.location.toString();if(o.length>0&&t!=this.highestAvailableWindow){const e=r.WindowAdaptor.workingDocument(t).referrer;return 0==e.length||0==i?(this.additionalUrl=o,void(this.additionalUrlDepth=i)):(this.additionalUrl=e,void(this.additionalUrlDepth=i-1))}}catch(e){}const o=t.frames.length;for(let e=0;e<o;e++)n.push({win:t.frames[e],depth:i+1}),a++}}catch(e){}}updateWindowDepth(){this.referrerDepth=this.windowDepth+this.referrerOffset,this.dvMinus&&this.windowDepth&&this.windowDepth--}setEparams(e){this.insertEparam("srcurl",this.dvURL),this.ancestorChain&&this.insertEparam("ancChain",this.ancestorChain);const t=this.htmlUrl||this.additionalUrl;t&&a.Utilities.isQueryLengthBelowBrowserLimit(e,e.additionalParams,e.dvpParamsFlags,s.TPSDataMapping,t)&&this.insertEparam("aUrl",t),this.canonicalUrl&&this.insertEparam("canurl",this.canonicalUrl),this.eparams=n.Encoding.ROT47(this.eparams)}extractUrlFromHtml(e){try{if(this.canonicalUrl=this.extractCanonicalUrl(),e.browserId==l.Browser.IE||128!=e.trafficScenarioType)return;if(r.WindowAdaptor.isPerformanceAPISupported()&&r.WindowAdaptor.currentWindow().performance.mark("dv_str_html_start"),this.dvURL){const e=new RegExp("^(?:https?:\\/\\/)?[\\w\\-\\.]+\\/[a-zA-Z0-9]","gi"),t=this.dvURL.match(e);if(t&&t.length>0)return}const t=r.WindowAdaptor.workingDocument(this.highestAvailableWindow);if(t&&t.referrer){const i=t.referrer.replace(/\//g,"\\/").replace(/\./g,"\\."),r=new RegExp(`(?:w{0,4}=")?${i}[^&"; %,'\\$\\\\\\|]+`,"gi"),n=new RegExp("banner|adprefs|safeframe|sandbox|sf\\.html","gi"),a=/^\w{0,4}="/gi;this.htmlUrl=this.getUrlFromHtml(t,r,n,a),this.measureExtraction(e)}}catch(e){}}extractCanonicalUrl(){const e=r.WindowAdaptor.workingDocument(this.highestAvailableWindow),t=d.BrowserAdaptor.querySelector("link[rel=canonical]",e);return null==t?void 0:t.href}getUrlFromHtml(e,t,i,r){let n=this.findUrlByTag(e,"script","src",t,i,r);return n||(n=this.extractFromScriptHtml(e,t,i,r),n||(n=this.findUrlByTag(e,"a","href",t,i,r))),n}findLongestMatch(e,t,i){let r="";if(e&&e.length>0)for(let n=0;n<e.length;n++){const a=e[n];a.length>r.length&&null==a.match(t)&&0!=a.indexOf('src="')&&0!=a.indexOf('turl="')&&(r=a.replace(i,""))}return r}findUrlByTag(e,t,i,r,n,a){const s=`${t}[${i}*="${e.referrer}"]`,o=d.BrowserAdaptor.querySelectorAll(e,s);let l="";if(o){let e=0;for(;!l&&e<o.length;){const t=o[e][i].match(r);l=this.findLongestMatch(t,n,a),e++}}return l}extractFromScriptHtml(e,t,i,r){const n=e.referrer;let a="";const s=d.BrowserAdaptor.getElementsByTagNameFromDocument("script",e);if(s){let e=0;for(;!a&&e<s.length;){const o=s[e].innerHTML;if(o&&-1!=o.indexOf(n)){const e=o.match(t);a=this.findLongestMatch(e,i,r)}e++}}return a}measureExtraction(e){if(r.WindowAdaptor.isPerformanceAPISupported()){const t=r.WindowAdaptor.currentWindow();t.performance.mark("dv_str_html_end"),t.performance.measure("dv_str_html","dv_str_html_start","dv_str_html_end");const[i]=t.performance.getEntriesByName("dv_str_html");i&&i.duration&&(e.additionalParams.dvp_strhd=i.duration,e.additionalParams.dvpx_strhd=i.duration)}}}},1059:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SupplySourceCollector=void 0;const r=i(7749),n=i(425),a=i(3868),s=i(6681),o=i(6689),d=i(3380),l=i(8426),c=i(712);t.SupplySourceCollector=class{constructor(){this.maxIterations=20}isSupported(){return!0}collectData(e){let t=r.DvTagDataObject.getSupplySource();this.isMillenialMediaSupported()?t="mm":l.InmobiWrapper.isSupported()?t="inm_vid":this.isInmobiDisplaySupported()?t="inm_dis":s.MraidWrapper.isSupported()&&(s.MraidWrapper.isOperaMedia()?t="opm":s.MraidWrapper.isAdColony()&&(t="ac")),e.supplySource=o.OmidWrapper.getOmidNativePartnerName()||o.OmidWrapper.getOmidJSPartnerName()||t,d.Utilities.isNullOrEmpty(e.supplySource)||(e.supplySource=e.supplySource.split("|").join("").split("%7C").join(""))}toString(){return"SupplySource"}isMillenialMediaSupported(){const e=a.WindowAdaptor.workingWindow().mmJsBridge,t=n.BrowserAdaptor.getElementById("aolVideoContainer",a.WindowAdaptor.workingDocument())||e&&e.vpaid,i=a.WindowAdaptor.workingWindow().mmSdkVersion;return!!t||!!i}isInmobiDisplaySupported(){return r.DvTagDataObject.getTagType()==c.DvTagType.Display&&s.MraidWrapper.isSupported()&&a.WindowAdaptor.objectLookup(a.WindowAdaptor.currentWindow(),"imraid",this.maxIterations)&&a.WindowAdaptor.objectLookup(a.WindowAdaptor.currentWindow(),"inmobi",this.maxIterations)}}},9582:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TpsApiTypeCollector=void 0;const r=i(7749);t.TpsApiTypeCollector=class{isSupported(){return!0}collectData(e){switch(r.DvTagDataObject.getDvApi()){case"1":e.tpsApiType="dvvisit";break;case"5":e.tpsApiType="query";break;default:e.tpsApiType="visit"}}toString(){return"TpsApiType"}}},8397:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TrafficScenarioCollector=void 0;const r=i(3868);t.TrafficScenarioCollector=class{isSupported(){return!0}collectData(e){e.trafficScenarioType=r.WindowAdaptor.getScenarioType()}toString(){return"TrafficScenario"}}},1079:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.UserCollector=void 0;const r=i(8379),n=i(363);t.UserCollector=class{isSupported(){return!0}collectData(e){e.uid=n.RandomUtils.getRandom16(),e.callbackName=r.CallbackPrefix+n.RandomUtils.getRandom16()}toString(){return"UserId"}}},6674:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VastUrlCollector=void 0;const r=i(7749),n=i(3380),a=i(7658);t.VastUrlCollector=class{isSupported(e){return this.vastWrapperUrl=r.DvTagDataObject.getVastUrl(),this.vastWrapperUrl&&this.vastWrapperUrl.length<=1e3&&n.Utilities.isQueryLengthBelowBrowserLimit(e,e.additionalParams,e.dvpParamsFlags,a.TPSDataMapping,this.vastWrapperUrl)}collectData(e){e.vastWrapperUrl=this.vastWrapperUrl}toString(){return"vastUrl"}}},5390:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoParamsCollector=void 0;const r=i(712),n=i(7749),a=i(1966);t.VideoParamsCollector=class{isSupported(){return n.DvTagDataObject.getTagType()==r.DvTagType.Video}collectData(e){e.isOvv=a.VideoPlaybackAdaptor.getOvvObject()?1:void 0,e.isdvvid=1,e.prePlayed=1}toString(){return"VideoParams"}}},9106:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VpaidPlayerUrlCollector=void 0;const r=i(3380),n=i(7658),a=i(1063);t.VpaidPlayerUrlCollector=class{isSupported(e){let t=a.VpaidWrapper.getDvVpaid();const i=t&&t.asset;return i&&i.player&&i.player.src&&(this.vpaidPlayerUrl=encodeURIComponent(i.player.src)),this.vpaidPlayerUrl&&this.vpaidPlayerUrl.length<=1e3&&r.Utilities.isQueryLengthBelowBrowserLimit(e,e.additionalParams,e.dvpParamsFlags,n.TPSDataMapping,this.vpaidPlayerUrl)}collectData(e){e.vpaidPlayerUrl=this.vpaidPlayerUrl}toString(){return"vpaidPlayerUrl"}}},7998:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.WindowPropertiesCollector=void 0;const r=i(3868),n=i(425),a=i(7658),s=i(3380);t.WindowPropertiesCollector=class{isSupported(){return!r.WindowAdaptor.isDomlessEnvironment()}collectData(e){const t=r.WindowAdaptor.workingWindow();try{e.queuePageID=t.external&&t.external.QueuePageID,e.crawlerUrl=t.external&&t.external.CrawlerUrl&&encodeURIComponent(t.external.CrawlerUrl)}catch(e){}e.postMessageSupported=Number(r.WindowAdaptor.isPostMessageSupported()),e.isChrome=t.chrome?1:0,e.historySize=t.history?t.history.length:0,e.innerHeight=n.BrowserAdaptor.getInnerViewport(!1).height,e.innerWidth=n.BrowserAdaptor.getInnerViewport(!1).width,e.outerHeight=n.BrowserAdaptor.getOuterViewport(r.WindowAdaptor.workingWindow(),!1).height,e.outerWidth=n.BrowserAdaptor.getOuterViewport(r.WindowAdaptor.workingWindow(),!1).width,e.screenHeight=n.BrowserAdaptor.getAvailableScreenSize(!1).height,e.screenWidth=n.BrowserAdaptor.getAvailableScreenSize(!1).width;{const t=r.WindowAdaptor.getUserAgent(),i=t?encodeURIComponent(t):t;s.Utilities.isQueryLengthBelowBrowserLimit(e,e.additionalParams,e.dvpParamsFlags,a.TPSDataMapping,i)&&(e.nativeUserAgent=i)}}toString(){return"WindowProperties"}}},5070:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TPSDataCollector=void 0;const r=i(749),n=i(712);t.TPSDataCollector=class{isSupported(){return!0}constructor(e){this.tpsCollectors=e}executePhase(e){this.tpsCollectors.forEach((t=>{try{t.isSupported(e)&&t.collectData(e)}catch(e){r.MessageHandler.sendError(n.ClientErrorType.TPSDataCollectorError,e,t.toString())}}))}toString(){return"TPSData"}}},1759:function(e,t,i){!function(e,t,i){if("object"==typeof i&&"string"!=typeof i.nodeName)t(e,i);else{i={};var r=["1.4.9-iab4257"];function n(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=n(e[t]));return Object.freeze(e)}for(var a in t(e,i),i)i.hasOwnProperty(a)&&(null==Object.getOwnPropertyDescriptor(e,a)&&Object.defineProperty(e,a,{value:{}}),r.forEach((function(t){if(null==Object.getOwnPropertyDescriptor(e[a],t)){var r=n(i[a]);Object.defineProperty(e[a],t,{get:function(){return r},enumerable:!0})}})))}}(void 0===i.g?this:i.g,(function(e,t){var r=r||{};r.scope={},r.createTemplateTagFirstArg=function(e){return e.raw=e},r.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e},r.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},r.arrayIterator=function(e){return{next:r.arrayIteratorImpl(e)}},r.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return r.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},r.arrayFromIterator=function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i},r.arrayFromIterable=function(e){return e instanceof Array?e:r.arrayFromIterator(r.makeIterator(e))},r.ASSUME_ES5=!1,r.ASSUME_NO_NATIVE_MAP=!1,r.ASSUME_NO_NATIVE_SET=!1,r.SIMPLE_FROUND_POLYFILL=!1,r.ISOLATE_POLYFILLS=!1,r.FORCE_POLYFILL_PROMISE=!1,r.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,r.objectCreate=r.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var t=function(){};return t.prototype=e,new t},r.defineProperty=r.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){return e==Array.prototype||e==Object.prototype||(e[t]=i.value),e},r.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof i.g&&i.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},r.global=r.getGlobal(this),r.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),r.TRUST_ES6_POLYFILLS=!r.ISOLATE_POLYFILLS||r.IS_SYMBOL_NATIVE,r.polyfills={},r.propertyToPolyfillSymbol={},r.POLYFILL_PREFIX="$jscp$";var n=function(e,t,i){if(!i||null!=e)return null==(i=r.propertyToPolyfillSymbol[t])?e[t]:void 0!==(i=e[i])?i:e[t]};r.polyfill=function(e,t,i,n){t&&(r.ISOLATE_POLYFILLS?r.polyfillIsolated(e,t,i,n):r.polyfillUnisolated(e,t,i,n))},r.polyfillUnisolated=function(e,t,i,n){for(i=r.global,e=e.split("."),n=0;n<e.length-1;n++){var a=e[n];if(!(a in i))return;i=i[a]}(t=t(n=i[e=e[e.length-1]]))!=n&&null!=t&&r.defineProperty(i,e,{configurable:!0,writable:!0,value:t})},r.polyfillIsolated=function(e,t,i,n){var a=e.split(".");e=1===a.length,n=a[0],n=!e&&n in r.polyfills?r.polyfills:r.global;for(var s=0;s<a.length-1;s++){var o=a[s];if(!(o in n))return;n=n[o]}a=a[a.length-1],null!=(t=t(i=r.IS_SYMBOL_NATIVE&&"es6"===i?n[a]:null))&&(e?r.defineProperty(r.polyfills,a,{configurable:!0,writable:!0,value:t}):t!==i&&(void 0===r.propertyToPolyfillSymbol[a]&&(i=1e9*Math.random()>>>0,r.propertyToPolyfillSymbol[a]=r.IS_SYMBOL_NATIVE?r.global.Symbol(a):r.POLYFILL_PREFIX+i+"$"+a),r.defineProperty(n,r.propertyToPolyfillSymbol[a],{configurable:!0,writable:!0,value:t})))},r.getConstructImplementation=function(){if(r.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function e(){}return new e,Reflect.construct(e,[],(function(){})),new e instanceof e}())return Reflect.construct;var e=Reflect.construct;return function(t,i,r){return t=e(t,i),r&&Reflect.setPrototypeOf(t,r.prototype),t}}return function(e,t,i){return void 0===i&&(i=e),i=r.objectCreate(i.prototype||Object.prototype),Function.prototype.apply.call(e,i,t)||i}},r.construct=r.getConstructImplementation(),r.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},r.setPrototypeOf=r.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:r.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,r.inherits=function(e,t){if(e.prototype=r.objectCreate(t.prototype),e.prototype.constructor=e,r.setPrototypeOf){var i=r.setPrototypeOf;i(e,t)}else for(i in t)if("prototype"!=i)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,i);n&&Object.defineProperty(e,i,n)}else e[i]=t[i];e.superClass_=t.prototype},r.getRestArguments=function(){for(var e=Number(this),t=[],i=e;i<arguments.length;i++)t[i-e]=arguments[i];return t},r.polyfill("Reflect",(function(e){return e||{}}),"es6","es3"),r.polyfill("Reflect.construct",(function(e){return r.construct}),"es6","es3"),r.polyfill("Reflect.setPrototypeOf",(function(e){if(e)return e;if(r.setPrototypeOf){var t=r.setPrototypeOf;return function(e,i){try{return t(e,i),!0}catch(e){return!1}}}return null}),"es6","es5"),r.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.polyfill("Object.values",(function(e){return e||function(e){var t,i=[];for(t in e)r.owns(e,t)&&i.push(e[t]);return i}}),"es8","es3");var a={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},Environment:{APP:"app",WEB:"web"},DeviceCategory:{CTV:"ctv",DESKTOP:"desktop",MOBILE:"mobile",OTHER:"other"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable",NO_WINDOW_FOCUS:"noWindowFocus",NO_OUTPUT_DEVICE:"noOutputDevice"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels",HAS_WINDOW_FOCUS:"hasWindowFocus"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"},MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow"}},s="omid_message_guid",o="omid_message_method",d="omid_message_version",l="omid_message_args",c=function(e,t,i,r){this.guid=e,this.method=t,this.version=i,this.args=r};c.isValidSerializedMessage=function(e){return!!e&&void 0!==e[s]&&void 0!==e[o]&&void 0!==e[d]&&"string"==typeof e[s]&&"string"==typeof e[o]&&"string"==typeof e[d]&&(void 0===e[l]||void 0!==e[l])},c.deserialize=function(e){return new c(e[s],e[o],e[d],e[l])},c.prototype.serialize=function(){var e={};return e[s]=this.guid,e[o]=this.method,e[d]=this.version,void 0!==this.args&&(e[l]=this.args),e};var u=function(e){this.to=e,this.communicationType_=a.CommunicationType.NONE};u.prototype.sendMessage=function(e,t){},u.prototype.handleMessage=function(e,t){this.onMessage&&this.onMessage(e,t)},u.prototype.serialize=function(e){return JSON.stringify(e)},u.prototype.deserialize=function(e){return JSON.parse(e)},u.prototype.isDirectCommunication=function(){return this.communicationType_===a.CommunicationType.DIRECT},u.prototype.isCrossOrigin=function(){};var p={};function h(){var e=r.getRestArguments.apply(0,arguments);m((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat(r.arrayFromIterable(e))))}),(function(){return console.error.apply(console,r.arrayFromIterable(e))}))}function g(){var e=r.getRestArguments.apply(0,arguments);m((function(){}),(function(){return console.error.apply(console,r.arrayFromIterable(e))}))}function m(e,t){"undefined"!=typeof jasmine&&jasmine?e():"undefined"!=typeof console&&console&&console.error&&t()}p.error=h,p.debug=g;var v={},b={ApiVersion:"1.0",Version:"1.4.9-iab4257"},y={};function f(e,t){if(!t)throw Error("Value for "+e+" is undefined, null or blank.");if("string"!=typeof t&&!(t instanceof String))throw Error("Value for "+e+" is not a string.");if(""===t.trim())throw Error("Value for "+e+" is empty string.")}function w(e,t){if(null==t)throw Error("Value for "+e+" is undefined or null")}function D(e,t){if(null==t)throw Error(e+" must not be null or undefined.");if("number"!=typeof t||isNaN(t))throw Error("Value for "+e+" is not a number")}function E(e,t,i,r){if(D(e,t),t<i||t>r)throw Error("Value for "+e+" is outside the range ["+i+","+r+"]")}function S(e,t){if(!t)throw Error(e+" must not be truthy.")}function A(e,t){if(D(e,t),0>t)throw Error(e+" must be a positive number.")}y.assertTruthyString=f,y.assertNotNullObject=w,y.assertNumber=D,y.assertNumberBetween=E,y.assertFunction=S,y.assertPositiveNumber=A;var T={},C=3;function M(e){return/\d+\.\d+\.\d+(-.*)?/.test(e)}function V(e,t){e=e.split("-")[0].split("."),t=t.split("-")[0].split(".");for(var i=0;i<C;i++){var r=parseInt(e[i],10),n=parseInt(t[i],10);if(r>n)break;if(r<n)return!1}return!0}T.isValidVersion=M,T.versionGreaterOrEqual=V;var I={},O="1.0.3";function P(e,t){return M(e)&&V(e,O)?t:JSON.stringify(t)}function B(e,t){return M(e)&&V(e,O)?t||[]:t&&"string"==typeof t?JSON.parse(t):[]}I.serializeMessageArgs=P,I.deserializeMessageArgs=B;var _={};function L(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return e="y"===e?(3&t|8).toString(16):t.toString(16)}))}_.generateGuid=L;var k={OMID_PRESENT_FRAME_NAME:"omid_v1_present",OMID_PRESENT_FRAME_NAME_WEB:"omid_v1_present_web",OMID_PRESENT_FRAME_NAME_APP:"omid_v1_present_app",getEnvironmentIframeName:function(e){var t={};return(t[a.Environment.APP]=k.OMID_PRESENT_FRAME_NAME_APP,t[a.Environment.WEB]=k.OMID_PRESENT_FRAME_NAME_WEB,t)[e]}};function R(e,t){try{return e.frames&&!!e.frames[t]}catch(e){return!1}}function W(e,t){e.document.write('<iframe style="display:none" id="'+t+'" name="'+t+'" sandbox></iframe>')}k.isOmidPresent=function(e){return[k.OMID_PRESENT_FRAME_NAME,k.OMID_PRESENT_FRAME_NAME_WEB,k.OMID_PRESENT_FRAME_NAME_APP].some((function(t){return R(e,t)}))},k.getOmidEnvironment=function(e){for(var t=r.makeIterator(Object.values(a.Environment)),i=t.next();!i.done;i=t.next()){if(i=i.value,R(e,k.getEnvironmentIframeName(i)))return i}return null},k.declareOmidPresence=function(e,t){e.frames&&e.document&&![k.OMID_PRESENT_FRAME_NAME,k.OMID_PRESENT_FRAME_NAME_WEB,k.OMID_PRESENT_FRAME_NAME_APP].some((function(t){return!!e.frames[t]}))&&(null==e.document.body&&k.isMutationObserverAvailable_(e)?k.registerMutationObserver_(e,t):(t=k.getEnvironmentIframeName(t),e.document.body?(k.appendPresenceIframe_(e,k.OMID_PRESENT_FRAME_NAME),k.appendPresenceIframe_(e,t)):(W(e,k.OMID_PRESENT_FRAME_NAME),W(e,t))))},k.appendPresenceIframe_=function(e,t){var i=e.document.createElement("iframe");i.id=t,i.name=t,i.style.display="none",i.sandbox="",e.document.body.appendChild(i)},k.isMutationObserverAvailable_=function(e){return"MutationObserver"in e},k.registerMutationObserver_=function(e,t){var i=new MutationObserver((function(r){r.forEach((function(r){"BODY"===r.addedNodes[0].nodeName&&(r=k.getEnvironmentIframeName(t),k.appendPresenceIframe_(e,k.OMID_PRESENT_FRAME_NAME),k.appendPresenceIframe_(e,r),i.disconnect())}))}));i.observe(e.document.documentElement,{childList:!0})};var j={},x={SESSION_SERVICE:"SessionService.",VERIFICATION_SERVICE:"VerificationService."};function U(e){return q(e,x.SESSION_SERVICE)}function F(e){return Q(e,x.SESSION_SERVICE)}function N(e){return null!=F(e)}function z(e){return q(e,x.VERIFICATION_SERVICE)}function H(e){return Q(e,x.VERIFICATION_SERVICE)}function G(e){return null!=H(e)}function q(e,t){return t+e}function Q(e,t){return(e=e.match(new RegExp("^"+t+"(.*)")))&&e[1]}j.getPrefixedSessionServiceMethod=U,j.getPrefixedVerificationServiceMethod=z,j.getUnprefixedSessionServiceMethod=F,j.getUnprefixedVerificationServiceMethod=H,j.isPrefixedSessionServiceMethod=N,j.isPrefixedVerificationServiceMethod=G;var K={};function $(){if(void 0!==e&&e)return e;if(void 0!==i.g&&i.g)return i.g;if("undefined"!=typeof window&&window)return window;if("undefined"!=typeof globalThis&&globalThis)return globalThis;var t=Function("return this")();if(t)return t;throw Error("Could not determine global object context.")}K.omidGlobal=$();var J={};function X(){return void 0===t?null:t}function Y(e,t){return e&&(e[t]||(e[t]={}))}function Z(e,t,i){(i=void 0===i?X():i)&&((e=e.split(".")).slice(0,e.length-1).reduce(Y,i)[e[e.length-1]]=t)}J.packageExport=Z;var ee={};function te(e){return null!=e&&void 0!==e.top&&null!=e.top}function ie(e){if(e===K.omidGlobal)return!1;try{if(void 0===e.location.hostname)return!0;re(e)}catch(e){return!0}return!1}function re(e){return""===e.x||""!==e.x}function ne(e){return void 0===e&&"undefined"!=typeof window&&window&&(e=window),te(e)?e:K.omidGlobal}function ae(e){return te(e)?e.top:K.omidGlobal}function se(e){try{return!!e.top.location.href}catch(e){return!1}}function oe(e){return e.type===a.AdEventType.SESSION_START&&(void 0!==e.data.context.videoElement&&(e.data.context.videoElement="DOM Video Element - Present but not parsed to avoid parse error"),void 0!==e.data.context.slotElement&&(e.data.context.slotElement="DOM Slot Element - Present but not parsed to avoid parse error")),e}function de(e){if(!te(e))return null;try{var t=e.top;return ie(t)?null:t.location.href}catch(e){return null}}ee.evaluatePageUrl=de,ee.isCrossOrigin=ie,ee.removeDomElements=oe,ee.resolveGlobalContext=ne,ee.resolveTopWindowContext=ae,ee.isTopWindowAccessible=se;var le=function(e){u.call(this,e),this.communicationType_=a.CommunicationType.DIRECT,this.handleExportedMessage=le.prototype.handleExportedMessage.bind(this)};r.inherits(le,u),le.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.handleExportedMessage(e.serialize(),this)},le.prototype.handleExportedMessage=function(e,t){c.isValidSerializedMessage(e)&&this.handleMessage(c.deserialize(e),t)},le.prototype.isCrossOrigin=function(){return!1};var ce=function(e,t){t=void 0===t?K.omidGlobal:t,u.call(this,t);var i=this;this.communicationType_=a.CommunicationType.POST_MESSAGE,e.addEventListener("message",(function(e){if("object"==typeof e.data){var t=e.data;c.isValidSerializedMessage(t)&&(t=c.deserialize(t),e.source&&i.handleMessage(t,e.source))}}))};r.inherits(ce,u),ce.isCompatibleContext=function(e){return!!(e&&e.addEventListener&&e.postMessage)},ce.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.postMessage(e.serialize(),"*")},ce.prototype.isCrossOrigin=function(){return!this.to||ie(this.to)};var ue={},pe=["omid","v1_SessionServiceCommunication"],he=["omid","v1_VerificationServiceCommunication"],ge=["omidVerificationProperties","serviceWindow"];function me(e,t){return t.reduce((function(e,t){return e&&e[t]}),e)}function ve(e,t,i,r){if(!ie(t))try{var n=me(t,i);if(n)return new le(n)}catch(e){}return r(t)?new ce(e,t):null}function be(e,t,i,n){for(var a=(t=r.makeIterator(t)).next();!a.done;a=t.next())if(a=ve(e,a.value,i,n))return a;return null}function ye(e,t,i){i=void 0===i?k.isOmidPresent:i;var r=[e,ae(e)];return t&&r.unshift(t),be(e,r,pe,i)}function fe(e,t){t=void 0===t?k.isOmidPresent:t;var i=[],r=me(e,ge);return r&&i.push(r),i.push(ae(e)),be(e,i,he,t)}ue.startSessionServiceCommunication=ye,ue.startVerificationServiceCommunication=fe;var we=b.Version,De;function Ee(){var e=K.omidGlobal.omid3p;return e&&"function"==typeof e.registerSessionObserver&&"function"==typeof e.addEventListener?e:null}var Se=function(e){(this.communication=e||fe(ne()))?this.communication.onMessage=this.handleMessage_.bind(this):(e=Ee())&&(this.omid3p=e),this.remoteIntervals_=this.remoteTimeouts_=0,this.callbackMap_={},this.imgCache_=[],this.injectionId_=(e=K.omidGlobal.omidVerificationProperties)?e.injectionId:void 0};Se.prototype.isSupported=function(){return!(this.getEnvironment()===a.Environment.WEB&&!this.injectionId_)&&!(!this.communication&&!this.omid3p)},Se.prototype.getEnvironment=function(){var e=ne();return this.injectionSource()||(0,k.getOmidEnvironment)(e)||(0,k.getOmidEnvironment)(ae(e))},Se.prototype.injectionSource=function(){var e=K.omidGlobal.omidVerificationProperties;if(e&&e.injectionSource)return e.injectionSource},Se.prototype.registerSessionObserver=function(e,t){S("functionToExecute",e),this.omid3p?this.omid3p.registerSessionObserver(e,t,this.injectionId_):this.sendMessage_("addSessionListener",e,t,this.injectionId_)},Se.prototype.addEventListener=function(e,t){f("eventType",e),S("functionToExecute",t),this.omid3p?this.omid3p.addEventListener(e,t,this.injectionId_):this.sendMessage_("addEventListener",t,e,this.injectionId_)},Se.prototype.sendUrl=function(e,t,i){f("url",e),K.omidGlobal.document&&K.omidGlobal.document.createElement?this.sendUrlWithImg_(e,t,i):this.sendMessage_("sendUrl",(function(e){e&&t?t():!e&&i&&i()}),e)},Se.prototype.sendUrlWithImg_=function(e,t,i){var r=this,n=K.omidGlobal.document.createElement("img");this.imgCache_.push(n);var a=function(e){var t=r.imgCache_.indexOf(n);0<=t&&r.imgCache_.splice(t,1),e&&e()};n.addEventListener("load",a.bind(this,t)),n.addEventListener("error",a.bind(this,i)),n.src=e},Se.prototype.injectJavaScriptResource=function(e,t,i){var r=this;f("url",e),K.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(e,t,i):this.sendMessage_("injectJavaScriptResource",(function(n,a){n?(r.evaluateJavaScript_(a,e),t()):(h("Service failed to load JavaScript resource."),i())}),e)},Se.prototype.injectJavascriptResourceUrlInDom_=function(e,t,i){var r=K.omidGlobal.document,n=r.body;(r=r.createElement("script")).onload=t,r.onerror=i,r.src=e,r.type="application/javascript",n.appendChild(r)},Se.prototype.evaluateJavaScript_=function(e,t){try{eval(e)}catch(e){h('Error evaluating the JavaScript resource from "'+t+'".')}},Se.prototype.setTimeout=function(e,t){if(S("functionToExecute",e),A("timeInMillis",t),this.hasTimeoutMethods_())return K.omidGlobal.setTimeout(e,t);var i=this.remoteTimeouts_++;return this.sendMessage_("setTimeout",e,i,t),i},Se.prototype.clearTimeout=function(e){A("timeoutId",e),this.hasTimeoutMethods_()?K.omidGlobal.clearTimeout(e):this.sendOneWayMessage_("clearTimeout",e)},Se.prototype.setInterval=function(e,t){if(S("functionToExecute",e),A("timeInMillis",t),this.hasIntervalMethods_())return K.omidGlobal.setInterval(e,t);var i=this.remoteIntervals_++;return this.sendMessage_("setInterval",e,i,t),i},Se.prototype.clearInterval=function(e){A("intervalId",e),this.hasIntervalMethods_()?K.omidGlobal.clearInterval(e):this.sendOneWayMessage_("clearInterval",e)},Se.prototype.hasTimeoutMethods_=function(){return"function"==typeof K.omidGlobal.setTimeout&&"function"==typeof K.omidGlobal.clearTimeout},Se.prototype.hasIntervalMethods_=function(){return"function"==typeof K.omidGlobal.setInterval&&"function"==typeof K.omidGlobal.clearInterval},Se.prototype.handleMessage_=function(e,t){t=e.method;var i=e.guid;if(e=e.args,"response"===t&&this.callbackMap_[i]){var r=B(b.Version,e);this.callbackMap_[i].apply(this,r)}"error"===t&&window.console&&h(e)},Se.prototype.sendOneWayMessage_=function(e){var t=r.getRestArguments.apply(1,arguments);this.sendMessage_.apply(this,[e,null].concat(r.arrayFromIterable(t)))},Se.prototype.sendMessage_=function(e,t){var i=r.getRestArguments.apply(2,arguments);if(this.communication){var n=L();t&&(this.callbackMap_[n]=t),i=new c(n,z(e),b.Version,P(b.Version,i)),this.communication.sendMessage(i)}},Z("OmidVerificationClient",Se)}),t),e.exports=function(){return t.OmidVerificationClient}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var __webpack_exports__={};!function(){try{const e=__webpack_require__(3038).default;e.setTotalSyncTimeStartTime(__dv_global_script_start_time__),e.setIndexExecutionStartTime();__webpack_require__(8519)()}catch(e){let t,i="https://tps.doubleverify.com/visit.jpg",r=4946;try{const{DvTagDataObject:e}=__webpack_require__(7749),{DvObject:n}=__webpack_require__(194),{WindowAdaptor:a}=__webpack_require__(3868);i=`${e.getServerPrefix()}${e.getErrorPath()}`,r=n.getDvtpScriptVersion(),t=a.getScenarioType()}catch(e){}let n=`${i}?ctx=818052&cmp=1619415&dvtagver=6.1.src&dvp_isLostImp=1&cerrt=4&jsver=4946&tgjsver=${r}&flvr=0`;if("function"==typeof encodeURIComponent){n+="&napr=WebPackConfig__"+encodeURIComponent(e.message);"string"==typeof e.stack&&Math.random()<=.1&&(n+="&ee_dp_errstk="+encodeURIComponent(e.stack))}t&&(n+="&tstype="+t),"object"==typeof omidNative&&"function"==typeof omidNative.sendUrl?(n+="&dvp_iomd=1",t||(n+="&tstype=4"),omidNative.sendUrl(n)):(new Image).src=n}}();