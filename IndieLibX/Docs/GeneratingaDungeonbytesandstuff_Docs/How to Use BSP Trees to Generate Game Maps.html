<!DOCTYPE html>
<html data-ad-targeting="{&quot;gamedevelo&quot;:[&quot;programming&quot;],&quot;publift_mv_testing&quot;:&quot;benchmark&quot;}" data-ads="[{&quot;doubleclick_id&quot;:&quot;11757429&quot;,&quot;unit_name&quot;:&quot;hub_gamedev&quot;,&quot;location&quot;:&quot;inarticle&quot;,&quot;width&quot;:300,&quot;height&quot;:250,&quot;slot_id&quot;:&quot;1392179545408-0&quot;,&quot;mappings&quot;:[{&quot;viewport&quot;:{&quot;width&quot;:980,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:336,&quot;height&quot;:280},{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:750,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:336,&quot;height&quot;:280},{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:0,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250},{&quot;width&quot;:300,&quot;height&quot;:100},{&quot;width&quot;:320,&quot;height&quot;:50},{&quot;width&quot;:300,&quot;height&quot;:50}]}]},{&quot;doubleclick_id&quot;:&quot;11757429&quot;,&quot;unit_name&quot;:&quot;hub_gamedev&quot;,&quot;location&quot;:&quot;post_top&quot;,&quot;width&quot;:300,&quot;height&quot;:250,&quot;slot_id&quot;:&quot;1385453370267-0&quot;,&quot;mappings&quot;:[{&quot;viewport&quot;:{&quot;width&quot;:980,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:600},{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:0,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250},{&quot;width&quot;:300,&quot;height&quot;:100},{&quot;width&quot;:320,&quot;height&quot;:50},{&quot;width&quot;:300,&quot;height&quot;:50}]}]},{&quot;doubleclick_id&quot;:&quot;11757429&quot;,&quot;unit_name&quot;:&quot;hub_gamedev&quot;,&quot;location&quot;:&quot;post_mid&quot;,&quot;width&quot;:300,&quot;height&quot;:250,&quot;slot_id&quot;:&quot;1385453414394-0&quot;,&quot;mappings&quot;:[{&quot;viewport&quot;:{&quot;width&quot;:980,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:600},{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:0,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250},{&quot;width&quot;:300,&quot;height&quot;:100},{&quot;width&quot;:320,&quot;height&quot;:50},{&quot;width&quot;:300,&quot;height&quot;:50}]}]},{&quot;doubleclick_id&quot;:&quot;11757429&quot;,&quot;unit_name&quot;:&quot;hub_gamedev&quot;,&quot;location&quot;:&quot;post_comments&quot;,&quot;width&quot;:300,&quot;height&quot;:250,&quot;slot_id&quot;:&quot;1385453399887-0&quot;,&quot;mappings&quot;:[{&quot;viewport&quot;:{&quot;width&quot;:980,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:750,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:0,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250},{&quot;width&quot;:300,&quot;height&quot;:600},{&quot;width&quot;:300,&quot;height&quot;:100},{&quot;width&quot;:320,&quot;height&quot;:50},{&quot;width&quot;:300,&quot;height&quot;:50}]}]},{&quot;location&quot;:&quot;leader&quot;,&quot;unit_name&quot;:&quot;hub_gamedev&quot;,&quot;slot_id&quot;:&quot;1391730999055-0&quot;,&quot;lazy&quot;:false,&quot;width&quot;:728,&quot;height&quot;:90,&quot;zoneid&quot;:533579,&quot;mappings&quot;:[{&quot;viewport&quot;:{&quot;width&quot;:980,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:970,&quot;height&quot;:250},{&quot;width&quot;:970,&quot;height&quot;:90},{&quot;width&quot;:728,&quot;height&quot;:90}]},{&quot;viewport&quot;:{&quot;width&quot;:750,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:728,&quot;height&quot;:90}]},{&quot;viewport&quot;:{&quot;width&quot;:0,&quot;height&quot;:0},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:100},{&quot;width&quot;:300,&quot;height&quot;:50},{&quot;width&quot;:320,&quot;height&quot;:50}]}],&quot;doubleclick_id&quot;:&quot;11757429&quot;}]" data-app-version="0efb058805e9b87cb6734ba61f7fc0d9d93b2c52-production" style="" class=" js no-touch history"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><iframe id="6393d232650f088" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/showad_005.html" width="0" height="0" frameborder="0"></iframe><iframe id="5821ebbb1dd9ca8" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a_004.html" width="0" height="0" frameborder="0"></iframe><iframe id="861a664dc64de08" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/showad_005.html" width="0" height="0" frameborder="0"></iframe><iframe id="75ef9420f0900d" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a_004.html" width="0" height="0" frameborder="0"></iframe><iframe id="8b27fa1f357b978" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/showad_005.html" width="0" height="0" frameborder="0"></iframe><iframe id="7b0e041899a8118" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a_004.html" width="0" height="0" frameborder="0"></iframe><iframe id="1689984105f78468" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/showad_005.html" width="0" height="0" frameborder="0"></iframe><iframe id="1503b1b9b9b432b8" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a_004.html" width="0" height="0" frameborder="0"></iframe><iframe id="5d2396aed1a3fc8" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/showad_005.html" width="0" height="0" frameborder="0"></iframe><iframe id="4660e12e892eec8" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a_004.html" width="0" height="0" frameborder="0"></iframe><meta charset="utf-8">

<title>How to Use BSP Trees to Generate Game Maps</title><link rel="canonical" href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/how-to-use-bsp-trees-to-generate-game-maps--gamedev-1_006.html"><link rel="shortcut icon" type="image/png" href="https://static.tutsplus.com/assets/favicon-b490c89e0c7d5748dbde558df6385abb.png"><link rel="apple-touch-icon" type="image/png" href="https://static.tutsplus.com/assets/apple-touch-icon-3e53736827c755caa0e2ced2e1b94e2f.png"><link rel="stylesheet" media="all" href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/application-b10ca0edcb1b4488492d0a2612933255.css"><!--[if lte IE 8]><link rel="stylesheet" media="screen" href="https://static.tutsplus.com/assets/ie8-45e9f8231a90bc576e3efc38f7a6afc9.css" /><![endif]--><link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="https://tutsplus.com/posts.atom"><meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="opu/a2I8vC0LajzIYxNu/IMIvHCtAOaP9kgRvXMRqt5ml0vykZ3HDPPTnQOsRVTjQ8YY6G1wCaU+hO4ZxTd7hg=="><meta content="initial-scale=1" name="viewport"><meta content="index, follow" name="robots"><meta content="How to Use BSP Trees to Generate Game Maps" property="og:title"><meta content="Game Development Envato Tuts+" property="og:site_name"><meta content="1494084460809023" property="fb:app_id"><meta content="When filling in an area randomly with objects, like rooms in a random dungeon, you run the risk of making things too random, resulting in clumping or just an unusable mess. In this tutorial, I will..." name="description" property="og:description"><meta content="article" property="og:type"><meta content="https://gamedevelopment.tutsplus.com/tutorials/how-to-use-bsp-trees-to-generate-game-maps--gamedev-12268" property="og:url"><meta content="true" property="native:billable"><meta content="2425" property="native:length"><meta property="native:priority"><link href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/how-to-use-bsp-trees-to-generate-game-maps--gamedev-1_006.html" hreflang="en" rel="alternate"><link href="https://gamedevelopment.tutsplus.com/es/tutorials/how-to-use-bsp-trees-to-generate-game-maps--gamedev-12268" hreflang="es" rel="alternate"><link href="https://gamedevelopment.tutsplus.com/ru/tutorials/how-to-use-bsp-trees-to-generate-game-maps--gamedev-12268" hreflang="ru" rel="alternate"><meta content="https://cdn.tutsplus.com/gamedev/uploads/2013/10/BSP_Generate_Maps_400px.png" property="og:image"><meta content="summary_large_image" name="twitter:card"><meta content="@tutsplus" name="twitter:site"><meta content="How to Use BSP Trees to Generate Game Maps" name="twitter:title"><meta content="When filling in an area randomly with objects, like rooms in a random dungeon, you run the risk of making things too random, resulting in clumping or just an unusable mess. In this tutorial, I will..." name="twitter:description"><meta content="https://cdn.tutsplus.com/gamedev/uploads/2013/10/BSP_Generate_Maps_400px.png" name="twitter:image"><meta content="t60fIs6JfmiK5FpPBlh_bKr5lJSX6abJYYIFjqiFG3M" name="google-site-verification"><link href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/css.css" rel="stylesheet" type="text/css"><meta content="D3E35339A8EC086B14C62277CBEC8234" name="msvalidate.01"><meta content="zvqxFgQqdy" name="baidu-site-verification"><link rel="prefetch" as="style" href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a_data/lounge.css"><link rel="prefetch" as="script" href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a_data/common.js"><link rel="prefetch" as="script" href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a_data/lounge.js"><link rel="prefetch" as="script" href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a_data/config.js"><link rel="preload" href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/integrator.js" as="script"><link rel="preload" href="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/integrator_002.js" as="script"></head><body class="page-body topic-gamedevelopment" data-ga-account="UA-11792865-37" data-ga-autolink-domains="activeden.net,audiojungle.net,themeforest.net,videohive.net,graphicriver.net,3docean.net,codecanyon.net,photodune.net,market.envato.com,market.styleguide.envato.com,elements.envato.com,build.envatohostedservices.com,author.envato.com,tutsplus.com,envato.com,business.tutsplus.com,design.tutsplus.com,code.tutsplus.com,webdesign.tutsplus.com,photography.tutsplus.com,music.tutsplus.com,cgi.tutsplus.com,gamedevelopment.tutsplus.com,computers.tutsplus.com,crafts.tutsplus.com" data-ga-domain="tutsplus.com" data-wt-dcsid="dcs222cpd4g6lg7wb3cum8l5g_6w6m"><div class="announcement-bar view noskim noskimlinks noskimwords noskimproducts announcement-bar--open view--loaded" data-announcement-id="voe-jun-18" data-background-image="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/16/topics/8/announcement_background_image/header-strip.jpg" data-fallback-background-color="#0dbdbd" data-link-color="#000000" data-text-color="#ffffff" style="background-image: url(&quot;https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/16/topics/8/announcement_background_image/header-strip.jpg&quot;); background-size: inherit; background-color: rgb(13, 189, 189); color: rgb(255, 255, 255);"><div class="announcement-bar__content"><div class="announcement-bar__primary"><div class="announcement-bar__title"><div align="center">
    <span class="announcement-bar__title-desktop">
        <strong>NEW</strong>
         Unlimited video downloads added to web &amp; graphic assets!
    </span>
    <span class="announcement-bar__title-mobile">
        <strong>NEW</strong> Unlimited video downloads
    </span>

    <a rel="noskim" href="https://elements.envato.com/video-templates?utm_medium=promos&amp;utm_source=tutsplus.com&amp;utm_campaign=elements_tuts-header_videolaunch_5UNE2018" style="color: rgb(0, 0, 0);">Download Now</a>
</div>

<style>

    .announcement-bar__title a {
        border-radius:4px;
        background-color:#FC9F97;
        padding:0px 20px;
        box-shadow:0px 0px 0px #FC9F97;
        margin:10px 10px 10px 10px;
        font-size:12px;
        letter-spacing:0.07em;
        height:30px;
        line-height:30px;
        text-decoration:none;
    }

    .announcement-bar__title a:hover {
        background-color: #FC9F97;
    }

</style></div></div><div class="announcement-bar__secondary"><a title="Close this announcement bar" class="announcement-bar__close-link" href="javascript:" style="color: rgb(0, 0, 0);"><span class="announcement-bar__close-label">Dismiss</span><i class="fa fa-times announcement-bar__close-icon"></i></a></div></div></div><!--[if lt IE 10]><div class="legacy-ie-banner"><h2 class="legacy-ie-banner__title">Unsupported browser</h2><p class="legacy-ie-banner__text">This site was designed for modern browsers and tested with Internet Explorer version 10 and later. </p><p class="legacy-ie-banner__text">It may not look or work correctly on your browser. </p></div><![endif]--><nav class="global-nav view view--loaded"><div class="global-nav__mobile-overlay"></div><div class="global-nav__mobile"><section class="global-nav__mobile-search global-search view view--loaded"><form class="global-nav__search-form" action="https://gamedevelopment.tutsplus.com/tutorials/search" accept-charset="UTF-8" method="get"><input name="utf8" value="✓" type="hidden"><input name="search[terms]" id="search_terms" placeholder="Search Envato Tuts+" class="global-nav__mobile-search-terms" type="text"><button name="button" type="submit" class="global-nav__mobile-search-button"><i class="fa fa-search"></i></button></form></section><div class="global-nav__mobile-user-links"><a class="global-nav__mobile-user-link" href="https://tutsplus.com/subscribe-with-elements">Subscribe</a><a class="global-nav__mobile-user-link" href="https://tutsplus.com/sign_in?redirect_to=https%3A%2F%2Fgamedevelopment.tutsplus.com%2Ftutorials%2Fhow-to-use-bsp-trees-to-generate-game-maps--gamedev-12268">Sign In</a></div><ul class="global-nav__mobile-top-level"><li class="global-nav__mobile-top-level-item global-nav__mobile-top-level-item--expanded"><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-link-expandable" href="https://tutsplus.com/tutorials"><span class="global-nav__mobile-top-level-link-title">How-To Tutorials</span></a><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-expansion-link" href="#"><span class="global-nav__mobile-top-level-expand-text"><i class="fa fa-plus global-nav__mobile-top-level-link-icon"></i></span><span class="global-nav__mobile-top-level-collapse-text"><i class="fa fa-minus global-nav__mobile-top-level-link-icon"></i></span></a><ul class="global-nav__mobile-second-level"><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-design" href="https://design.tutsplus.com/tutorials">Design &amp; Illustration</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-code" href="https://code.tutsplus.com/tutorials">Code</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-webdesign" href="https://webdesign.tutsplus.com/tutorials">Web Design</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-photography" href="https://photography.tutsplus.com/tutorials">Photo &amp; Video</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-business" href="https://business.tutsplus.com/tutorials">Business</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-music" href="https://music.tutsplus.com/tutorials">Music &amp; Audio</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-cgi" href="https://cgi.tutsplus.com/tutorials">3D &amp; Motion Graphics</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-gamedevelopment" href="https://gamedevelopment.tutsplus.com/tutorials">Game Development</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-computers" href="https://computers.tutsplus.com/tutorials">Computer Skills</a></li></ul></li><li class="global-nav__mobile-top-level-item"><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-link-expandable" href="https://tutsplus.com/courses"><span class="global-nav__mobile-top-level-link-title">Courses</span></a><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-expansion-link" href="#"><span class="global-nav__mobile-top-level-expand-text"><i class="fa fa-plus global-nav__mobile-top-level-link-icon"></i></span><span class="global-nav__mobile-top-level-collapse-text"><i class="fa fa-minus global-nav__mobile-top-level-link-icon"></i></span></a><div class="global-nav__mobile-second-level"><div class="global-nav__mobile-second-level-item"></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-design" href="https://design.tutsplus.com/courses">Design &amp; Illustration</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-code" href="https://code.tutsplus.com/courses">Code</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-webdesign" href="https://webdesign.tutsplus.com/courses">Web Design</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-photography" href="https://photography.tutsplus.com/courses">Photo &amp; Video</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-business" href="https://business.tutsplus.com/courses">Business</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-music" href="https://music.tutsplus.com/courses">Music &amp; Audio</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-cgi" href="https://cgi.tutsplus.com/courses">3D &amp; Motion Graphics</a></div></div></li><li class="global-nav__mobile-top-level-item"><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-link-expandable" href="https://tutsplus.com/ebooks"><span class="global-nav__mobile-top-level-link-title">eBooks</span></a><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-expansion-link" href="#"><span class="global-nav__mobile-top-level-expand-text"><i class="fa fa-plus global-nav__mobile-top-level-link-icon"></i></span><span class="global-nav__mobile-top-level-collapse-text"><i class="fa fa-minus global-nav__mobile-top-level-link-icon"></i></span></a><div class="global-nav__mobile-second-level"><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-design" href="https://design.tutsplus.com/ebooks">Design &amp; Illustration</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-code" href="https://code.tutsplus.com/ebooks">Code</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-webdesign" href="https://webdesign.tutsplus.com/ebooks">Web Design</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-photography" href="https://photography.tutsplus.com/ebooks">Photo &amp; Video</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-business" href="https://business.tutsplus.com/ebooks">Business</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-music" href="https://music.tutsplus.com/ebooks">Music &amp; Audio</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-cgi" href="https://cgi.tutsplus.com/ebooks">3D &amp; Motion Graphics</a></div></div></li><li class="global-nav__mobile-top-level-item"><a class="global-nav__mobile-top-level-link" href="https://tutsplus.com/subscribe-with-elements">Pricing</a></li></ul><ul class="global-nav-mobile__envato-links"><li class="global-nav__mobile-top-level-item"><a class="global-mobile__header-item--envato-link" href="https://elements.envato.com/">Envato Elements</a></li><li class="global-nav__mobile-top-level-item"><a class="global-mobile__header-item--envato-link" href="https://studio.envato.com/">Envato Studio</a></li><li class="global-nav__mobile-top-level-item"><a class="global-mobile__header-item--envato-link" href="http://community.envato.com/">Community</a></li><li class="global-nav__mobile-top-level-item"><a class="global-mobile__header-item--envato-link" href="https://help.elements.envato.com/">Help</a></li></ul></div><div class="global-nav__header"><div class="global-nav__header-content"><div class="global-nav__header-top"><a class="global-nav__header-tuts-logo-link" href="https://tutsplus.com/"><img alt="envato-tuts+" class="global-nav__header-tuts-logo-image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/tuts_logo-d1e8438b9f80a8e589ff4e0a071c7f4a.svg"></a><div class="global-nav__header-right"><ul class="global-nav__header-list"><li class="global-nav__header-item"><a class="global-nav__header-item--envato-link" href="https://elements.envato.com/?utm_campaign=elements_tuts-header_nav&amp;utm_medium=promos&amp;utm_source=tutsplus">Envato Elements</a></li><li class="global-nav__header-item"><a class="global-nav__header-item--envato-link" href="https://studio.envato.com/?utm_campaign=elements_tuts-header_nav&amp;utm_medium=promos&amp;utm_source=tutsplus">Envato Studio</a></li><li class="global-nav__header-item"><a class="global-nav__header-item--envato-link" href="http://community.envato.com/?utm_campaign=elements_tuts-header_nav&amp;utm_medium=promos&amp;utm_source=tutsplus">Community</a></li><li class="global-nav__header-item"><a class="global-nav__header-item--envato-link" href="https://forums.envato.com/c/project-making/envato-courses-and-tutorials?utm_campaign=elements_tuts-header_nav&amp;utm_medium=promos&amp;utm_source=tutsplus">Forum</a></li><li class="global-nav__header-item"><a class="global-nav__header-item--envato-link" href="https://help.elements.envato.com/">Help</a></li></ul><ul class="global-nav__header-buttons"><li class="global-nav__header-item"><a class="global-nav__header-item--internal-link global-nav__header-item--free-account-button" href="https://tutsplus.com/subscribe-with-elements">Subscribe</a></li><li class="global-nav__header-item"><a class="global-nav__header-item--sign-in-button global-nav__header-item--internal-link" rel="nofollow" href="https://tutsplus.com/sign_in?redirect_to=https%3A%2F%2Fgamedevelopment.tutsplus.com%2Ftutorials%2Fhow-to-use-bsp-trees-to-generate-game-maps--gamedev-12268">Sign In</a></li></ul></div></div><div class="global-nav__header-bottom"><ul class="global-nav__header-list"><li class="global-nav__header-item"><nav class="topics-menu view view--loaded" data-toggle=".topics-menu__dropdown-toggle"><a class="topics-menu__dropdown-toggle global-nav__header-link global-nav__header-link--primary global-nav__header-link--active" href="https://tutsplus.com/tutorials">How-To Tutorials<i class="fa fa-chevron-down"></i></a><ul class="topics-menu__topics topics-menu__topics--expanded"><li class="topics-menu__topic topic-design" data-slug="design"><a class="topics-menu__topic-link topic-design topics-menu__topic-link--active" href="https://design.tutsplus.com/tutorials">Design &amp; Illustration<i class="fa fa-chevron-right topics-menu__topic-link-chevron topics-menu__topic-link-chevron--active"></i></a><div class="topics-menu__topic-submenu topic-design topics-menu__topic-submenu--visible"><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/adobe-photoshop">Adobe Photoshop</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/vector">Vector</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/adobe-illustrator">Adobe Illustrator</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/illustration">Illustration</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/inspiration">Inspiration</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/tools-tips">Tools &amp; Tips</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/graphic-design">Graphic Design</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/text-effects">Text Effects</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/drawing">Drawing</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="https://design.tutsplus.com/categories/news">News</a></li></ul><a class="topics-menu__more-categories-link topic-design" href="https://design.tutsplus.com/categories">More Categories...</a><a class="topics-menu__submenu-footer-link topic-design" href="https://design.tutsplus.com/series">Learning Guides</a></div></li><li class="topics-menu__topic topic-code" data-slug="code"><a class="topics-menu__topic-link topic-code" href="https://code.tutsplus.com/tutorials">Code<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-code"><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/web-development">Web Development</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/mobile-development">Mobile Development</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/wordpress">WordPress</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/php">PHP</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/javascript">JavaScript</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/flash">Flash</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/cms">CMS</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/android-sdk">Android SDK</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/ios-sdk">iOS SDK</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="https://code.tutsplus.com/categories/news">News</a></li></ul><a class="topics-menu__more-categories-link topic-code" href="https://code.tutsplus.com/categories">More Categories...</a><a class="topics-menu__submenu-footer-link topic-code" href="https://code.tutsplus.com/series">Learning Guides</a></div></li><li class="topics-menu__topic topic-webdesign" data-slug="webdesign"><a class="topics-menu__topic-link topic-webdesign" href="https://webdesign.tutsplus.com/tutorials">Web Design<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-webdesign"><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/css">CSS</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/ui-design">UI Design</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/html">HTML</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/html-css">HTML &amp; CSS</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/ux">UX</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/javascript">JavaScript</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/adobe-photoshop">Adobe Photoshop</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/complete-websites">Complete Websites</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/workflow">Workflow</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="https://webdesign.tutsplus.com/categories/design-theory">Design Theory</a></li></ul><a class="topics-menu__more-categories-link topic-webdesign" href="https://webdesign.tutsplus.com/categories">More Categories...</a><a class="topics-menu__submenu-footer-link topic-webdesign" href="https://webdesign.tutsplus.com/series">Learning Guides</a></div></li><li class="topics-menu__topic topic-photography" data-slug="photography"><a class="topics-menu__topic-link topic-photography" href="https://photography.tutsplus.com/tutorials">Photo &amp; Video<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-photography"><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/video">Video</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/shooting">Shooting</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/adobe-photoshop">Adobe Photoshop</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/post-processing">Post-Processing</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/photography">Photography</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/photo-critique">Photo Critique</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/how-to">How-To</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/inspiration">Inspiration</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/lighting">Lighting</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="https://photography.tutsplus.com/categories/adobe-lightroom">Adobe Lightroom</a></li></ul><a class="topics-menu__more-categories-link topic-photography" href="https://photography.tutsplus.com/categories">More Categories...</a><a class="topics-menu__submenu-footer-link topic-photography" href="https://photography.tutsplus.com/series">Learning Guides</a></div></li><li class="topics-menu__topic topic-business" data-slug="business"><a class="topics-menu__topic-link topic-business" href="https://business.tutsplus.com/tutorials">Business<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-business"><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/how-to">How-To</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/marketing">Marketing</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/freelance">Freelance</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/presentations">Presentations</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/communication">Communication</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/software">Software</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/small-business">Small Business</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/planning">Planning</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/microsoft-powerpoint">Microsoft PowerPoint</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="https://business.tutsplus.com/categories/inspiration">Inspiration</a></li></ul><a class="topics-menu__more-categories-link topic-business" href="https://business.tutsplus.com/categories">More Categories...</a><a class="topics-menu__submenu-footer-link topic-business" href="https://business.tutsplus.com/series">Learning Guides</a></div></li><li class="topics-menu__topic topic-music" data-slug="music"><a class="topics-menu__topic-link topic-music" href="https://music.tutsplus.com/tutorials">Music &amp; Audio<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-music"><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/audio-production">Audio Production</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/general">General</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/logic-pro">Logic Pro</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/workshops">Workshops</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/mixing-mastering">Mixing &amp; Mastering</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/sound-design">Sound Design</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/open-mic">Open Mic</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/ableton-live">Ableton Live</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/reason">Reason</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="https://music.tutsplus.com/categories/recording">Recording</a></li></ul><a class="topics-menu__more-categories-link topic-music" href="https://music.tutsplus.com/categories">More Categories...</a><a class="topics-menu__submenu-footer-link topic-music" href="https://music.tutsplus.com/series">Learning Guides</a></div></li><li class="topics-menu__topic topic-cgi" data-slug="cgi"><a class="topics-menu__topic-link topic-cgi" href="https://cgi.tutsplus.com/tutorials">3D &amp; Motion Graphics<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-cgi"><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/adobe-after-effects">Adobe After Effects</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/3d">3D</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/motion-graphics">Motion Graphics</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/3d-studio-max">3D Studio Max</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/maya">Maya</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/cinema-4d">Cinema 4D</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/workflow">Workflow</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/news">News</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/visual-effects">Visual Effects</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="https://cgi.tutsplus.com/categories/roundups">Roundups</a></li></ul><a class="topics-menu__more-categories-link topic-cgi" href="https://cgi.tutsplus.com/categories">More Categories...</a><a class="topics-menu__submenu-footer-link topic-cgi" href="https://cgi.tutsplus.com/series">Learning Guides</a></div></li><li class="topics-menu__topic topic-gamedevelopment" data-slug="gamedevelopment"><a class="topics-menu__topic-link topic-gamedevelopment" href="https://gamedevelopment.tutsplus.com/tutorials">Game Development<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-gamedevelopment"><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/programming">Programming</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/game-design">Game Design</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/platform-agnostic">Platform Agnostic</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/business">Business</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/game-development">Game Development</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/2d-games">2D Games</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/news">News</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/unity">Unity</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/unity-3d">Unity 3D</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="https://gamedevelopment.tutsplus.com/categories/flash">Flash</a></li></ul><a class="topics-menu__more-categories-link topic-gamedevelopment" href="https://gamedevelopment.tutsplus.com/categories">More Categories...</a><a class="topics-menu__submenu-footer-link topic-gamedevelopment" href="https://gamedevelopment.tutsplus.com/series">Learning Guides</a></div></li><li class="topics-menu__topic topic-computers" data-slug="computers"><a class="topics-menu__topic-link topic-computers" href="https://computers.tutsplus.com/tutorials">Computer Skills<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-computers"><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/os-x">OS X</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/how-to">How-To</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/presentations">Presentations</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/software">Software</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/app-training">App Training</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/microsoft-powerpoint">Microsoft PowerPoint</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/productivity">Productivity</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/microsoft">Microsoft</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/tips-shortcuts">Tips &amp; Shortcuts</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="https://computers.tutsplus.com/categories/spreadsheets">Spreadsheets</a></li></ul><a class="topics-menu__more-categories-link topic-computers" href="https://computers.tutsplus.com/categories">More Categories...</a><a class="topics-menu__submenu-footer-link topic-computers" href="https://computers.tutsplus.com/series">Learning Guides</a></div></li></ul></nav></li><li class="global-nav__header-item"><nav class="courses-menu view" data-toggle=".courses-menu__dropdown-toggle"><a class="courses-menu__dropdown-toggle global-nav__header-link global-nav__header-link--primary " href="https://tutsplus.com/courses">Courses<i class="fa fa-chevron-down"></i></a><ul class="courses-menu__topics"><li class="courses-menu__topic topic-design" data-slug="design"><a class="courses-menu__topic-link topic-design" href="https://design.tutsplus.com/courses">Design &amp; Illustration</a></li><li class="courses-menu__topic topic-code" data-slug="code"><a class="courses-menu__topic-link topic-code" href="https://code.tutsplus.com/courses">Code</a></li><li class="courses-menu__topic topic-webdesign" data-slug="webdesign"><a class="courses-menu__topic-link topic-webdesign" href="https://webdesign.tutsplus.com/courses">Web Design</a></li><li class="courses-menu__topic topic-photography" data-slug="photography"><a class="courses-menu__topic-link topic-photography" href="https://photography.tutsplus.com/courses">Photo &amp; Video</a></li><li class="courses-menu__topic topic-business" data-slug="business"><a class="courses-menu__topic-link topic-business" href="https://business.tutsplus.com/courses">Business</a></li><li class="courses-menu__topic topic-music" data-slug="music"><a class="courses-menu__topic-link topic-music" href="https://music.tutsplus.com/courses">Music &amp; Audio</a></li><li class="courses-menu__topic topic-cgi" data-slug="cgi"><a class="courses-menu__topic-link topic-cgi" href="https://cgi.tutsplus.com/courses">3D &amp; Motion Graphics</a></li><li class="courses-menu__separator"></li><a class="courses-menu__topic-link courses-menu__upcoming-link" href="https://tutsplus.com/courses/upcoming">Coming Soon</a></ul></nav></li><li class="global-nav__header-item"><nav class="ebooks-menu view" data-toggle=".ebooks-menu__dropdown-toggle"><a class="ebooks-menu__dropdown-toggle global-nav__header-link global-nav__header-link--primary " href="https://tutsplus.com/ebooks">eBooks<i class="fa fa-chevron-down"></i></a><ul class="ebooks-menu__topics"><li class="ebooks-menu__topic topic-design" data-slug="design"><a class="ebooks-menu__topic-link topic-design" href="https://design.tutsplus.com/ebooks">Design &amp; Illustration</a></li><li class="ebooks-menu__topic topic-code" data-slug="code"><a class="ebooks-menu__topic-link topic-code" href="https://code.tutsplus.com/ebooks">Code</a></li><li class="ebooks-menu__topic topic-webdesign" data-slug="webdesign"><a class="ebooks-menu__topic-link topic-webdesign" href="https://webdesign.tutsplus.com/ebooks">Web Design</a></li><li class="ebooks-menu__topic topic-photography" data-slug="photography"><a class="ebooks-menu__topic-link topic-photography" href="https://photography.tutsplus.com/ebooks">Photo &amp; Video</a></li><li class="ebooks-menu__topic topic-business" data-slug="business"><a class="ebooks-menu__topic-link topic-business" href="https://business.tutsplus.com/ebooks">Business</a></li><li class="ebooks-menu__topic topic-music" data-slug="music"><a class="ebooks-menu__topic-link topic-music" href="https://music.tutsplus.com/ebooks">Music &amp; Audio</a></li><li class="ebooks-menu__topic topic-cgi" data-slug="cgi"><a class="ebooks-menu__topic-link topic-cgi" href="https://cgi.tutsplus.com/ebooks">3D &amp; Motion Graphics</a></li></ul></nav></li><li class="global-nav__header-item"><a class="global-nav__header-link" href="https://tutsplus.com/subscribe-with-elements">Pricing</a></li></ul><div class="global-nav__header-right"><div class="global-nav__search global-search view view--loaded"><form class="global-nav__search-form" action="https://gamedevelopment.tutsplus.com/tutorials/search" accept-charset="UTF-8" method="get"><input name="utf8" value="✓" type="hidden"><span class="twitter-typeahead" style="position: relative; display: inline-block; direction: ltr;"><input class="global-nav__search-terms tt-hint" style="position: absolute; top: 0px; left: 0px; border-color: transparent; box-shadow: none; opacity: 1; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%;" readonly="readonly" autocomplete="off" spellcheck="false" tabindex="-1" type="text"><input name="search[terms]" id="search_terms" placeholder="Search Envato Tuts+" class="global-nav__search-terms tt-input" autocomplete="off" spellcheck="false" style="position: relative; vertical-align: top; background-color: transparent;" dir="auto" type="text"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: optimizelegibility; text-transform: none;"></pre><span class="tt-dropdown-menu" style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none; right: auto;"><div class="tt-dataset-search"></div></span></span><button name="button" type="submit" class="global-nav__search-button"><i class="fa fa-search"></i></button></form></div></div></div></div></div><div class="global-nav__mobile-toggle"><a class="global-nav__mobile-toggle-link" href="javascript:"><i class="fa fa-reorder"></i><i class="fa fa-times"></i></a></div></nav><div class="avert avert--leaderboard"><div class="avert__wrapper"><div class="avert__content" id="div-gpt-1391730999055-0" data-google-query-id="CJPf4Mvi4dsCFYgMGQodc70Aaw"><div id="google_ads_iframe_/11757429/hub_gamedev_leader_0__container__" style="border: 0pt none; display: inline-block; width: 728px; height: 90px;"><iframe style="border: 0px none; vertical-align: bottom;" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/container_005.html" id="google_ads_iframe_/11757429/hub_gamedev_leader_0" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" data-is-safeframe="true" width="728" height="90" frameborder="0"></iframe></div></div><div class="avert__content avert__criteo" id="ctr-1391730999055-0" style="display: none;"></div><div class="avert__label">Advertisement</div></div></div><div class="page-content topic-gamedevelopment"><main class="content"><div class="content-banner"><div class="content-banner-restricted-width"><ol class="content-banner__content-breadcrumb topic-gamedevelopment"><li><a href="https://gamedevelopment.tutsplus.com/tutorials">Game Development</a></li><li><a href="https://gamedevelopment.tutsplus.com/categories/programming">Programming</a></li></ol><div class="content-banner__icon"><img class="content-banner__title-icon" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/gamedevelopment-fe3f0945c2dd6274e587147959823b35.svg" alt="Gamedevelopment"></div><div class="content-banner__body"><h1 class="content-banner__title nolinks">How to Use BSP Trees to Generate Game Maps</h1></div></div></div><div class="content-title"></div><article class="post article view view--loaded"><div class="post__inarticle-ad-template" style="display: none"><div class="avert avert--inarticle"><div class="avert__wrapper"><div class="avert__content" id="div-gpt-1392179545408-0" data-google-query-id="CLDL68ni4dsCFcaLsgod_MEILA"><div id="google_ads_iframe_/11757429/hub_gamedev_inarticle_0__container__" style="border: 0pt none; display: inline-block; width: 336px; height: 280px;"><iframe style="border: 0px none; vertical-align: bottom;" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/container_005.html" id="google_ads_iframe_/11757429/hub_gamedev_inarticle_0" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" data-is-safeframe="true" width="336" height="280" frameborder="0"></iframe></div></div><div class="avert__content avert__criteo" id="ctr-1392179545408-0"></div><div class="avert__label">Advertisement</div></div></div></div><div class="layout__content-with-sidebar"><div class="content-heading"><div class="content-heading__primary"><div class="content-heading__primary-authorship"><span class="content-heading__author">by <span class="content-heading__author-name"><a rel="author" href="https://tutsplus.com/authors/timothy-hely">Timothy Hely</a></span></span><time class="content-heading__publication-date" datetime="2013-11-01T15:30:24Z" title="1 Nov 2013">1 Nov 2013</time></div><div class="content-heading__primary-attributes"><span class="content-heading__item"><span class="content-heading__label">Difficulty:</span><span class="content-heading__value">Intermediate</span></span><span class="content-heading__item"><span class="content-heading__label">Length:</span><span class="content-heading__value">Long</span></span><span class="content-heading__item"><span class="content-heading__label">Languages:</span><select class="content-heading__value url-selector view view--loaded"><option data-url="/tutorials/how-to-use-bsp-trees-to-generate-game-maps--gamedev-12268" value="en" selected="selected">English</option><option data-url="/es/tutorials/how-to-use-bsp-trees-to-generate-game-maps--gamedev-12268" value="es">Español</option><option data-url="/ru/tutorials/how-to-use-bsp-trees-to-generate-game-maps--gamedev-12268" value="ru">Pусский</option></select></span></div></div><div class="content-heading__secondary"><div class="content-heading__secondary-categories"><a href="https://gamedevelopment.tutsplus.com/categories/programming"><span class="content-heading__secondary-categories-tag">Programming</span></a></div><div class="content-heading__secondary-social"><span class="content-heading__comment-count"><a href="#post_comments"><i class="fa fa-comment"></i></a><div class="social-share-menu popup-menu view view--loaded"><a class="popup-menu-toggle drop-theme-arrows-bounce drop-target" href="javascript:"><i class="fa fa-share-alt"></i></a><div class="popup-menu-content"><ul class="social-share-menu__popup-menu-content"><li><a title="Share on Facebook" href="https://www.facebook.com/dialog/feed?app_id=1494084460809023&amp;link=https%3A%2F%2Fgamedevelopment.tutsplus.com%2Ftutorials%2Fhow-to-use-bsp-trees-to-generate-game-maps--gamedev-12268&amp;display=page&amp;name=How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps&amp;redirect_uri=https%3A%2F%2Fgamedevelopment.tutsplus.com%2Ftutorials%2Fhow-to-use-bsp-trees-to-generate-game-maps--gamedev-12268"><i class="fa fa-facebook-square"></i></a></li><li><a target="_blank" title="Share on Twitter" href="https://twitter.com/intent/tweet?text=How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps&amp;url=https%3A%2F%2Fgamedevelopment.tutsplus.com%2Ftutorials%2Fhow-to-use-bsp-trees-to-generate-game-maps--gamedev-12268&amp;via=tutsplus"><i class="fa fa-twitter"></i></a></li><li><a target="_blank" title="Share on Google+" href="https://plus.google.com/share?url=https%3A%2F%2Fgamedevelopment.tutsplus.com%2Ftutorials%2Fhow-to-use-bsp-trees-to-generate-game-maps--gamedev-12268"><i class="fa fa-google-plus"></i></a></li><li><a target="_blank" title="Pin on Pinterest" href="https://www.pinterest.com/pin/create/button/?url=https%3A%2F%2Fgamedevelopment.tutsplus.com%2Ftutorials%2Fhow-to-use-bsp-trees-to-generate-game-maps--gamedev-12268&amp;description=How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps&amp;media=https%3A%2F%2Fcdn.tutsplus.com%2Fgamedev%2Fuploads%2F2013%2F10%2FBSP_Generate_Maps_400px.png"><i class="fa fa-pinterest"></i></a></li></ul></div></div></span></div></div></div><div class="post-body view view--loaded"><div class="post-body__body"><div class="post-body__content"><p>When filling in an area randomly with objects, like rooms in a random dungeon, you run the risk of making things <em>too</em> random, resulting in clumping or just an unusable mess. In this tutorial, I will show you how to use <em>Binary Space Partitioning</em> to solve this problem. </p>
<p>I will be leading you through some general steps to use BSP to make a
 simple, 2D map, which could be used for a dungeon layout for a game. I 
will show you how to make a basic <code>Leaf</code> object, which we will use to divide an area up into small segments; then, how to generate a random room in each <code>Leaf</code>; and, finally, how to connect all of the rooms together with hallways.</p>
<div>Note: While the example code here uses AS3, you should be able to use the concepts in pretty much any language you want.
</div>
<hr>
<h2 class="nolinks">Demo Project</h2>
<p>I've created a demo program that shows off some of the power of BSP. The demo is written using <a href="http://flixel.org/">Flixel</a>, a free, open-source AS3 library for making games.</p>
<p>When you click the <strong>Generate</strong> button, it runs through the same code as above to generate some <code>Leafs</code>, and then draws them on to a <code>BitmapData</code> object, which it then displays (scaled up to fill the screen).</p>
<figure><a href="http://tutsplus.github.io/Using-BSP-Trees-to-Generate-Game-Maps/demo/SWFDemo.html?swfName=BSPTut.swf&amp;height=480&amp;width=640"><img alt="Screenshot from Demo program - Generating the Random Map" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Binary_Space_Partitioning_for_Maps_Gamedev_Screen-Demo-01.jpg" width="600" height="450"></a><br>
<figcaption>Generating the Random Map. (<a href="http://tutsplus.github.io/Using-BSP-Trees-to-Generate-Game-Maps/demo/SWFDemo.html?swfName=BSPTut.swf&amp;height=480&amp;width=640">Click to load the demo.</a>)</figcaption>
</figure>
<p>When you hit the <strong>Play</strong> button, it passes the generated map <code>Bitmap</code> over to the <code>FlxTilemap</code> object, which then generates a playable tilemap and shows it on the screen for you to walk around in:</p>
<figure><a href="http://tutsplus.github.io/Using-BSP-Trees-to-Generate-Game-Maps/demo/SWFDemo.html?swfName=BSPTut.swf&amp;height=480&amp;width=640"><img alt="Screenshot from Demo program - Playing the Map" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Binary_Space_Partitioning_for_Maps_Gamedev_Screen-Demo-02.jpg" width="600" height="450"></a><br>
<figcaption>Playing the Map. (<a href="http://tutsplus.github.io/Using-BSP-Trees-to-Generate-Game-Maps/demo/SWFDemo.html?swfName=BSPTut.swf&amp;height=480&amp;width=640">Click to load the demo.</a>)</figcaption>
</figure>
<p>Use the arrow keys to move.</p>
<hr>
<h2 class="nolinks">What is BSP?</h2>
<p><a href="http://en.wikipedia.org/wiki/Binary_space_partitioning">Binary Space Partitioning</a> is a method of dividing an area into smaller pieces.</p>
<p>Basically, you take an area, called a <code>Leaf</code>, and split 
it—either vertically or horizontally—into two smaller Leafs, and then 
repeat the process on the smaller areas over and over again until each 
area is at least as small as a set maximum value.</p>
<p>When you're done, you have a hierarchy of partitioned <code>Leafs</code>,
 which you can do all sorts of things with. In 3D graphics, you might 
use BSP to sort which objects are visible to the player, or to help with
 collision detection in smaller, bite-sized pieces.</p>
<hr>
<h2 class="nolinks">Why Use BSP to Generate Maps?</h2>
<p>If you want to generate a random map, there are all sorts of ways to 
go about it. You could write simple logic to create randomly sized 
rectangles at random locations, but this can leave you with maps that 
are full of overlapping, clumped, or strangely-spaced rooms. It also 
makes it a little more difficult to connect the rooms to each other and 
to ensure that there are no orphaned rooms.</p>
<p>With BSP, you can guarantee more evenly-spaced rooms, while also making sure you can connect all the rooms together.</p>
<hr>
<h2 class="nolinks">Creating Leafs</h2>
<p>The first thing we need is to create our <code>Leaf</code> class. Basically, our <code>Leaf</code> is going to be a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/geom/Rectangle.html">Rectangle</a>, with some extra functionality. Each <code>Leaf</code> will either contain a pair of children <code>Leafs</code>, or a pair of <code>Rooms</code>, as well as a hallway or two.</p>
<p>Here's what our <code>Leaf</code> looks like:</p>
<div><div id="highlighter_681737" class="syntaxhighlighter noskimlinks noskimwords plain"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">public class Leaf</code></div><div class="line number2 index1 alt1"><code class="plain plain">{</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">private const MIN_LEAF_SIZE:uint = 6;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">public var y:int, x:int, width:int, height:int; // the position and size of this Leaf</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">public var leftChild:Leaf; // the Leaf's left child Leaf</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">public var rightChild:Leaf; // the Leaf's right child Leaf</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">public var room:Rectangle; // the room that is inside this Leaf</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">public var halls:Vector.; // hallways to connect this Leaf to other Leafs</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">public function Leaf(X:int, Y:int, Width:int, Height:int)</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// initialize our leaf</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">x = X;</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">y = Y;</code></div><div class="line number18 index17 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">width = Width;</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">height = Height;</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">public function split():Boolean</code></div><div class="line number23 index22 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number24 index23 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// begin splitting the leaf into two children</code></div><div class="line number25 index24 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (leftChild != null || rightChild != null)</code></div><div class="line number26 index25 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">return false; // we're already split! Abort!</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// determine direction of split</code></div><div class="line number29 index28 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// if the width is &gt;25% larger than height, we split vertically</code></div><div class="line number30 index29 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// if the height is &gt;25% larger than the width, we split horizontally</code></div><div class="line number31 index30 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// otherwise we split randomly</code></div><div class="line number32 index31 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">var splitH:Boolean = FlxG.random() &gt; 0.5;</code></div><div class="line number33 index32 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (width &gt; height &amp;&amp; width / height &gt;= 1.25)</code></div><div class="line number34 index33 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">splitH = false;</code></div><div class="line number35 index34 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else if (height &gt; width &amp;&amp; height / width &gt;= 1.25)</code></div><div class="line number36 index35 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">splitH = true;</code></div><div class="line number37 index36 alt2">&nbsp;</div><div class="line number38 index37 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">var max:int = (splitH ? height : width) - MIN_LEAF_SIZE; // determine the maximum height or width</code></div><div class="line number39 index38 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (max &lt;= MIN_LEAF_SIZE)</code></div><div class="line number40 index39 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">return false; // the area is too small to split any more...</code></div><div class="line number41 index40 alt2">&nbsp;</div><div class="line number42 index41 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">var split:int = Registry.randomNumber(MIN_LEAF_SIZE, max); // determine where we're going to split</code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// create our left and right children based on the direction of the split</code></div><div class="line number45 index44 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (splitH)</code></div><div class="line number46 index45 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number47 index46 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">leftChild = new Leaf(x, y, width, split);</code></div><div class="line number48 index47 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rightChild = new Leaf(x, y + split, width, height - split);</code></div><div class="line number49 index48 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number50 index49 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number51 index50 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number52 index51 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">leftChild = new Leaf(x, y, split, height);</code></div><div class="line number53 index52 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">rightChild = new Leaf(x + split, y, width - split, height);</code></div><div class="line number54 index53 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number55 index54 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">return true; // split successful!</code></div><div class="line number56 index55 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number57 index56 alt2"><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Now, you need to actually create your <code>Leafs</code>:</p>
<pre class="brush: noskimlinks noskimwords">const MAX_LEAF_SIZE:uint = 20;

var _leafs:Vector&lt;Leaf&gt; = new Vector&lt;Leaf&gt;;

var l:Leaf; // helper Leaf

// first, create a Leaf to be the 'root' of all Leafs.
var root:Leaf = new Leaf(0, 0, _sprMap.width, _sprMap.height);
_leafs.push(root);

var did_split:Boolean = true;
// we loop through every Leaf in our Vector over and over again, until no more Leafs can be split.
while (did_split)
{
	did_split = false;
	for each (l in _leafs)
	{
		if (l.leftChild == null &amp;&amp; l.rightChild == null) // if this Leaf is not already split...
		{
			// if this Leaf is too big, or 75% chance...
			if (l.width &gt; MAX_LEAF_SIZE || l.height &gt; MAX_LEAF_SIZE || FlxG.random() &gt; 0.25)
			{
				if (l.split()) // split the Leaf!
				{
					// if we did split, push the child leafs to the Vector so we can loop into them next
					_leafs.push(l.leftChild);
					_leafs.push(l.rightChild);
					did_split = true;
				}
			}
		}
	}
}</pre>
<p>After this loop finishes, you'll be left with a <code>Vector</code> (a typed array) full of all your <code>Leafs</code>.</p>
<p>Here's an example with lines separating each <code>Leaf</code>:</p>
<figure><img alt="Sample of an area divided by Leafs" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Binary_Space_Partitioning_for_Maps_Gamedev_Screen-01.jpg" width="600" height="450"><br>
<figcaption>Sample of an area divided by Leafs</figcaption>
</figure>
<hr>
<h2 class="nolinks">Creating Rooms</h2>
<p>Now that your <code>Leafs</code> are defined, we need to make the rooms. We want a sort of 'trickle-down' effect where we go from our biggest, 'root' <code>Leaf</code> all the way to our smallest <code>Leafs</code> with no children, and then make a room in each one of those.</p>
<p>So, add this function to your <code>Leaf</code> class:</p>
<pre class="brush: noskimlinks noskimwords">public function createRooms():void
{
	// this function generates all the rooms and hallways for this Leaf and all of its children.
	if (leftChild != null || rightChild != null)
	{
		// this leaf has been split, so go into the children leafs
		if (leftChild != null)
		{
			leftChild.createRooms();
		}
		if (rightChild != null)
		{
			rightChild.createRooms();
		}
	}
	else
	{
		// this Leaf is the ready to make a room
		var roomSize:Point;
		var roomPos:Point;
		// the room can be between 3 x 3 tiles to the size of the leaf - 2.
		roomSize = new Point(Registry.randomNumber(3, width - 2), Registry.randomNumber(3, height - 2));
		// place the room within the Leaf, but don't put it right 
		// against the side of the Leaf (that would merge rooms together)
		roomPos = new Point(Registry.randomNumber(1, width - roomSize.x - 1), Registry.randomNumber(1, height - roomSize.y - 1));
		room = new Rectangle(x + roomPos.x, y + roomPos.y, roomSize.x, roomSize.y);
	}
}</pre>
<p>Then, after you've created your <code>Vector</code> of <code>Leafs</code>, call our new function from your root <code>Leaf</code>:</p>
<pre class="brush: noskimlinks noskimwords">_leafs = new Vector&lt;Leaf&gt;;

var l:Leaf; // helper Leaf

// first, create a Leaf to be the 'root' of all Leafs.
var root:Leaf = new Leaf(0, 0, _sprMap.width, _sprMap.height);
_leafs.push(root);

var did_split:Boolean = true;
// we loop through every Leaf in our Vector over and over again, until no more Leafs can be split.
while (did_split)
{
	did_split = false;
	for each (l in _leafs)
	{
		if (l.leftChild == null &amp;&amp; l.rightChild == null) // if this Leaf is not already split...
		{
			// if this Leaf is too big, or 75% chance...
			if (l.width &gt; MAX_LEAF_SIZE || l.height &gt; MAX_LEAF_SIZE || FlxG.random() &gt; 0.25)
			{
				if (l.split()) // split the Leaf!
				{
					// if we did split, push the child Leafs to the Vector so we can loop into them next
					_leafs.push(l.leftChild);
					_leafs.push(l.rightChild);
					did_split = true;
				}
			}
		}
	}
}

// next, iterate through each Leaf and create a room in each one.
root.createRooms();</pre>
<p>Here's an example of some generated <code>Leafs</code> with rooms inside of them:</p>
<figure><img alt="Sample of Leafs with random room inside each one" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Binary_Space_Partitioning_for_Maps_Gamedev_Screen-02.jpg" width="600" height="450"><br>
<figcaption>Sample of Leafs with random room inside each one.</figcaption>
</figure>
<p>As you can see, each <code>Leaf</code> contains a single room with a random size and position. You can play with the values for minimum and maximum <code>Leaf</code> size, and alter how you determine the size and position of each room, to get different effects.</p>
<p>If we remove our <code>Leaf</code> separator lines, you can see that 
the rooms fill the entire map nicely—there's not a lot of wasted 
space—and have a slightly more organic feel to them.</p>
<figure><img alt="Sample of Leafs with a room inside each one separator lines removed" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Binary_Space_Partitioning_for_Maps_Gamedev_Screen-03.jpg" width="600" height="450"><br>
<figcaption>Sample of <code>Leafs</code> with a room inside each one, with separator lines removed.</figcaption>
</figure>
<hr>
<h2 class="nolinks">Connecting Leafs</h2>
<p>Now, all we need to do is connect each room. Thankfully, since we have the built-in relationships between <code>Leafs</code>, all we have to do is make sure that each <code>Leaf</code> that has child <code>Leafs</code> has a hallway that connects its children.</p>
<p>We'll take a <code>Leaf</code>, look at each of its children <code>Leafs</code>, go all the way through each child until we get to a <code>Leaf</code> with a room, and then connect the rooms together. We can do this at the same time we generate our rooms.</p>
<p>First, we need a new function to iterate from any <code>Leaf</code> into one of the rooms that are inside one of the child <code>Leafs</code>:</p>
<pre class="brush: noskimlinks noskimwords">public function getRoom():Rectangle
{
	// iterate all the way through these leafs to find a room, if one exists.
	if (room != null)
		return room;
	else
	{
		var lRoom:Rectangle;
		var rRoom:Rectangle;
		if (leftChild != null)
		{
			lRoom = leftChild.getRoom();
		}
		if (rightChild != null)
		{
			rRoom = rightChild.getRoom();
		}
		if (lRoom == null &amp;&amp; rRoom == null)
			return null;
		else if (rRoom == null)
			return lRoom;
		else if (lRoom == null)
			return rRoom;
		else if (FlxG.random() &gt; .5)
			return lRoom;
		else
			return rRoom;
	}
}</pre>
<p>Next, we need a function that takes a pair of rooms, picks a random 
point inside both rooms, and then creates either one or two 
two-tile-thick rectangles to connect the points together.</p>
<div><div id="highlighter_354612" class="syntaxhighlighter noskimlinks noskimwords plain"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">public function createHall(l:Rectangle, r:Rectangle):void</code></div><div class="line number2 index1 alt1"><code class="plain plain">{</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// now we connect these two rooms together with hallways.</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// this looks pretty complicated, but it's just trying to figure out which point is where and then either draw a straight line, or a pair of lines to make a right-angle to connect them.</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">// you could do some extra logic to make your halls more bendy, or do some more advanced things if you wanted.</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls = new Vector&lt;Rectangle&gt;;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">var point1:Point = new Point(Registry.randomNumber(l.left + 1, l.right - 2), Registry.randomNumber(l.top + 1, l.bottom - 2));</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">var point2:Point = new Point(Registry.randomNumber(r.left + 1, r.right - 2), Registry.randomNumber(r.top + 1, r.bottom - 2));</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">var w:Number = point2.x - point1.x;</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">var h:Number = point2.y - point1.y;</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (w &lt; 0)</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (h &lt; 0)</code></div><div class="line number18 index17 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (FlxG.random() &lt; 0.5)</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number21 index20 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point1.y, Math.abs(w), 1));</code></div><div class="line number22 index21 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point2.y, 1, Math.abs(h)));</code></div><div class="line number23 index22 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number24 index23 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number25 index24 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number26 index25 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point2.y, Math.abs(w), 1));</code></div><div class="line number27 index26 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point2.y, 1, Math.abs(h)));</code></div><div class="line number28 index27 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number29 index28 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number30 index29 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else if (h &gt; 0)</code></div><div class="line number31 index30 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number32 index31 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (FlxG.random() &lt; 0.5)</code></div><div class="line number33 index32 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number34 index33 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point1.y, Math.abs(w), 1));</code></div><div class="line number35 index34 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point1.y, 1, Math.abs(h)));</code></div><div class="line number36 index35 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number37 index36 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number38 index37 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number39 index38 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point2.y, Math.abs(w), 1));</code></div><div class="line number40 index39 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point1.y, 1, Math.abs(h)));</code></div><div class="line number41 index40 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number42 index41 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number43 index42 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else // if (h == 0)</code></div><div class="line number44 index43 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number45 index44 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point2.y, Math.abs(w), 1));</code></div><div class="line number46 index45 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number47 index46 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number48 index47 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else if (w &gt; 0)</code></div><div class="line number49 index48 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number50 index49 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (h &lt; 0)</code></div><div class="line number51 index50 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number52 index51 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (FlxG.random() &lt; 0.5)</code></div><div class="line number53 index52 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number54 index53 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point2.y, Math.abs(w), 1));</code></div><div class="line number55 index54 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point2.y, 1, Math.abs(h)));</code></div><div class="line number56 index55 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number57 index56 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number58 index57 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number59 index58 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point1.y, Math.abs(w), 1));</code></div><div class="line number60 index59 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point2.y, 1, Math.abs(h)));</code></div><div class="line number61 index60 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number62 index61 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number63 index62 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else if (h &gt; 0)</code></div><div class="line number64 index63 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number65 index64 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (FlxG.random() &lt; 0.5)</code></div><div class="line number66 index65 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number67 index66 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point1.y, Math.abs(w), 1));</code></div><div class="line number68 index67 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point1.y, 1, Math.abs(h)));</code></div><div class="line number69 index68 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number70 index69 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number71 index70 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number72 index71 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point2.y, Math.abs(w), 1));</code></div><div class="line number73 index72 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point1.y, 1, Math.abs(h)));</code></div><div class="line number74 index73 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number75 index74 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number76 index75 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else // if (h == 0)</code></div><div class="line number77 index76 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number78 index77 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point1.y, Math.abs(w), 1));</code></div><div class="line number79 index78 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number80 index79 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number81 index80 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else // if (w == 0)</code></div><div class="line number82 index81 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number83 index82 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (h &lt; 0)</code></div><div class="line number84 index83 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number85 index84 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point2.x, point2.y, 1, Math.abs(h)));</code></div><div class="line number86 index85 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number87 index86 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else if (h &gt; 0)</code></div><div class="line number88 index87 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number89 index88 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">halls.push(new Rectangle(point1.x, point1.y, 1, Math.abs(h)));</code></div><div class="line number90 index89 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number91 index90 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number92 index91 alt1"><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Finally, change your <code>createRooms()</code> function to call the <code>createHall()</code> function on any <code>Leaf</code> that has a pair of children:</p>
<pre class="brush: noskimlinks noskimwords">public function createRooms():void
{
	// this function generates all the rooms and hallways for this Leaf and all of its children.
	if (leftChild != null || rightChild != null)
	{
		// this leaf has been split, so go into the children leafs
		if (leftChild != null)
		{
			leftChild.createRooms();
		}
		if (rightChild != null)
		{
			rightChild.createRooms();
		}

		// if there are both left and right children in this Leaf, create a hallway between them
		if (leftChild != null &amp;&amp; rightChild != null)
		{
			createHall(leftChild.getRoom(), rightChild.getRoom());
		}

	}
	else
	{
		// this Leaf is the ready to make a room
		var roomSize:Point;
		var roomPos:Point;
		// the room can be between 3 x 3 tiles to the size of the leaf - 2.
		roomSize = new Point(Registry.randomNumber(3, width - 2), Registry.randomNumber(3, height - 2));
		// place the room within the Leaf, but don't put it right against the side of the leaf (that would merge rooms together)
		roomPos = new Point(Registry.randomNumber(1, width - roomSize.x - 1), Registry.randomNumber(1, height - roomSize.y - 1));
		room = new Rectangle(x + roomPos.x, y + roomPos.y, roomSize.x, roomSize.y);
	}
}</pre>
<p>Your rooms and hallways should now look something like this:</p>
<figure><img alt="Sample of Leafs filled with random rooms connected via hallways" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Binary_Space_Partitioning_for_Maps_Gamedev_Screen-04.jpg" width="600" height="450"><br>
<figcaption>Example of <code>Leafs</code> filled with random rooms connected via hallways.</figcaption>
</figure>
<p>As you can see, because we are making sure to connect every <code>Leaf</code>,
 we're not left with any orphan rooms. Obviously, the hallway logic 
could be a little more refined to try to avoid running too close to 
other hallways, but it works well  enough.</p>
<hr>
<h2 class="nolinks">Finishing Up</h2>
<p>That's basically it! We've covered how to create a (relatively) simple <code>Leaf</code> object, which you can use to generate a tree of divided Leafs, generate a random room inside each <code>Leaf</code>, and connect the the rooms via hallways.</p>
<p>Currently, all the objects we created are essentially rectangles, but
 depending on how you intend to use the resulting dungeon, you can 
handle them in all sorts of ways.</p>
<p>Now you can use BSP to make any kind of random maps you want, or use 
it to evenly distribute power ups or enemies across an area... or 
whatever you want!</p></div></div></div>  <!-- PUBLIFT ADSENSE START -->
  <div class="avert avert--publift">
    
    <div class="avert__wrapper">
      <ins class="avert__content avert--publift-inset adsbygoogle" data-ad-client="ca-pub-9093712935949486" data-ad-slot="5326059481" data-max-num-ads="1" data-override-format="true" data-partner="Publift" data-partner-url="www.publift.com" data-adsbygoogle-status="done" style="width: 610px; height: 250px;"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:610px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:610px;background-color:transparent;"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:610px;height:250px;" width="610" height="250" frameborder="0"></iframe></ins></ins></ins>
       <div class="avert__label">
         Advertisement
       </div>
    </div>
    
  </div>
  <!-- PUBLIFT ADSENSE END -->
<div class="content-author"><a href="https://tutsplus.com/authors/timothy-hely"><div class="content-author__header"><img class="content-author__image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/47b618fe90adaf7d607debadf9af4512.png" alt="47b618fe90adaf7d607debadf9af4512?s=200&amp;d=https%3a%2f%2fassets.tutsplus.com%2fimages%2fhub%2favatar default"><div class="content-author__name">Timothy Hely</div><div class="content-author__title"></div></div><div class="content-author__bio">Tim
 is a Father, Programmer, Game Developer, Writer, YouTube Channeler, and
 Game Jam enthusiast. Check out his wide range of insane projects at 
http://tims-world.com</div></a></div></div><div class="layout__sidebar"><ul class="social-links"><li class="social-links__item social-links__item--feed"><a class="social-links__link social-links__link--feed" href="https://gamedevelopment.tutsplus.com/categories/programming.atom"><i class="icon fa fa-rss social-links__icon"></i>Feed </a></li><li class="social-links__item social-links__item--facebook"><a class="social-links__link social-links__link--facebook" href="http://facebook.com/gamedevtuts"><i class="icon fa fa-facebook-square social-links__icon"></i>Like </a></li><li class="social-links__item social-links__item--twitter"><a class="social-links__link social-links__link--twitter" href="http://twitter.com/tutsplus"><i class="icon fa fa-twitter social-links__icon"></i>Follow </a></li><li class="social-links__item social-links__item--google-plus"><a class="social-links__link social-links__link--google-plus" href="https://plus.google.com/113664840006452864249"><i class="icon fa fa-google-plus social-links__icon"></i>Follow </a></li></ul><div class="post__sidebar"><div class="post__sidebar-primary"><div class="weekly-digest-subscription"><div class="weekly-digest-subscription--header">Weekly email summary</div>Subscribe
 below and we’ll send you a weekly email summary of all new Game 
Development tutorials. Never miss out on learning about the next big 
thing.<form class="weekly-digest-subscription__form" id="new_weekly_digest_subscription_request" action="/weekly_digest_subscription_requests" accept-charset="UTF-8" method="post"><input name="utf8" value="✓" type="hidden"><input name="authenticity_token" value="opu/a2I8vC0LajzIYxNu/IMIvHCtAOaP9kgRvXMRqt5ml0vykZ3HDPPTnQOsRVTjQ8YY6G1wCaU+hO4ZxTd7hg==" type="hidden"><input placeholder="Email Address" class="weekly-digest-subscription__email-field" name="weekly_digest_subscription_request[email]" id="weekly_digest_subscription_request_email" type="email"><button name="button" type="submit" class="weekly-digest-subscription__subscribe-button">Update me weekly</button></form></div><div class="avert"><div class="avert__wrapper"><div class="avert__content" id="div-gpt-1385453370267-0" data-google-query-id="CPnjoMri4dsCFYgGGQodNosAgg"><div id="google_ads_iframe_/11757429/hub_gamedev_post_top_0__container__" style="border: 0pt none; display: inline-block; width: 300px; height: 600px;"><iframe style="border: 0px none; vertical-align: bottom;" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/container_005.html" id="google_ads_iframe_/11757429/hub_gamedev_post_top_0" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" data-is-safeframe="true" width="300" height="600" frameborder="0"></iframe></div></div><div class="avert__content avert__criteo" id="ctr-1385453370267-0"></div><div class="avert__label">Advertisement</div></div></div></div><div class="post__sidebar-secondary"><div class="post__sidebar-resource-links"><a href="https://github.com/tutsplus/Using-BSP-Trees-to-Generate-Game-Maps">Download Attachment </a><a href="http://tutsplus.github.io/Using-BSP-Trees-to-Generate-Game-Maps/demo/SWFDemo.html?swfName=BSPTut.swf&amp;height=480&amp;width=640">View Online Demo </a></div><div class="post-translate"><div class="post-translate-heading">Translations</div><p>Envato Tuts+ tutorials are translated into other languages by our community members—you can be involved too!</p><a class="post-translate-button" href="https://getnative.me/?ref=tutsplus&amp;lang=en&amp;url=https://gamedevelopment.tutsplus.com/tutorials/how-to-use-bsp-trees-to-generate-game-maps--gamedev-12268&amp;title=How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps&amp;splitMode=1">Translate this post</a><div class="post-translate-by">Powered by<img class="post-translate-by-image" title="Native" alt="Native logo" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/native-logo-188905b09133591db02b714425a91b0d.png"></div></div><div class="avert--sticky-target tether-target tether-enabled tether-abutted tether-abutted-left tether-out-of-bounds tether-out-of-bounds-bottom tether-element-attached-left tether-target-attached-left tether-element-attached-top tether-target-attached-top"></div></div></div></div></article><footer class="post__footer"><div class="layout__content-with-sidebar"><div class="post__comments" id="post_comments" name="post_comments"><div id="disqus_thread" name="disqus_thread"><iframe id="dsq-app5454" name="dsq-app5454" allowtransparency="true" scrolling="no" tabindex="0" title="Disqus" style="width: 1px !important; min-width: 100% !important; border: medium none !important; overflow: hidden !important; height: 7088px !important;" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/a.html" horizontalscrolling="no" verticalscrolling="no" width="100%" frameborder="0"></iframe></div></div></div><div class="layout__sidebar"><div class="avert"><div class="avert__wrapper"><div class="avert__content" id="div-gpt-1385453399887-0" data-google-query-id="CPPXoMvi4dsCFZTbGAod0LoIKg"><div id="google_ads_iframe_/11757429/hub_gamedev_post_comments_0__container__" style="border: 0pt none; display: inline-block; width: 300px; height: 250px;"><iframe style="border: 0px none; vertical-align: bottom;" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/container_005.html" id="google_ads_iframe_/11757429/hub_gamedev_post_comments_0" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" data-is-safeframe="true" width="300" height="250" frameborder="0"></iframe></div></div><div class="avert__content avert__criteo" id="ctr-1385453399887-0"></div><div class="avert__label">Advertisement</div></div></div></div></footer></main><div class="market-highlight market-highlight--padded-bottom"><div class="market-highlight__heading"><div class="market-highlight__intro">Looking for something to help kick start your next project?</div><div class="market-highlight__title"><a href="https://market.envato.com/?ec_unit=market_highlight">Envato Market</a> has a range of items for sale to help get you started.</div></div><div class="market-highlight__cards"><div class="market-highlight__card"><a href="https://codecanyon.net/category/mobile?ec_unit=market_highlight"><img class="market-highlight__card-image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/mobilegametemplates-64a766b8a4a641f9861e6eb3c748cc7e.png" alt="Mobilegametemplates"><div class="market-highlight__card-content"><div class="market-highlight__card-title">Mobile Game Templates</div><div class="market-highlight__card-description">From $5</div></div></a></div><div class="market-highlight__card"><a href="https://codecanyon.net/category/html5/games?ec_unit=market_highlight"><img class="market-highlight__card-image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/html5games-c05a09d357b5df7edbae736771114b69.png" alt="Html5games"><div class="market-highlight__card-content"><div class="market-highlight__card-title">HTML5 Games</div><div class="market-highlight__card-description">From $4</div></div></a></div><div class="market-highlight__card"><a href="https://codecanyon.net/category/all?ec_unit=market_highlight"><img class="market-highlight__card-image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/game_design_software-da40a3d433ecf36068a021897d58a596.png" alt="Game design software"><div class="market-highlight__card-content"><div class="market-highlight__card-title">Game Design Software</div><div class="market-highlight__card-description">From $2</div></div></a></div><div class="market-highlight__card"><a href="https://graphicriver.net/category/game-assets?ec_unit=market_highlight"><img class="market-highlight__card-image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/gameassets-2f2b36948412b9972eb1926af98270ef.png" alt="Gameassets"><div class="market-highlight__card-content"><div class="market-highlight__card-title">Game Assets</div><div class="market-highlight__card-description">From $2</div></div></a></div></div></div></div><div class="ecosystem-highlight"><div class="ecosystem-highlight__cards"><div class="ecosystem-highlight__card"><a href="https://elements.envato.com/?ec_unit=ecosystem_highlight&amp;utm_campaign=elements_tuts-ecosystem-promo_&amp;utm_medium=promos&amp;utm_source=tutsplus"><img class="ecosystem-highlight__card-image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Elements-9305977198e4b95c6026cd1ea119db7e.png" alt="Elements"><div class="ecosystem-highlight__card-content"><div class="ecosystem-highlight__card-title">Unlimited Downloads<br>From $19/month</div><div class="ecosystem-highlight__card-description">Get access to over 400,000 creative assets on Envato Elements.</div></div></a></div><div class="ecosystem-highlight__card"><a href="https://market.envato.com/?ec_unit=ecosystem_highlight&amp;utm_campaign=elements_tuts-ecosystem-promo_&amp;utm_medium=promos&amp;utm_source=tutsplus"><img class="ecosystem-highlight__card-image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Market-4d23c4a029e4aa3e471d3e0589790fd3.png" alt="Market"><div class="ecosystem-highlight__card-content"><div class="ecosystem-highlight__card-title"> Over 9 Million Digital Assets</div><div class="ecosystem-highlight__card-description"> Everything you need for your next creative project.</div></div></a></div><div class="ecosystem-highlight__card"><a href="https://studio.envato.com/?ec_unit=ecosystem_highlight&amp;utm_campaign=elements_tuts-ecosystem-promo_&amp;utm_medium=promos&amp;utm_source=tutsplus"><img class="ecosystem-highlight__card-image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Studio-fba9deba3eb34df8216192783581bd5e.png" alt="Studio"><div class="ecosystem-highlight__card-content"><div class="ecosystem-highlight__card-title"> Hire a Freelancer</div><div class="ecosystem-highlight__card-description"> Choose from 2,000 professionals ready to do the work for you.</div></div></a></div><div class="ecosystem-highlight__card"><a href="http://community.envato.com/?ec_unit=ecosystem_highlight&amp;utm_campaign=elements_tuts-ecosystem-promo_&amp;utm_medium=promos&amp;utm_source=tutsplus"><img class="ecosystem-highlight__card-image" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/Community-b529ea5430987f090e6ec899d148d8f1.png" alt="Community"><div class="ecosystem-highlight__card-content"><div class="ecosystem-highlight__card-title"> Join the Community</div><div class="ecosystem-highlight__card-description"> Share ideas. Host meetups. Lead discussions. Collaborate.</div></div></a></div></div></div><div class="quick-links view quick-links__collapsed view--loaded"><div class="quick-links__container"><div class="quick-links__title"><div class="quick-links__toggle js-quick-links__toggle"><i class="quick-links__toggle-icon"></i><span class="quick-links__toggle-text">Quick Links</span><span class="quick-links__toggle-subtext">Explore popular categories</span></div></div><div class="quick-links__content"><ul class="quick-links__list"><li class="quick-links__list-title">Web Themes &amp; Templates</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://themeforest.net/category/wordpress">WP Themes</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://themeforest.net/category/site-templates">HTML Templates</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://themeforest.net/category/ecommerce/shopify">Shopify Themes</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://themeforest.net/tags/bootstrap">Bootstrap Themes</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://themeforest.net/free/wordpress-themes">Free WordPress Themes</a></li></ul><ul class="quick-links__list"><li class="quick-links__list-title">Video</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://videohive.net/category/after-effects-project-files">After Effects Templates</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://videohive.net/category/apple-motion-templates">Apple Motion Templates</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://videohive.net/tags/effects">Video Effects</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://videohive.net/category/motion-graphics/lower-thirds">Lower Thirds</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://videohive.net/category/stock-footage">Stock Footage</a></li></ul><ul class="quick-links__list"><li class="quick-links__list-title">Audio</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://audiojungle.net/category/music">Royalty Free Music</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://audiojungle.net/category/sound">Sound Effects</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://audiojungle.net/popular_item/by_category?category=music">Best Selling Royalty Free Music</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://audiojungle.net/category/source-files/logic-pro">Logic Pro Files</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://audiojungle.net/tags/background">Background Music</a></li></ul><ul class="quick-links__list"><li class="quick-links__list-title">Code</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://codecanyon.net/category/wordpress">WordPress Plugins</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://codecanyon.net/category/php-scripts">PHP Script</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://codecanyon.net/category/javascript">JavaScript</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://codecanyon.net/category/css">CSS Templates</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://codecanyon.net/category/plugins/prestashop">PrestaShop Plugins</a></li></ul><ul class="quick-links__list"><li class="quick-links__list-title">Graphics</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://graphicriver.net/category/logo-templates">Logo Templates</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://graphicriver.net/category/print-templates/business-cards">Business Card Templates</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://graphicriver.net/category/add-ons/lightroom-presets">Lightroom Presets</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://graphicriver.net/category/fonts/serif">Serif Fonts</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://graphicriver.net/category/fonts/sans-serif">Sans-serif Fonts</a></li></ul><ul class="quick-links__list"><li class="quick-links__list-title">Photos</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://photodune.net/tags/food">Food Stock Photos</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://photodune.net/tags/animals">Animal Stock Photos</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://photodune.net/tags/technology">Tech Stock Photos</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://photodune.net/tags/fitness,sports#content">Fitness Stock Photos</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://photodune.net/tags/nature,travel#content">Nature Stock Photos</a></li></ul><ul class="quick-links__list"><li class="quick-links__list-title">3D Files</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://3docean.net/category/3d-models">3D Renders</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://3docean.net/category/3d-models/vehicles/land/cars">3D  Car Models</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://3docean.net/category/materials-and-shaders">3D Shaders</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://3docean.net/category/cg-textures">CG Textures</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://3docean.net/search?file_formats=obj">OBJ Files</a></li></ul><ul class="quick-links__list"><li class="quick-links__list-title">Websites</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://envato.com/websites/retail-website-designs">Online Store Designs</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://envato.com/websites/designs">WordPress Website Designs</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://envato.com/websites/personal-website-designs">Personal Websites</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://envato.com/websites/designs/tagged-photography">Photography Websites</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://envato.com/websites/designs/function-portfolio">Portfolio Websites</a></li></ul><ul class="quick-links__list"><li class="quick-links__list-title">Elements</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://elements.envato.com/wordpress/themes">WordPress Themes</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://elements.envato.com/photos">Stock Images</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://elements.envato.com/web-templates/site-templates">Website Templates</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://elements.envato.com/graphic-templates/logos">Logos</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://elements.envato.com/fonts">Fonts</a></li></ul><ul class="quick-links__list"><li class="quick-links__list-title">Tuts+</li><li class="quick-links__list-item"><a class="quick-links__link" href="https://code.tutsplus.com/">Learn Code</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://design.tutsplus.com/tutorials">Learn Graphic Design</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://business.tutsplus.com/tutorials">Learn Business</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://photography.tutsplus.com/categories/photography">Learn Photography</a></li><li class="quick-links__list-item"><a class="quick-links__link" href="https://code.tutsplus.com/ebooks/search/Cryptocurrencies">CryptoCurrency Tutorials &amp; Ebooks</a></li></ul></div></div></div><footer class="page-footer view view--loaded"><div class="page-footer__content"><div class="page-footer__links-column"><div class="page-footer__section page-footer__section--first"><div class="page-footer__heading">Envato Tuts+</div><a class="page-footer__links-column-expansion-link" href="javascript:void(0);"><span class="page-footer__links-column-expansion-link-expand-text"><i class="fa fa-plus page-footer__links-column-link-icon"></i></span><span class="page-footer__links-column-expansion-link-collapse-text"><i class="fa fa-minus page-footer__links-column-link-icon"></i></span></a><div class="page-footer__item"><a class="page-footer__link" href="https://tutsplus.com/about">About Envato Tuts+</a></div><div class="page-footer__item"><a class="page-footer__link" href="https://tutsplus.com/terms-of-use">Terms of Use</a></div><div class="page-footer__item"><a class="page-footer__link" href="https://tutsplus.com/advertise">Advertise</a></div></div></div><div class="page-footer__links-column"><div class="page-footer__section page-footer__section--first"><div class="page-footer__heading">Join our Community</div><a class="page-footer__links-column-expansion-link" href="javascript:void(0);"><span class="page-footer__links-column-expansion-link-expand-text"><i class="fa fa-plus page-footer__links-column-link-icon"></i></span><span class="page-footer__links-column-expansion-link-collapse-text"><i class="fa fa-minus page-footer__links-column-link-icon"></i></span></a><div class="page-footer__item"><a class="page-footer__link" href="https://tutsplus.com/teach">Teach at Envato Tuts+</a></div><div class="page-footer__item"><a class="page-footer__link" href="https://tutsplus.com/translate-for-us">Translate for Envato Tuts+</a></div><div class="page-footer__item"><a class="page-footer__link" href="https://forums.envato.com/c/project-making/envato-courses-and-tutorials">Forums</a></div></div></div><div class="page-footer__links-column"><div class="page-footer__section page-footer__section--first"><div class="page-footer__heading">Help</div><a class="page-footer__links-column-expansion-link" href="javascript:void(0);"><span class="page-footer__links-column-expansion-link-expand-text"><i class="fa fa-plus page-footer__links-column-link-icon"></i></span><span class="page-footer__links-column-expansion-link-collapse-text"><i class="fa fa-minus page-footer__links-column-link-icon"></i></span></a><div class="page-footer__item"><a class="page-footer__link" href="https://help.elements.envato.com/hc/en-us/categories/360000070683%E2%80%9D">FAQ</a></div><div class="page-footer__item"><a class="page-footer__link" href="https://help.elements.envato.com/">Help Center</a></div></div></div><div class="page-footer__links-column page-footer__links-last-column"><div class="page-footer__tuts-brand"><img alt="envato-tuts+" class="page-footer__tuts-logo-image tuts-logo" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/tuts_logo-d1e8438b9f80a8e589ff4e0a071c7f4a.svg"><div class="page-footer__counts"><div class="page-footer__count-item"><div class="page-footer__count-value">26,097</div><div class="page-footer__count-label">Tutorials</div></div><div class="page-footer__count-item"><div class="page-footer__count-value">1,140</div><div class="page-footer__count-label">Courses</div></div><div class="page-footer__count-item"><div class="page-footer__count-value">24,408</div><div class="page-footer__count-label">Translations</div></div></div></div></div></div><div class="page-footer__envato-bar"><div class="page-footer__envato-bar-content"><div class="page-footer__envato-bar-content-left-column"><ul class="page-footer__envato-bar-links"><li class="page-footer__envato-bar-link-item"><a class="page-footer__envato-bar-link" href="https://envato.com/">Envato.com</a></li><li class="page-footer__envato-bar-link-item"><a class="page-footer__envato-bar-link" href="https://envato.com/#products">Our products</a></li><li class="page-footer__envato-bar-link-item"><a class="page-footer__envato-bar-link" href="https://envato.com/careers">Careers</a></li><li class="page-footer__envato-bar-link-item"><a class="page-footer__envato-bar-link" href="https://envato.com/sitemap">Sitemap</a></li></ul><div class="page-footer__copyright">© 2018 Envato Pty Ltd. Trademarks and brands are the property of their respective owners.</div></div><div class="page-footer__envato-bar-content-right-column"><ul class="page-footer__follow-us"><li class="page-footer__follow-us-element">Follow Envato Tuts+</li><li class="page-footer__follow-us-element"><a class="page-footer__social-link page-footer__facebook-link" href="https://www.facebook.com/tutsplus"></a></li><li class="page-footer__follow-us-element"><a class="page-footer__social-link page-footer__twitter-link" href="https://twitter.com/tutsplus"></a></li><li class="page-footer__follow-us-element"><a class="page-footer__social-link page-footer__googleplus-link" href="https://plus.google.com/108971748263060947124/posts"></a></li><li class="page-footer__follow-us-element"><a class="page-footer__social-link page-footer__pinterest-link" href="https://www.pinterest.com/tutsplus/"></a></li></ul></div></div></div></footer>

<noscript>
  <div style="display:inline;">
    <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/943617023/?value=0&amp;guid=ON&amp;script=0"/>
  </div>
</noscript>
<div data-tether-id="1" style="top: 0px; left: 0px; position: absolute;"></div><div class="avert--sticky tether-element tether-enabled tether-abutted tether-abutted-left tether-out-of-bounds tether-out-of-bounds-bottom tether-element-attached-left tether-target-attached-left tether-element-attached-top tether-target-attached-top" style="top: 0px; left: 0px; position: absolute; transform: translateX(685px) translateY(2002px) translateZ(0px);"><div class="avert"><div class="avert__wrapper"><div class="avert__content" id="div-gpt-1385453414394-0" data-google-query-id="CNL84Mri4dsCFcSaGAodWhcOmw"><div id="google_ads_iframe_/11757429/hub_gamedev_post_mid_0__container__" style="border: 0pt none; display: inline-block; width: 300px; height: 600px;"><iframe style="border: 0px none; vertical-align: bottom;" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/container_005.html" id="google_ads_iframe_/11757429/hub_gamedev_post_mid_0" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" data-is-safeframe="true" width="300" height="600" frameborder="0"></iframe></div></div><div class="avert__content avert__criteo" id="ctr-1385453414394-0"></div><div class="avert__label">Advertisement</div></div></div><div class="free-trial-highlight green"><img alt="envato-tuts+" class="free-trial-highlight__logo" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/tuts_logo-d1e8438b9f80a8e589ff4e0a071c7f4a.svg"><div class="free-trial-highlight__header"><div class="free-trial-highlight__line-one"><span class="free-trial-highlight__text">Watch</span> <span class="free-trial-highlight__highlight-text">any</span></div><div class="free-trial-highlight__line-two"><span class="free-trial-highlight__text">course now</span> </div></div><a href="https://tutsplus.com/subscription_sign_up/monthly?ec_unit=sidebar-sticky"><div class="free-trial-highlight__action"><div class="free-trial-highlight__action-text">Subscribe to Access</div><div class="free-trial-highlight__action-button"><span class="fa fa-angle-right"></span></div></div></a></div></div><iframe style="display: none;"></iframe><iframe scrolling="no" allowtransparency="true" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/widget_iframe.html" title="Twitter settings iframe" style="display: none;" frameborder="0"></iframe><iframe id="18a4682fb4ba52d8" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/async_usersync_003.html" width="0" height="0" frameborder="0"></iframe><iframe id="188a9284c8b8c418" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/async_usersync_003.html" width="0" height="0" frameborder="0"></iframe><iframe id="196bbb91b862df08" marginwidth="0" marginheight="0" style="border: 0px none; display: none;" scrolling="no" src="How%20to%20Use%20BSP%20Trees%20to%20Generate%20Game%20Maps_tiedostot/async_usersync_003.html" width="0" height="0" frameborder="0"></iframe><iframe id="google_osd_static_frame_8771769448213" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe><iframe id="rufous-sandbox" scrolling="no" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: medium none;" title="Twitter analytics iframe" frameborder="0"></iframe></body></html>